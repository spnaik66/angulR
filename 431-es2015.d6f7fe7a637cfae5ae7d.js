(self.webpackChunkschool_ang_proj=self.webpackChunkschool_ang_proj||[]).push([[431],{15431:function(t,e,i){"use strict";i.r(e),i.d(e,{ContractManagementModule:function(){return $t}});var o=i(61116),n=i(47635);let r=(()=>{class t{}return t.breadCrumbLinkItems=[{label:"Panel",link:"/contract-management"}],t.ContactsListRoute="/contract-management/contacts",t.listMessageFormatsRoute="/contract-management/msg-formats",t})();var a=i(11462),s=i(87368),l=i(42693),d=i(17145);let c=(()=>{class t{constructor(t){this._httpClient=t,this.url=d.A.CONTRACT_CONTACTS}sIndex(){return this._httpClient.get(this.url)}sStore(t){let e=Object.assign({},t);return this._httpClient.post(this.url,e)}sShow(t){return this._httpClient.get(this.url+"/"+t)}sUpdate(t,e){return this._httpClient.patch(this.url+"/"+t,e)}sDelete(t){return this._httpClient.delete(this.url+"/"+t)}sSendNotifications(t){return this._httpClient.get(this.url+"/"+t)}upload(t){const e=new FormData;e.append("file",t);const i=new l.aW("POST",`${this.url}/bulk-import`,e,{reportProgress:!0,responseType:"json"});return this._httpClient.request(i)}}return t.\u0275fac=function(e){return new(e||t)(s.LFG(l.eN))},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var u=i(89264),p=i(80570),m=i(23458),Z=i(12937),g=i(98911),h=i(15842),f=i(32370),b=i(22041);function q(t,e){1&t&&s._UZ(0,"v-loader")}function A(t,e){1&t&&(s.TgZ(0,"p"),s._uU(1," phoneNumber is Required "),s.qZA())}function T(t,e){1&t&&(s.TgZ(0,"p"),s._uU(1," email is Required "),s.qZA())}function v(t,e){1&t&&(s.TgZ(0,"p"),s._uU(1," purposeOfContract is Required "),s.qZA())}function C(t,e){1&t&&(s.TgZ(0,"p"),s._uU(1," startDate is Required "),s.qZA())}function _(t,e){1&t&&(s.TgZ(0,"p"),s._uU(1," endDate is Required "),s.qZA())}function x(t,e){1&t&&(s.TgZ(0,"p"),s._uU(1," Note is Required "),s.qZA())}let U=(()=>{class t{constructor(t,e,i,o){this._contractContactService=t,this._router=e,this._formBuilder=i,this._activatedRoute=o,this.isSubmitted=!1,this.title=" Contracts",this.backLink="/contract-management/contacts",this.breadCrumbLinkItems=r.breadCrumbLinkItems,this.addForm=this._formBuilder.group({name:["contract1",a.kI.required],middleName:[null,a.kI.required],surname:[null,a.kI.required],email:[null,a.kI.required],phoneNumber:[null,a.kI.required],facebook:[null,a.kI.required],linkdin:[null,a.kI.required],purposeOfContract:[null,a.kI.required],startDate:[null,a.kI.required],endDate:[null,a.kI.required],note:[null,a.kI.required]}),this.selectedId=this._activatedRoute.snapshot.params.id,this.loadData(this.selectedId)}ngOnInit(){}get fCtrls(){return this.addForm.controls}loadData(t){this.isSubmitted=!0,this._contractContactService.sShow(t).subscribe(t=>{t&&t.data&&(console.log("res.data:===",t.data),this.addForm.patchValue(Object.assign({},t.data))),this.isSubmitted=!1},t=>{console.log("Error !"),this.isSubmitted=!1})}onUpdate(){console.log(this.addForm.value),this.isSubmitted=!0,this._contractContactService.sUpdate(this.selectedId,this.addForm.value).subscribe(t=>{this.isSubmitted=!1,this._router.navigateByUrl("/contacts")},t=>{this.isSubmitted=!1})}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(c),s.Y36(u.F0),s.Y36(a.qu),s.Y36(u.gz))},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-view-contract-contacts"]],decls:60,vars:16,consts:[[4,"ngIf"],[1,"wrapper"],[1,"content-wrapper"],[3,"title","canshowBreadCrumb","breadCrumbLinkItems"],[1,"content"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"card-tools"],["actionType","back",3,"link"],[1,"card-body"],[3,"formGroup"],[1,"row"],[1,"col-md-6"],["fCtrlName","name","label","First Name","isReadonly","true'",3,"fGroup"],["fCtrlName","middleName","label","Middle Name","isReadonly","true'",3,"fGroup"],["fCtrlName","surname","label","Last Name","isReadonly","true'",3,"fGroup"],[1,"form-group"],["for","exampleInputEmail1"],["type","text","id","exampleInputEmail1","aria-describedby","emailHelp","formControlName","phoneNumber","readonly","",1,"form-control"],["type","text","id","exampleInputEmail1","aria-describedby","emailHelp","formControlName","email","readonly","",1,"form-control"],["type","text","id","exampleInputEmail1","aria-describedby","emailHelp","formControlName","purposeOfContract","readonly","",1,"form-control"],["type","date","id","exampleInputEmail1","aria-describedby","emailHelp","formControlName","startDate","readonly","",1,"form-control"],["type","date","id","exampleInputEmail1","aria-describedby","emailHelp","formControlName","endDate","readonly","",1,"form-control"],[1,"col-md-12"],["id","exampleInputEmail1","aria-describedby","emailHelp","formControlName","note","rows","3","readonly","",1,"form-control"],[1,"card-footer","text-right"]],template:function(t,e){1&t&&(s.YNc(0,q,1,0,"v-loader",0),s.TgZ(1,"div",1),s._UZ(2,"app-header"),s._UZ(3,"app-sidebar"),s.TgZ(4,"div",2),s._UZ(5,"app-content-header",3),s.TgZ(6,"section",4),s.TgZ(7,"div",5),s.TgZ(8,"div",6),s.TgZ(9,"h3",7),s._uU(10),s.qZA(),s.TgZ(11,"div",8),s._UZ(12,"v-btn",9),s.qZA(),s.qZA(),s.TgZ(13,"div",10),s.TgZ(14,"form",11),s.TgZ(15,"div",12),s.TgZ(16,"div",13),s._UZ(17,"app-v-input-full",14),s.qZA(),s.TgZ(18,"div",13),s._UZ(19,"app-v-input-full",15),s.qZA(),s.TgZ(20,"div",13),s._UZ(21,"app-v-input-full",16),s.qZA(),s.TgZ(22,"div",13),s.TgZ(23,"div",17),s.TgZ(24,"label",18),s._uU(25,"PhoneNumber"),s.qZA(),s._UZ(26,"input",19),s.YNc(27,A,2,0,"p",0),s.qZA(),s.qZA(),s.TgZ(28,"div",13),s.TgZ(29,"div",17),s.TgZ(30,"label",18),s._uU(31,"Email"),s.qZA(),s._UZ(32,"input",20),s.YNc(33,T,2,0,"p",0),s.qZA(),s.qZA(),s.TgZ(34,"div",13),s.TgZ(35,"div",17),s.TgZ(36,"label",18),s._uU(37,"Purpose Of Contract"),s.qZA(),s._UZ(38,"input",21),s.YNc(39,v,2,0,"p",0),s.qZA(),s.qZA(),s.TgZ(40,"div",13),s.TgZ(41,"div",17),s.TgZ(42,"label",18),s._uU(43,"Start Date"),s.qZA(),s._UZ(44,"input",22),s.YNc(45,C,2,0,"p",0),s.qZA(),s.qZA(),s.TgZ(46,"div",13),s.TgZ(47,"div",17),s.TgZ(48,"label",18),s._uU(49,"End Date"),s.qZA(),s._UZ(50,"input",23),s.YNc(51,_,2,0,"p",0),s.qZA(),s.qZA(),s.TgZ(52,"div",24),s.TgZ(53,"div",17),s.TgZ(54,"label",18),s._uU(55,"Note"),s.qZA(),s._UZ(56,"textarea",25),s.YNc(57,x,2,0,"p",0),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s._UZ(58,"div",26),s.qZA(),s.qZA(),s.qZA(),s._UZ(59,"app-footer"),s.qZA()),2&t&&(s.Q6J("ngIf",e.isSubmitted),s.xp6(5),s.Q6J("title",e.title)("canshowBreadCrumb",!0)("breadCrumbLinkItems",e.breadCrumbLinkItems),s.xp6(5),s.hij("View ",e.title,""),s.xp6(2),s.Q6J("link",e.backLink),s.xp6(2),s.Q6J("formGroup",e.addForm),s.xp6(3),s.Q6J("fGroup",e.addForm),s.xp6(2),s.Q6J("fGroup",e.addForm),s.xp6(2),s.Q6J("fGroup",e.addForm),s.xp6(6),s.Q6J("ngIf",e.fCtrls.phoneNumber.dirty&&e.fCtrls.phoneNumber.invalid),s.xp6(6),s.Q6J("ngIf",e.fCtrls.email.dirty&&e.fCtrls.email.invalid),s.xp6(6),s.Q6J("ngIf",e.fCtrls.purposeOfContract.dirty&&e.fCtrls.purposeOfContract.invalid),s.xp6(6),s.Q6J("ngIf",e.fCtrls.startDate.dirty&&e.fCtrls.startDate.invalid),s.xp6(6),s.Q6J("ngIf",e.fCtrls.endDate.dirty&&e.fCtrls.endDate.invalid),s.xp6(6),s.Q6J("ngIf",e.fCtrls.note.dirty&&e.fCtrls.note.invalid))},directives:[o.O5,p.G,m.k,Z.e,g.K,a._Y,a.JL,a.sg,h.a,a.Fj,a.JJ,a.u,f.c,b.O],styles:[""]}),t})();var k=i(85907);function S(t,e){1&t&&s._UZ(0,"v-loader")}let N=(()=>{class t{constructor(t,e){this._contractContactService=t,this._router=e,this.isSubmitted=!1,this.title=" Bulk Import Contacts",this.backLink="/contract-management/contacts"}ngOnInit(){}selectFiles(t,e){this.fileRef=e,this.selectedFiles=t.target.files}upload(t,e){console.log("file:",e),this.fileUploadService$=this._contractContactService.upload(e),this.fileUploadService$.subscribe(t=>{t.type===l.dt.UploadProgress?console.log("Uploading:"):t.type===l.dt.Response&&(console.log("succ:"),this.fileRef.value="",k.success("Data imported successfuly","Success !"),this.isSubmitted=!1)},t=>{console.log("err:",t),k.error("Data imported failed","Error !"),this.isSubmitted=!1})}uploadFiles(){for(let t=0;t<this.selectedFiles.length;t++)this.upload(t,this.selectedFiles[t])}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(c),s.Y36(u.F0))},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-bulk-import-contract-contacts"]],decls:40,vars:5,consts:[[4,"ngIf"],[1,"wrapper"],[1,"content-wrapper"],[1,"content-header"],[1,"container-fluid"],[1,"row","mb-2"],[1,"col-sm-6"],[1,"breadcrumb","float-sm-right"],[1,"breadcrumb-item"],["href","#"],[1,"breadcrumb-item","active"],[1,"content"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"card-tools"],["actionType","back",3,"link"],[1,"card-body"],["href","assets/sample-bulk-import-contacts.xlsx","download",""],[1,"row"],[1,"col-md-6"],[1,"form-group"],["for","exampleInputEmail1"],["type","file",1,"form-control",3,"change"],["file",""],[1,"card-footer","text-right"],["type","button",1,"btn","btn-primary",3,"disabled","click"]],template:function(t,e){if(1&t){const t=s.EpF();s.YNc(0,S,1,0,"v-loader",0),s.TgZ(1,"div",1),s._UZ(2,"app-header"),s._UZ(3,"app-sidebar"),s.TgZ(4,"div",2),s.TgZ(5,"section",3),s.TgZ(6,"div",4),s.TgZ(7,"div",5),s.TgZ(8,"div",6),s.TgZ(9,"h1"),s._uU(10),s.qZA(),s.qZA(),s.TgZ(11,"div",6),s.TgZ(12,"ol",7),s.TgZ(13,"li",8),s.TgZ(14,"a",9),s._uU(15,"Home"),s.qZA(),s.qZA(),s.TgZ(16,"li",10),s._uU(17,"Blank Page"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(18,"section",11),s.TgZ(19,"div",12),s.TgZ(20,"div",13),s.TgZ(21,"h3",14),s._uU(22),s.qZA(),s.TgZ(23,"div",15),s._UZ(24,"v-btn",16),s.qZA(),s.qZA(),s.TgZ(25,"div",17),s.TgZ(26,"a",18),s._uU(27,"Download Sample File Here"),s.qZA(),s._UZ(28,"br"),s.TgZ(29,"div",19),s.TgZ(30,"div",20),s.TgZ(31,"div",21),s.TgZ(32,"label",22),s._uU(33,"Select Excel file"),s.qZA(),s.TgZ(34,"input",23,24),s.NdJ("change",function(i){s.CHM(t);const o=s.MAs(35);return e.selectFiles(i,o)}),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(36,"div",25),s.TgZ(37,"button",26),s.NdJ("click",function(){return e.uploadFiles()}),s._uU(38,"Submit"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s._UZ(39,"app-footer"),s.qZA()}2&t&&(s.Q6J("ngIf",e.isSubmitted),s.xp6(10),s.Oqu(e.title),s.xp6(12),s.hij("Add ",e.title,""),s.xp6(2),s.Q6J("link",e.backLink),s.xp6(13),s.Q6J("disabled",!e.selectedFiles))},directives:[o.O5,p.G,m.k,g.K,f.c,b.O],styles:[""]}),t})(),I=(()=>{class t{constructor(t){this._httpClient=t,this.url=d.A.CONTRACT_MSG_FORMATS}sIndex(){return this._httpClient.get(this.url)}sStore(t){let e=Object.assign({},t);return this._httpClient.post(this.url,e)}sShow(t){return this._httpClient.get(this.url+"/"+t)}sUpdate(t,e){return this._httpClient.patch(this.url+"/"+t,e)}sDelete(t){return this._httpClient.delete(this.url+"/"+t)}}return t.\u0275fac=function(e){return new(e||t)(s.LFG(l.eN))},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function y(t,e){1&t&&s._UZ(0,"v-loader")}function F(t,e){1&t&&(s.TgZ(0,"p"),s._uU(1," Message is Required "),s.qZA())}let O=(()=>{class t{constructor(t,e,i){this._contractMsgFomratService=t,this._router=e,this._formBuilder=i,this.isSubmitted=!1,this.title=" Format Messages",this.indexRedirect="/contract-management/msg-formats",this.addForm=this._formBuilder.group({name:[null,a.kI.required],message:[null,a.kI.required]})}ngOnInit(){}get fCtrls(){return this.addForm.controls}onSubmit(){console.log(this.addForm.value),this.isSubmitted=!0,this._contractMsgFomratService.sStore(this.addForm.value).subscribe(t=>{this.isSubmitted=!1,this._router.navigateByUrl(this.indexRedirect)},t=>{this.isSubmitted=!1})}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(I),s.Y36(u.F0),s.Y36(a.qu))},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-add-contract-msg-formats"]],decls:40,vars:9,consts:[[4,"ngIf"],[1,"wrapper"],[1,"content-wrapper"],[1,"content-header"],[1,"container-fluid"],[1,"row","mb-2"],[1,"col-sm-6"],[1,"breadcrumb","float-sm-right"],[1,"breadcrumb-item"],["href","#"],[1,"breadcrumb-item","active"],[1,"content"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"card-tools"],["actionType","back",3,"link"],[1,"card-body"],[3,"formGroup"],[1,"row"],[1,"col-md-12"],["fCtrlName","name",3,"label","fGroup"],[1,"form-group"],["for","exampleInputEmail1"],["type","text","id","exampleInputEmail1","aria-describedby","emailHelp","formControlName","message",1,"form-control"],[1,"card-footer","text-right"],["type","button",1,"btn","btn-primary",3,"disabled","click"]],template:function(t,e){1&t&&(s.YNc(0,y,1,0,"v-loader",0),s.TgZ(1,"div",1),s._UZ(2,"app-header"),s._UZ(3,"app-sidebar"),s.TgZ(4,"div",2),s.TgZ(5,"section",3),s.TgZ(6,"div",4),s.TgZ(7,"div",5),s.TgZ(8,"div",6),s.TgZ(9,"h1"),s._uU(10),s.qZA(),s.qZA(),s.TgZ(11,"div",6),s.TgZ(12,"ol",7),s.TgZ(13,"li",8),s.TgZ(14,"a",9),s._uU(15,"Home"),s.qZA(),s.qZA(),s.TgZ(16,"li",10),s._uU(17,"Blank Page"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(18,"section",11),s.TgZ(19,"div",12),s.TgZ(20,"div",13),s.TgZ(21,"h3",14),s._uU(22),s.qZA(),s.TgZ(23,"div",15),s._UZ(24,"v-btn",16),s.qZA(),s.qZA(),s.TgZ(25,"div",17),s.TgZ(26,"form",18),s.TgZ(27,"div",19),s.TgZ(28,"div",20),s._UZ(29,"app-v-input-full",21),s.qZA(),s.TgZ(30,"div",20),s.TgZ(31,"div",22),s.TgZ(32,"label",23),s._uU(33,"Message"),s.qZA(),s._UZ(34,"input",24),s.YNc(35,F,2,0,"p",0),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(36,"div",25),s.TgZ(37,"button",26),s.NdJ("click",function(){return e.onSubmit()}),s._uU(38,"Submit"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s._UZ(39,"app-footer"),s.qZA()),2&t&&(s.Q6J("ngIf",e.isSubmitted),s.xp6(10),s.Oqu(e.title),s.xp6(12),s.hij("Add ",e.title,""),s.xp6(2),s.Q6J("link",e.indexRedirect),s.xp6(2),s.Q6J("formGroup",e.addForm),s.xp6(3),s.Q6J("label","Name")("fGroup",e.addForm),s.xp6(6),s.Q6J("ngIf",e.fCtrls.message.dirty&&e.fCtrls.message.invalid),s.xp6(2),s.Q6J("disabled",!e.addForm.valid))},directives:[o.O5,p.G,m.k,g.K,a._Y,a.JL,a.sg,h.a,a.Fj,a.JJ,a.u,f.c,b.O],styles:[""]}),t})();function J(t,e){1&t&&s._UZ(0,"v-loader")}function w(t,e){1&t&&(s.TgZ(0,"p"),s._uU(1," Message is Required "),s.qZA())}let L=(()=>{class t{constructor(t,e,i,o){this._contractMsgFomratService=t,this._router=e,this._formBuilder=i,this._activatedRoute=o,this.isSubmitted=!1,this.title=" Announcements",this.breadCrumbLinkItems=r.breadCrumbLinkItems,this.listMessageFormatsRoute=r.listMessageFormatsRoute,this.addForm=this._formBuilder.group({name:[null,a.kI.required],message:[null,a.kI.required]}),this.selectedId=this._activatedRoute.snapshot.params.id,this.loadData(this.selectedId)}ngOnInit(){}get fCtrls(){return this.addForm.controls}loadData(t){this.isSubmitted=!0,this._contractMsgFomratService.sShow(t).subscribe(t=>{t&&t.data&&(console.log("res.data:===",t.data),this.addForm.patchValue(Object.assign({},t.data))),this.isSubmitted=!1},t=>{console.log("Error !"),this.isSubmitted=!1})}onUpdate(){console.log(this.addForm.value),this.isSubmitted=!0,this._contractMsgFomratService.sUpdate(this.selectedId,this.addForm.value).subscribe(t=>{this.isSubmitted=!1,this._router.navigateByUrl(this.listMessageFormatsRoute)},t=>{this.isSubmitted=!1})}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(I),s.Y36(u.F0),s.Y36(a.qu),s.Y36(u.gz))},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-edit-contract-msg-formats"]],decls:28,vars:11,consts:[[4,"ngIf"],[1,"wrapper"],[1,"content-wrapper"],[3,"title","canshowBreadCrumb","breadCrumbLinkItems"],[1,"content"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"card-tools"],["actionType","back",3,"link"],[1,"card-body"],[3,"formGroup"],[1,"row"],[1,"col-md-12"],["fCtrlName","name",3,"label","fGroup"],[1,"form-group"],["for","exampleInputEmail1"],["type","text","id","exampleInputEmail1","aria-describedby","emailHelp","formControlName","message",1,"form-control"],[1,"card-footer","text-right"],["type","button",1,"btn","btn-primary",3,"disabled","click"]],template:function(t,e){1&t&&(s.YNc(0,J,1,0,"v-loader",0),s.TgZ(1,"div",1),s._UZ(2,"app-header"),s._UZ(3,"app-sidebar"),s.TgZ(4,"div",2),s._UZ(5,"app-content-header",3),s.TgZ(6,"section",4),s.TgZ(7,"div",5),s.TgZ(8,"div",6),s.TgZ(9,"h3",7),s._uU(10),s.qZA(),s.TgZ(11,"div",8),s._UZ(12,"v-btn",9),s.qZA(),s.qZA(),s.TgZ(13,"div",10),s.TgZ(14,"form",11),s.TgZ(15,"div",12),s.TgZ(16,"div",13),s._UZ(17,"app-v-input-full",14),s.qZA(),s.TgZ(18,"div",13),s.TgZ(19,"div",15),s.TgZ(20,"label",16),s._uU(21,"Message"),s.qZA(),s._UZ(22,"input",17),s.YNc(23,w,2,0,"p",0),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(24,"div",18),s.TgZ(25,"button",19),s.NdJ("click",function(){return e.onUpdate()}),s._uU(26,"Update"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s._UZ(27,"app-footer"),s.qZA()),2&t&&(s.Q6J("ngIf",e.isSubmitted),s.xp6(5),s.Q6J("title",e.title)("canshowBreadCrumb",!0)("breadCrumbLinkItems",e.breadCrumbLinkItems),s.xp6(5),s.hij("Edit ",e.title,""),s.xp6(2),s.Q6J("link","/contact-management/announcements"),s.xp6(2),s.Q6J("formGroup",e.addForm),s.xp6(3),s.Q6J("label","Name")("fGroup",e.addForm),s.xp6(6),s.Q6J("ngIf",e.fCtrls.message.dirty&&e.fCtrls.message.invalid),s.xp6(2),s.Q6J("disabled",!e.addForm.valid))},directives:[o.O5,p.G,m.k,Z.e,g.K,a._Y,a.JL,a.sg,h.a,a.Fj,a.JJ,a.u,f.c,b.O],styles:[""]}),t})();var Q=i(99713),D=i(71397),M=i(86659),Y=i(83559),E=i(53647);function R(t,e){1&t&&s._UZ(0,"v-loader")}function B(t,e){if(1&t&&(s.TgZ(0,"th",16),s._uU(1),s.qZA()),2&t){const t=e.$implicit;s.xp6(1),s.Oqu(t)}}const G=function(t,e){return[t,e,"edit"]};function P(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"tr"),s.TgZ(1,"td"),s._uU(2),s.qZA(),s.TgZ(3,"td"),s._uU(4),s.qZA(),s.TgZ(5,"td"),s._uU(6),s.qZA(),s.TgZ(7,"td"),s._UZ(8,"v-btn",17),s.TgZ(9,"v-btn",18),s.NdJ("actionEvent",function(e){return s.CHM(t),s.oxw().delete(e)}),s.qZA(),s.qZA(),s.qZA()}if(2&t){const t=e.$implicit,i=e.index,o=s.oxw();s.xp6(2),s.Oqu(i+1),s.xp6(2),s.Oqu(t.name),s.xp6(2),s.Oqu(t.message),s.xp6(2),s.Q6J("link",s.WLB(5,G,o.editLink,t._id)),s.xp6(1),s.Q6J("actionValue",t._id)}}let H=(()=>{class t{constructor(t){this._contractMsgFomratService=t,this.isSubmitted=!1,this.title="MessageFormats",this.thCols=["Id","Name",null,"Actions"],this.breadCrumbLinkItems=E.J.breadCrumbLinkItems,this.addLink="/contract-management/msg-formats/create",this.editLink="/contract-management/msg-formats",this.list=[],this.dtOptions={},this.dtTrigger=new Y.xQ,this.showAddForm=!1}ngOnInit(){this.index(),this.dtOptions=D.Z.options}index(){this.isSubmitted=!0,this.list=[],this._contractMsgFomratService.sIndex().subscribe(t=>{t&&t.data&&t.data.length&&(this.list=t.data),this.isSubmitted=!1},t=>{console.log("Error !"),k.error("No data found","Error !"),this.isSubmitted=!1})}edit(){}delete(t){console.log("e:",t),this.isSubmitted=!0,this._contractMsgFomratService.sDelete(t).subscribe(t=>{console.log("res:",t),this.isSubmitted=!1,this.index(),M.Z.showSweetAlert("Deleted Successfully",!1)},t=>{console.log("err:",t),M.Z.showSweetAlert(t.error.message,!1),this.isSubmitted=!1})}onShowAddForm(){this.showAddForm=!this.showAddForm}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(I))},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-list-contract-msg-formats"]],decls:22,vars:9,consts:[[4,"ngIf"],[1,"wrapper"],[1,"content-wrapper"],[3,"title","canshowBreadCrumb","breadCrumbLinkItems"],[1,"content"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"card-tools"],["actionType","add",3,"link"],[1,"card-body"],[1,"table-responsive"],[1,"table","table-striped","table-bordered","compact","table-sm"],[1,"bg-info"],["scope","col",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],["scope","col"],["actionType","edit",3,"link"],["actionType","deleteclick",3,"actionValue","actionEvent"]],template:function(t,e){1&t&&(s.YNc(0,R,1,0,"v-loader",0),s.TgZ(1,"div",1),s._UZ(2,"app-header"),s._UZ(3,"app-sidebar"),s.TgZ(4,"div",2),s._UZ(5,"app-content-header",3),s.TgZ(6,"section",4),s.TgZ(7,"div",5),s.TgZ(8,"div",6),s.TgZ(9,"h3",7),s._uU(10),s.qZA(),s.TgZ(11,"div",8),s._UZ(12,"v-btn",9),s.qZA(),s.qZA(),s.TgZ(13,"div",10),s.TgZ(14,"div",11),s.TgZ(15,"table",12),s.TgZ(16,"thead",13),s.TgZ(17,"tr"),s.YNc(18,B,2,1,"th",14),s.qZA(),s.qZA(),s.TgZ(19,"tbody"),s.YNc(20,P,10,8,"tr",15),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s._UZ(21,"app-footer"),s.qZA()),2&t&&(s.Q6J("ngIf",e.isSubmitted),s.xp6(5),s.Q6J("title",e.title)("canshowBreadCrumb",!0)("breadCrumbLinkItems",e.breadCrumbLinkItems),s.xp6(1),s.Q6J("@slideFromRight",void 0),s.xp6(4),s.hij(" List ",e.title,""),s.xp6(2),s.Q6J("link",e.addLink),s.xp6(6),s.Q6J("ngForOf",e.thCols),s.xp6(2),s.Q6J("ngForOf",e.list))},directives:[o.O5,p.G,m.k,Z.e,g.K,o.sg,f.c,b.O],styles:[""],data:{animation:[(0,Q.X$)("slideFromRight",[(0,Q.eR)("void=>*",[(0,Q.oB)({opacity:0,transform:"translateX(100%)"}),(0,Q.jt)(".8s",(0,Q.oB)({opacity:1,transform:"translateX(0)"}))])])]}}),t})();var j=i(70118);function V(t,e){1&t&&s._UZ(0,"v-loader")}const X=function(t){return[t]};function $(t,e){if(1&t&&(s.TgZ(0,"div",13),s.TgZ(1,"div",14),s.TgZ(2,"div",15),s.TgZ(3,"h3"),s._uU(4),s.qZA(),s.TgZ(5,"p"),s._uU(6),s.qZA(),s.qZA(),s.TgZ(7,"div",16),s._UZ(8,"i"),s.qZA(),s.TgZ(9,"a",17),s._uU(10,"More info "),s._UZ(11,"i",18),s.qZA(),s.qZA(),s.qZA()),2&t){const t=e.$implicit;s.xp6(1),s.Udp("background-color",t.bgColorClass),s.xp6(3),s.Oqu(t.count),s.xp6(2),s.Oqu(t.title),s.xp6(2),s.Tol(t.iconName),s.xp6(1),s.Q6J("routerLink",s.VKq(8,X,t.routeLink))}}function K(t,e){if(1&t&&(s.TgZ(0,"div",13),s.TgZ(1,"div",20),s.TgZ(2,"div",15),s.TgZ(3,"p"),s._uU(4),s.qZA(),s.qZA(),s.TgZ(5,"div",16),s._UZ(6,"i"),s.qZA(),s.TgZ(7,"a",17),s._uU(8,"More info "),s._UZ(9,"i",18),s.qZA(),s.qZA(),s.qZA()),2&t){const t=e.$implicit;s.xp6(1),s.Q6J("ngClass",t.bgColorClass),s.xp6(3),s.Oqu(t.title),s.xp6(2),s.Gre("ion ",t.iconName,""),s.xp6(1),s.Q6J("routerLink",s.VKq(6,X,t.routeLink))}}function z(t,e){if(1&t&&(s.TgZ(0,"div",19),s.TgZ(1,"h5",7),s._uU(2,"Reports"),s.qZA(),s.TgZ(3,"div",8),s.TgZ(4,"div",9),s.YNc(5,K,10,8,"div",10),s.qZA(),s.qZA(),s.qZA()),2&t){const t=s.oxw();s.xp6(5),s.Q6J("ngForOf",t.reportsPanelBoxes)}}function W(t,e){if(1&t&&(s.TgZ(0,"div",13),s.TgZ(1,"div",20),s.TgZ(2,"div",15),s.TgZ(3,"p"),s._uU(4),s.qZA(),s.qZA(),s.TgZ(5,"div",16),s._UZ(6,"i"),s.qZA(),s.TgZ(7,"a",17),s._uU(8,"More info "),s._UZ(9,"i",18),s.qZA(),s.qZA(),s.qZA()),2&t){const t=e.$implicit;s.xp6(1),s.Q6J("ngClass",t.bgColorClass),s.xp6(3),s.Oqu(t.title),s.xp6(2),s.Gre("ion ",t.iconName,""),s.xp6(1),s.Q6J("routerLink",s.VKq(6,X,t.routeLink))}}function tt(t,e){if(1&t&&(s.TgZ(0,"div",21),s.TgZ(1,"h5",7),s._uU(2,"User Help"),s.qZA(),s.TgZ(3,"div",8),s.TgZ(4,"div",9),s.YNc(5,W,10,8,"div",10),s.qZA(),s.qZA(),s.qZA()),2&t){const t=s.oxw();s.xp6(5),s.Q6J("ngForOf",t.helpPanelBoxes)}}let et=(()=>{class t{constructor(){this.isSubmitted=!1,this.title=" Contract Management Panel",this.mainPanelCountBoxes=[{title:"Contract",routeLink:"contacts",bgColorClass:j.h.COLORS.one,iconName:" fas fa-address-book",count:""},{title:"Message Formats",routeLink:"msg-formats",bgColorClass:j.h.COLORS.two,iconName:"fas fa-comment-alt",count:""},{title:"Schedule",routeLink:"schedule-notifications",bgColorClass:j.h.COLORS.three,iconName:"fas fa-calendar-alt",count:""}],this.mainPanelBoxes=[{title:"Classes",routeLink:"/classes",bgColorClass:j.h.COLORS.one,iconName:"ion-easel",count:""},{title:"Sections",routeLink:"/sections",bgColorClass:j.h.COLORS.two,iconName:"ion-easel",count:""},{title:"Admissions",routeLink:"/admissions",bgColorClass:j.h.COLORS.three,iconName:"ion-easel",count:""},{title:"Attendance",routeLink:"/attendance",bgColorClass:j.h.COLORS.four,iconName:"ion-easel",count:""}],this.reportsPanelBoxes=[],this.helpPanelBoxes=[]}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-contract-management-dashboard"]],decls:17,vars:5,consts:[[4,"ngIf"],[1,"wrapper"],[1,"content-wrapper"],[3,"title"],[1,"content"],[1,"container-fluid"],[1,"card","mainPanel"],[1,"card-header"],[1,"card-body"],[1,"row"],["class","col-lg-3 col-6",4,"ngFor","ngForOf"],["class","card reportsPanel",4,"ngIf"],["class","card userHelpPanel",4,"ngIf"],[1,"col-lg-3","col-6"],[1,"small-box"],[1,"inner"],[1,"icon"],[1,"small-box-footer",3,"routerLink"],[1,"fas","fa-arrow-circle-right"],[1,"card","reportsPanel"],[1,"small-box",3,"ngClass"],[1,"card","userHelpPanel"]],template:function(t,e){1&t&&(s.YNc(0,V,1,0,"v-loader",0),s.TgZ(1,"div",1),s._UZ(2,"app-header"),s._UZ(3,"app-sidebar"),s.TgZ(4,"div",2),s._UZ(5,"app-content-header",3),s.TgZ(6,"section",4),s.TgZ(7,"div",5),s.TgZ(8,"div",6),s.TgZ(9,"h5",7),s._uU(10,"Main "),s.qZA(),s.TgZ(11,"div",8),s.TgZ(12,"div",9),s.YNc(13,$,12,10,"div",10),s.qZA(),s.qZA(),s.qZA(),s.YNc(14,z,6,1,"div",11),s.YNc(15,tt,6,1,"div",12),s.qZA(),s.qZA(),s.qZA(),s._UZ(16,"app-footer"),s.qZA()),2&t&&(s.Q6J("ngIf",e.isSubmitted),s.xp6(5),s.Q6J("title",e.title),s.xp6(8),s.Q6J("ngForOf",e.mainPanelCountBoxes),s.xp6(1),s.Q6J("ngIf",e.reportsPanelBoxes.length),s.xp6(1),s.Q6J("ngIf",e.helpPanelBoxes.length))},directives:[o.O5,p.G,m.k,Z.e,o.sg,f.c,b.O,u.yS,o.mk],styles:[""]}),t})();var it=i(905),ot=i(68281);function nt(t,e){1&t&&s._UZ(0,"v-loader")}function rt(t,e){1&t&&(s.TgZ(0,"p"),s._uU(1," Phone Number is Required "),s.qZA())}function at(t,e){1&t&&(s.TgZ(0,"p"),s._uU(1," Email is Required "),s.qZA())}function st(t,e){1&t&&(s.TgZ(0,"p"),s._uU(1," Purpose Of Contract is Required "),s.qZA())}function lt(t,e){1&t&&(s.TgZ(0,"p"),s._uU(1," Start Date is Required "),s.qZA())}function dt(t,e){1&t&&(s.TgZ(0,"p"),s._uU(1," End Date is Required "),s.qZA())}function ct(t,e){1&t&&(s.TgZ(0,"p"),s._uU(1," Due Date is Required "),s.qZA())}function ut(t,e){1&t&&(s.TgZ(0,"p"),s._uU(1," Note is Required "),s.qZA())}let pt=(()=>{class t{constructor(t,e,i,o){this._contractContactService=t,this._contactsService=e,this._router=i,this._formBuilder=o,this.isSubmitted=!1,this.title="Contracts",this.backLink="/contract-management/contacts",this.breadCrumbLinkItems=r.breadCrumbLinkItems,this.contactList=[],this.addForm=this._formBuilder.group({contactId:[null,a.kI.required],name:[null],middleName:[null],surname:[null],email:[null],phoneNumber:[null],purposeOfContract:[null,a.kI.required],startDate:[null,a.kI.required],endDate:[null,a.kI.required],dueDate:[null,a.kI.required],note:[null,a.kI.required]})}ngOnInit(){this.getContactList()}getContactList(){this._contactsService.sIndex().subscribe(t=>{this.contactList=t.data.map(t=>({id:t._id,text:t.name+" - "+t.phoneNumber+" - "+t.city}))})}onTagChanged(t){console.log(this.contact),this.updateContactId(t),this.getSelectedContactData(t)}updateContactId(t){this.fCtrls.contactId.setValue(t)}get fCtrls(){return this.addForm.controls}onSubmit(){console.log(this.addForm.value);let t=this.finalizedFromFieldValues(this.addForm.value);this.isSubmitted=!0,this._contractContactService.sStore(t).subscribe(t=>{this.isSubmitted=!1,this._router.navigateByUrl(this.backLink)},t=>{this.isSubmitted=!1})}finalizedFromFieldValues(t){return console.log("formValues:==1",t),delete t.name,delete t.surname,delete t.email,delete t.phoneNumber,console.log("formValues:==2",t),t}getSelectedContactData(t){console.log("id:",t),this.isSubmitted=!0,this._contactsService.sShow(t).subscribe(t=>{t&&t.data&&(console.log("res.data:===",t.data),this.addForm.patchValue(Object.assign({},t.data)),this.selectedContactData=t.data),this.isSubmitted=!1},t=>{console.log("Error !"),this.isSubmitted=!1})}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(c),s.Y36(it.P),s.Y36(u.F0),s.Y36(a.qu))},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-add-contract-contacts"]],decls:85,vars:22,consts:[[4,"ngIf"],[1,"wrapper"],[1,"content-wrapper"],[3,"title","canshowBreadCrumb","breadCrumbLinkItems"],[1,"content"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"card-tools"],["actionType","back",3,"link"],[1,"card-body"],[3,"formGroup"],[1,"row"],[1,"col-md-6"],[1,"form-group"],["for","exampleInputPassword1"],[1,"col-md-12","pr-0","pl-0"],["width","100%","formControlName","contactId",3,"ngModel","data","placeholder","ngModelChange","valueChanged"],["fCtrlName","name","label","First Name","isReadonly","true",3,"fGroup"],["fCtrlName","middleName","label","Middle Name","isReadonly","true",3,"fGroup"],["fCtrlName","surname","label","Last Name","isReadonly","true",3,"fGroup"],["for","exampleInputEmail1"],["type","text","id","exampleInputEmail1","aria-describedby","emailHelp","formControlName","phoneNumber","readonly","",1,"form-control"],["type","text","id","exampleInputEmail1","aria-describedby","emailHelp","formControlName","email","readonly","",1,"form-control"],["formControlName","purposeOfContract",1,"form-control",3,"ngModel"],["value","null"],["value","Domain"],["value","Hosting"],["value","MOU"],["value","PA"],[1,"col-md-3"],["type","date","id","exampleInputEmail1","aria-describedby","emailHelp","formControlName","startDate",1,"form-control"],["type","date","id","exampleInputEmail1","aria-describedby","emailHelp","formControlName","endDate",1,"form-control"],["type","date","id","exampleInputEmail1","aria-describedby","emailHelp","formControlName","dueDate",1,"form-control"],[1,"col-md-12"],["name","","id","","rows","3","formControlName","note",1,"form-control"],[1,"card-footer","text-right"],["type","button",1,"btn","btn-primary",3,"disabled","click"]],template:function(t,e){1&t&&(s.YNc(0,nt,1,0,"v-loader",0),s.TgZ(1,"div",1),s._UZ(2,"app-header"),s._UZ(3,"app-sidebar"),s.TgZ(4,"div",2),s._UZ(5,"app-content-header",3),s.TgZ(6,"section",4),s.TgZ(7,"div",5),s.TgZ(8,"div",6),s.TgZ(9,"h3",7),s._uU(10),s.qZA(),s.TgZ(11,"div",8),s._UZ(12,"v-btn",9),s.qZA(),s.qZA(),s.TgZ(13,"div",10),s.TgZ(14,"form",11),s.TgZ(15,"div",12),s.TgZ(16,"div",13),s.TgZ(17,"div",14),s.TgZ(18,"label",15),s._uU(19,"Concerned Contact"),s.qZA(),s.TgZ(20,"div",16),s.TgZ(21,"ng-select2",17),s.NdJ("ngModelChange",function(t){return e.contact=t})("valueChanged",function(t){return e.onTagChanged(t)}),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(22,"div",12),s.TgZ(23,"div",13),s._UZ(24,"app-v-input-full",18),s.qZA(),s.TgZ(25,"div",13),s._UZ(26,"app-v-input-full",19),s.qZA(),s.TgZ(27,"div",13),s._UZ(28,"app-v-input-full",20),s.qZA(),s.TgZ(29,"div",13),s.TgZ(30,"div",14),s.TgZ(31,"label",21),s._uU(32,"Phone Number"),s.qZA(),s._UZ(33,"input",22),s.YNc(34,rt,2,0,"p",0),s.qZA(),s.qZA(),s.TgZ(35,"div",13),s.TgZ(36,"div",14),s.TgZ(37,"label",21),s._uU(38,"Email"),s.qZA(),s._UZ(39,"input",23),s.YNc(40,at,2,0,"p",0),s.qZA(),s.qZA(),s.TgZ(41,"div",13),s.TgZ(42,"div",14),s.TgZ(43,"label",21),s._uU(44,"Purpose Of Contract"),s.qZA(),s.TgZ(45,"select",24),s.TgZ(46,"option",25),s._uU(47,"Select Group"),s.qZA(),s.TgZ(48,"option",26),s._uU(49,"Domain"),s.qZA(),s.TgZ(50,"option",27),s._uU(51,"Hosting"),s.qZA(),s.TgZ(52,"option",28),s._uU(53,"MOU"),s.qZA(),s.TgZ(54,"option",29),s._uU(55,"PA"),s.qZA(),s.qZA(),s.YNc(56,st,2,0,"p",0),s.qZA(),s.qZA(),s.TgZ(57,"div",30),s.TgZ(58,"div",14),s.TgZ(59,"label",21),s._uU(60,"Start Date"),s.qZA(),s._UZ(61,"input",31),s.YNc(62,lt,2,0,"p",0),s.qZA(),s.qZA(),s.TgZ(63,"div",30),s.TgZ(64,"div",14),s.TgZ(65,"label",21),s._uU(66,"End Date"),s.qZA(),s._UZ(67,"input",32),s.YNc(68,dt,2,0,"p",0),s.qZA(),s.qZA(),s.TgZ(69,"div",30),s.TgZ(70,"div",14),s.TgZ(71,"label",21),s._uU(72,"Due Date"),s.qZA(),s._UZ(73,"input",33),s.YNc(74,ct,2,0,"p",0),s.qZA(),s.qZA(),s.TgZ(75,"div",34),s.TgZ(76,"div",14),s.TgZ(77,"label",21),s._uU(78,"Note"),s.qZA(),s._UZ(79,"textarea",35),s.YNc(80,ut,2,0,"p",0),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(81,"div",36),s.TgZ(82,"button",37),s.NdJ("click",function(){return e.onSubmit()}),s._uU(83," Submit "),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s._UZ(84,"app-footer"),s.qZA()),2&t&&(s.Q6J("ngIf",e.isSubmitted),s.xp6(5),s.Q6J("title",e.title)("canshowBreadCrumb",!0)("breadCrumbLinkItems",e.breadCrumbLinkItems),s.xp6(5),s.hij("Add ",e.title,""),s.xp6(2),s.Q6J("link",e.backLink),s.xp6(2),s.Q6J("formGroup",e.addForm),s.xp6(7),s.Q6J("ngModel",e.contact)("data",e.contactList)("placeholder","Concerned Contact"),s.xp6(3),s.Q6J("fGroup",e.addForm),s.xp6(2),s.Q6J("fGroup",e.addForm),s.xp6(2),s.Q6J("fGroup",e.addForm),s.xp6(6),s.Q6J("ngIf",e.fCtrls.phoneNumber.dirty&&e.fCtrls.phoneNumber.invalid),s.xp6(6),s.Q6J("ngIf",e.fCtrls.email.dirty&&e.fCtrls.email.invalid),s.xp6(5),s.Q6J("ngModel",null),s.xp6(11),s.Q6J("ngIf",e.fCtrls.purposeOfContract.dirty&&e.fCtrls.purposeOfContract.invalid),s.xp6(6),s.Q6J("ngIf",e.fCtrls.startDate.dirty&&e.fCtrls.startDate.invalid),s.xp6(6),s.Q6J("ngIf",e.fCtrls.endDate.dirty&&e.fCtrls.endDate.invalid),s.xp6(6),s.Q6J("ngIf",e.fCtrls.dueDate.dirty&&e.fCtrls.dueDate.invalid),s.xp6(6),s.Q6J("ngIf",e.fCtrls.note.dirty&&e.fCtrls.note.invalid),s.xp6(2),s.Q6J("disabled",!e.addForm.valid))},directives:[o.O5,p.G,m.k,Z.e,g.K,a._Y,a.JL,a.sg,ot.c,a.JJ,a.u,h.a,a.Fj,a.EJ,a.YN,a.Kr,f.c,b.O],styles:[""]}),t})();var mt=i(72644),Zt=i(54733),gt=i(75470);function ht(t,e){1&t&&s._UZ(0,"v-loader")}function ft(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"button",19),s.NdJ("click",function(){return s.CHM(t),s.oxw().exportToExcel()}),s._uU(1),s.qZA()}if(2&t){const t=s.oxw();s.xp6(1),s.hij(" ",t.exportBtnLabel," ")}}function bt(t,e){if(1&t&&(s.TgZ(0,"th",20),s._uU(1),s.qZA()),2&t){const t=e.$implicit;s.xp6(1),s.Oqu(t)}}const qt=function(t,e){return[t,e]},At=function(t,e){return[t,e,"edit"]};function Tt(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"tr"),s.TgZ(1,"td"),s._uU(2),s.qZA(),s.TgZ(3,"td"),s._uU(4),s.qZA(),s.TgZ(5,"td"),s._uU(6),s.qZA(),s.TgZ(7,"td"),s._uU(8),s.qZA(),s.TgZ(9,"td"),s._uU(10),s.qZA(),s.TgZ(11,"td"),s._UZ(12,"v-btn",21),s._UZ(13,"v-btn",22),s.TgZ(14,"v-btn",23),s.NdJ("actionEvent",function(e){return s.CHM(t),s.oxw().delete(e)}),s.qZA(),s.qZA(),s.qZA()}if(2&t){const t=e.$implicit,i=e.index,o=s.oxw();s.xp6(2),s.Oqu(i+1),s.xp6(2),s.Oqu(t.name),s.xp6(2),s.Oqu(t.middleName),s.xp6(2),s.Oqu(t.surname),s.xp6(2),s.Oqu(t.phoneNumber),s.xp6(2),s.Q6J("link",s.WLB(8,qt,o.editLink,t._id)),s.xp6(1),s.Q6J("link",s.WLB(11,At,o.editLink,t._id)),s.xp6(1),s.Q6J("actionValue",t._id)}}function vt(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"tr"),s.TgZ(1,"td"),s._uU(2),s.qZA(),s.TgZ(3,"td"),s._uU(4),s.qZA(),s.TgZ(5,"td"),s._uU(6),s.qZA(),s.TgZ(7,"td"),s.TgZ(8,"button",30),s.NdJ("click",function(){const e=s.CHM(t).$implicit;return s.oxw(2).sendNotification(e._id)}),s._uU(9," Send "),s.qZA(),s.qZA(),s.qZA()}if(2&t){const t=e.$implicit,i=e.index;s.xp6(2),s.Oqu(i+1),s.xp6(2),s.Oqu(t.name),s.xp6(2),s.Oqu(t.message)}}function Ct(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"div",24),s.TgZ(1,"h4",25),s._uU(2,"Select Annoucements"),s.qZA(),s.TgZ(3,"button",26),s.NdJ("click",function(){s.CHM(t);const e=s.oxw();return null==e.modalRef?null:e.modalRef.hide()}),s.TgZ(4,"span",27),s._uU(5,"\xd7"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(6,"div",28),s.TgZ(7,"table",29),s.TgZ(8,"thead",15),s.TgZ(9,"tr"),s.TgZ(10,"th",20),s._uU(11,"ID"),s.qZA(),s.TgZ(12,"th",20),s._uU(13,"NAME"),s.qZA(),s.TgZ(14,"th",20),s._uU(15,"MESSAGE"),s.qZA(),s.TgZ(16,"th",20),s._uU(17,"Actions"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(18,"tbody"),s.YNc(19,vt,10,3,"tr",17),s.qZA(),s.qZA(),s.qZA()}if(2&t){const t=s.oxw();s.xp6(19),s.Q6J("ngForOf",t.anouncementsList)}}const _t=function(t){return[t]};let xt=(()=>{class t{constructor(t,e,i){this._contractContactService=t,this.modalService=e,this._contractMsgFomratService=i,this.isSubmitted=!1,this.title="Contracts",this.isFilter=!1,this.thCols=["Id","First Name","Middle Name","Last Name","Phone Number","Actions"],this.breadCrumbLinkItems=E.J.breadCrumbLinkItems,this.contactList=[],this.listBackup=[],this.addLink="/contract-management/contacts/create",this.editLink="/contract-management/contacts",this.bulkImportsLink="/contract-management/contacts/bulk-import-contacts",this.list=[],this.dtOptions={},this.dtTrigger=new Y.xQ,this.exportBtnLabel=j.h.exportBtnLabel,this.anouncementsList=[],this.options={width:"300",multiple:!0,tags:!0}}ngOnInit(){this.index(),this.dtOptions=D.Z.optionsWithoutDownload}onClickFilter(){this.isFilter=!this.isFilter}onFiletreSearch(){if(console.log(this.contact),this.contact.length>0){const t=this.listBackup.filter(t=>!!this.contact.find(e=>e==t._id)).map(t=>t.city);this.list=this.listBackup.filter(e=>!!t.find(t=>t==e.city)),this.dtElement.dtInstance.then(t=>{t.destroy(),this.dtTrigger.next()})}else this.list=this.listBackup,this.dtElement.dtInstance.then(t=>{t.destroy(),this.dtTrigger.next()});console.log(this.list)}index(){this.isSubmitted=!0,this.list=[],this._contractContactService.sIndex().subscribe(t=>{console.log(t),t&&t.data&&t.data.length&&(this.isSubmitted=!1,this.list=t.data,this.listBackup=t.data,this.dtTrigger.next()),this.isSubmitted=!1},t=>{console.log("Error !"),k.error("No data found","Error !"),this.isSubmitted=!1})}edit(){}delete(t){console.log("e:",t),this.isSubmitted=!0,this._contractContactService.sDelete(t).subscribe(t=>{this.isSubmitted=!1,this.index(),M.Z.showSweetAlert("Deleted Successfully",!1),setTimeout(()=>{location.reload()},300)},t=>{console.log("err:",t),M.Z.showSweetAlert(t.error.message,!1),this.isSubmitted=!1})}openModal(t){this.modalRef=this.modalService.show(t)}showPopUpToSelectAnnouncemnets(t,e){this.selectedContactId=e,this.openModal(t),this.loadAnnouncements()}loadAnnouncements(){this.isSubmitted=!0,this.anouncementsList=[],this._contractMsgFomratService.sIndex().subscribe(t=>{t&&t.data&&t.data.length&&(this.anouncementsList=t.data),this.isSubmitted=!1},t=>{console.log("Error !"),k.error("No data found","Error !"),this.isSubmitted=!1})}sendNotification(t){return k.success("Notification sent successfully"),this.modalRef.hide(),!1}exportToExcel(){let t=[["Name","Surname","Email","Phone Number","Purpose Of Contract","Start Date","End Date","Note"],...this.list.map(t=>[t.name,t.surname,t.email,t.phoneNumber,t.purposeOfContract,t.startDate,t.endDate,t.note])];(0,mt.C)(t,"Contract Contacts list")}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(c),s.Y36(gt.tT),s.Y36(I))},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-list-contract-contacts"]],viewQuery:function(t,e){if(1&t&&s.Gf(Zt.G,5),2&t){let t;s.iGM(t=s.CRH())&&(e.dtElement=t.first)}},decls:28,vars:15,consts:[[4,"ngIf"],[1,"wrapper"],[1,"content-wrapper"],[3,"title","canshowBreadCrumb","breadCrumbLinkItems"],[1,"content"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"card-tools"],["actionType","add",3,"link"],["type","button",1,"btn","btn-info","btn-sm","rounded-pill",3,"routerLink"],["type","button","class","btn btn-success1 btn-xs rounded-pill px-3 py-1 fs-5 fw-bold ml-1",3,"click",4,"ngIf"],[1,"card-body","pb-1"],[1,"table-responsive"],["datatable","",1,"table","table-striped","table-bordered","compact",3,"dtOptions","dtTrigger"],[1,"bg-info"],["scope","col",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],["template",""],["type","button",1,"btn","btn-success1","btn-xs","rounded-pill","px-3","py-1","fs-5","fw-bold","ml-1",3,"click"],["scope","col"],["actionType","view",3,"link"],["actionType","edit",3,"link"],["actionType","deleteclick",3,"actionValue","actionEvent"],[1,"modal-header"],[1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"btn-close","close","pull-right",3,"click"],["aria-hidden","true",1,"visually-hidden"],[1,"modal-body"],[1,"table","table-striped","table-bordered","compact","table-sm"],["type","button",1,"btn","btn-info","btn-sm","rounded-pill",3,"click"]],template:function(t,e){1&t&&(s.YNc(0,ht,1,0,"v-loader",0),s.TgZ(1,"div",1),s._UZ(2,"app-header"),s._UZ(3,"app-sidebar"),s.TgZ(4,"div",2),s._UZ(5,"app-content-header",3),s.TgZ(6,"section",4),s.TgZ(7,"div",5),s.TgZ(8,"div",6),s.TgZ(9,"h3",7),s._uU(10),s.qZA(),s.TgZ(11,"div",8),s._UZ(12,"v-btn",9),s.TgZ(13,"button",10),s._uU(14," Import "),s.qZA(),s.YNc(15,ft,2,1,"button",11),s.qZA(),s.qZA(),s.TgZ(16,"div",12),s.TgZ(17,"div",13),s.TgZ(18,"table",14),s.TgZ(19,"thead",15),s.TgZ(20,"tr"),s.YNc(21,bt,2,1,"th",16),s._uU(22," --\x3e "),s.qZA(),s.qZA(),s.TgZ(23,"tbody"),s.YNc(24,Tt,15,14,"tr",17),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s._UZ(25,"app-footer"),s.qZA(),s.YNc(26,Ct,20,1,"ng-template",null,18,s.W1O)),2&t&&(s.Q6J("ngIf",e.isSubmitted),s.xp6(5),s.Q6J("title",e.title)("canshowBreadCrumb",!0)("breadCrumbLinkItems",e.breadCrumbLinkItems),s.xp6(1),s.Q6J("@slideFromRight",void 0),s.xp6(4),s.hij("List ",e.title,""),s.xp6(2),s.Q6J("link",e.addLink),s.xp6(1),s.Q6J("routerLink",s.VKq(13,_t,e.bulkImportsLink)),s.xp6(2),s.Q6J("ngIf",e.list&&e.list.length),s.xp6(3),s.Q6J("dtOptions",e.dtOptions)("dtTrigger",e.dtTrigger),s.xp6(3),s.Q6J("ngForOf",e.thCols),s.xp6(3),s.Q6J("ngForOf",e.list))},directives:[o.O5,p.G,m.k,Z.e,g.K,u.rH,Zt.G,o.sg,f.c,b.O],styles:[""],data:{animation:[(0,Q.X$)("slideFromRight",[(0,Q.eR)("void=>*",[(0,Q.oB)({opacity:0,transform:"translateX(100%)"}),(0,Q.jt)(".8s",(0,Q.oB)({opacity:1,transform:"translateX(0)"}))])])]}}),t})();function Ut(t,e){1&t&&s._UZ(0,"v-loader")}function kt(t,e){1&t&&(s.TgZ(0,"p"),s._uU(1," Phone Number is Required "),s.qZA())}function St(t,e){1&t&&(s.TgZ(0,"p"),s._uU(1," Email is Required "),s.qZA())}function Nt(t,e){1&t&&(s.TgZ(0,"p"),s._uU(1," Purpose Of Contract is Required "),s.qZA())}function It(t,e){1&t&&(s.TgZ(0,"p"),s._uU(1," Start Date is Required "),s.qZA())}function yt(t,e){1&t&&(s.TgZ(0,"p"),s._uU(1," End Date is Required "),s.qZA())}function Ft(t,e){1&t&&(s.TgZ(0,"p"),s._uU(1," Due Date is Required "),s.qZA())}function Ot(t,e){1&t&&(s.TgZ(0,"p"),s._uU(1," Note is Required "),s.qZA())}let Jt=(()=>{class t{constructor(t,e,i,o,n){this._contractContactService=t,this._router=e,this._formBuilder=i,this._activatedRoute=o,this._contactsService=n,this.isSubmitted=!1,this.title=" Contracts",this.backLink="/contract-management/contacts",this.breadCrumbLinkItems=r.breadCrumbLinkItems,this.addForm=this._formBuilder.group({contactId:[null,a.kI.required],name:[null],middleName:[null],surname:[null],email:[null],phoneNumber:[null],purposeOfContract:[null,a.kI.required],startDate:[null,a.kI.required],endDate:[null,a.kI.required],dueDate:[null,a.kI.required],note:[null,a.kI.required]}),this.contactList=[],this.selectedId=this._activatedRoute.snapshot.params.id,this.loadData(this.selectedId)}ngOnInit(){this.getContactList()}getContactList(){this._contactsService.sIndex().subscribe(t=>{this.contactList=t.data.map(t=>({id:t._id,text:t.name+" - "+t.phoneNumber+" - "+t.city}))})}onTagChanged(t){console.log(this.contact),this.updateContactId(t),this.getSelectedContactData(t)}get fCtrls(){return this.addForm.controls}loadData(t){this.isSubmitted=!0,this._contractContactService.sShow(t).subscribe(t=>{t&&t.data&&(console.log("res.data:===",t.data),this.addForm.patchValue(Object.assign({},t.data))),this.isSubmitted=!1},t=>{console.log("Error !"),this.isSubmitted=!1})}onUpdate(){this.isSubmitted=!0,this._contractContactService.sUpdate(this.selectedId,this.addForm.value).subscribe(t=>{this.isSubmitted=!1,this._router.navigateByUrl(r.ContactsListRoute)},t=>{this.isSubmitted=!1})}updateContactId(t){this.fCtrls.contactId.setValue(t)}getSelectedContactData(t){console.log("id:",t),this.isSubmitted=!0,this._contactsService.sShow(t).subscribe(t=>{t&&t.data&&(console.log("res.data:===",t.data),this.addForm.patchValue(Object.assign({},t.data)),this.selectedContactData=t.data),this.isSubmitted=!1},t=>{console.log("Error !"),this.isSubmitted=!1})}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(c),s.Y36(u.F0),s.Y36(a.qu),s.Y36(u.gz),s.Y36(it.P))},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-edit-contract-contacts"]],decls:85,vars:23,consts:[[4,"ngIf"],[1,"wrapper"],[1,"content-wrapper"],[3,"title","canshowBreadCrumb","breadCrumbLinkItems"],[1,"content"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"card-tools"],["actionType","back",3,"link"],[1,"card-body"],[3,"formGroup"],[1,"row"],[1,"col-md-6"],[1,"form-group"],["for","exampleInputPassword1"],[1,"col-md-12","pr-0","pl-0"],["width","100%","formControlName","contactId",3,"ngModel","data","value","placeholder","ngModelChange","valueChanged"],["fCtrlName","name","label","First Name","isReadonly","true",3,"fGroup"],["fCtrlName","middleName","label","Middle Name","isReadonly","true",3,"fGroup"],["fCtrlName","surname","label","Last Name","isReadonly","true",3,"fGroup"],["for","exampleInputEmail1"],["type","text","id","exampleInputEmail1","aria-describedby","emailHelp","formControlName","phoneNumber","readonly","",1,"form-control"],["type","text","id","exampleInputEmail1","aria-describedby","emailHelp","formControlName","email","readonly","",1,"form-control"],["formControlName","purposeOfContract",1,"form-control",3,"ngModel"],["value","null"],["value","Domain"],["value","Hosting"],["value","MOU"],["value","PA"],[1,"col-md-3"],["type","date","id","exampleInputEmail1","aria-describedby","emailHelp","formControlName","startDate",1,"form-control"],["type","date","id","exampleInputEmail1","aria-describedby","emailHelp","formControlName","endDate",1,"form-control"],["type","date","id","exampleInputEmail1","aria-describedby","emailHelp","formControlName","dueDate",1,"form-control"],[1,"col-md-12"],["name","","id","","rows","3","formControlName","note",1,"form-control"],[1,"card-footer","text-right"],["type","button",1,"btn","btn-primary",3,"disabled","click"]],template:function(t,e){1&t&&(s.YNc(0,Ut,1,0,"v-loader",0),s.TgZ(1,"div",1),s._UZ(2,"app-header"),s._UZ(3,"app-sidebar"),s.TgZ(4,"div",2),s._UZ(5,"app-content-header",3),s.TgZ(6,"section",4),s.TgZ(7,"div",5),s.TgZ(8,"div",6),s.TgZ(9,"h3",7),s._uU(10),s.qZA(),s.TgZ(11,"div",8),s._UZ(12,"v-btn",9),s.qZA(),s.qZA(),s.TgZ(13,"div",10),s.TgZ(14,"form",11),s.TgZ(15,"div",12),s.TgZ(16,"div",13),s.TgZ(17,"div",14),s.TgZ(18,"label",15),s._uU(19,"Select Contact"),s.qZA(),s.TgZ(20,"div",16),s.TgZ(21,"ng-select2",17),s.NdJ("ngModelChange",function(t){return e.contact=t})("valueChanged",function(t){return e.onTagChanged(t)}),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(22,"div",12),s.TgZ(23,"div",13),s._UZ(24,"app-v-input-full",18),s.qZA(),s.TgZ(25,"div",13),s._UZ(26,"app-v-input-full",19),s.qZA(),s.TgZ(27,"div",13),s._UZ(28,"app-v-input-full",20),s.qZA(),s.TgZ(29,"div",13),s.TgZ(30,"div",14),s.TgZ(31,"label",21),s._uU(32,"Phone Number"),s.qZA(),s._UZ(33,"input",22),s.YNc(34,kt,2,0,"p",0),s.qZA(),s.qZA(),s.TgZ(35,"div",13),s.TgZ(36,"div",14),s.TgZ(37,"label",21),s._uU(38,"Email"),s.qZA(),s._UZ(39,"input",23),s.YNc(40,St,2,0,"p",0),s.qZA(),s.qZA(),s.TgZ(41,"div",13),s.TgZ(42,"div",14),s.TgZ(43,"label",21),s._uU(44,"Purpose Of Contract"),s.qZA(),s.TgZ(45,"select",24),s.TgZ(46,"option",25),s._uU(47,"Select Group"),s.qZA(),s.TgZ(48,"option",26),s._uU(49,"Domain"),s.qZA(),s.TgZ(50,"option",27),s._uU(51,"Hosting"),s.qZA(),s.TgZ(52,"option",28),s._uU(53,"MOU"),s.qZA(),s.TgZ(54,"option",29),s._uU(55,"PA"),s.qZA(),s.qZA(),s.YNc(56,Nt,2,0,"p",0),s.qZA(),s.qZA(),s.TgZ(57,"div",30),s.TgZ(58,"div",14),s.TgZ(59,"label",21),s._uU(60,"Start Date"),s.qZA(),s._UZ(61,"input",31),s.YNc(62,It,2,0,"p",0),s.qZA(),s.qZA(),s.TgZ(63,"div",30),s.TgZ(64,"div",14),s.TgZ(65,"label",21),s._uU(66,"End Date"),s.qZA(),s._UZ(67,"input",32),s.YNc(68,yt,2,0,"p",0),s.qZA(),s.qZA(),s.TgZ(69,"div",30),s.TgZ(70,"div",14),s.TgZ(71,"label",21),s._uU(72,"Due Date"),s.qZA(),s._UZ(73,"input",33),s.YNc(74,Ft,2,0,"p",0),s.qZA(),s.qZA(),s.TgZ(75,"div",34),s.TgZ(76,"div",14),s.TgZ(77,"label",21),s._uU(78,"Note"),s.qZA(),s._UZ(79,"textarea",35),s.YNc(80,Ot,2,0,"p",0),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(81,"div",36),s.TgZ(82,"button",37),s.NdJ("click",function(){return e.onUpdate()}),s._uU(83,"Submit"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s._UZ(84,"app-footer"),s.qZA()),2&t&&(s.Q6J("ngIf",e.isSubmitted),s.xp6(5),s.Q6J("title",e.title)("canshowBreadCrumb",!0)("breadCrumbLinkItems",e.breadCrumbLinkItems),s.xp6(5),s.hij("Edit ",e.title,""),s.xp6(2),s.Q6J("link",e.backLink),s.xp6(2),s.Q6J("formGroup",e.addForm),s.xp6(7),s.Q6J("ngModel",e.contact)("data",e.contactList)("value",e.selectedId)("placeholder","Select Contact"),s.xp6(3),s.Q6J("fGroup",e.addForm),s.xp6(2),s.Q6J("fGroup",e.addForm),s.xp6(2),s.Q6J("fGroup",e.addForm),s.xp6(6),s.Q6J("ngIf",e.fCtrls.phoneNumber.dirty&&e.fCtrls.phoneNumber.invalid),s.xp6(6),s.Q6J("ngIf",e.fCtrls.email.dirty&&e.fCtrls.email.invalid),s.xp6(5),s.Q6J("ngModel",null),s.xp6(11),s.Q6J("ngIf",e.fCtrls.purposeOfContract.dirty&&e.fCtrls.purposeOfContract.invalid),s.xp6(6),s.Q6J("ngIf",e.fCtrls.startDate.dirty&&e.fCtrls.startDate.invalid),s.xp6(6),s.Q6J("ngIf",e.fCtrls.endDate.dirty&&e.fCtrls.endDate.invalid),s.xp6(6),s.Q6J("ngIf",e.fCtrls.dueDate.dirty&&e.fCtrls.dueDate.invalid),s.xp6(6),s.Q6J("ngIf",e.fCtrls.note.dirty&&e.fCtrls.note.invalid),s.xp6(2),s.Q6J("disabled",!e.addForm.valid))},directives:[o.O5,p.G,m.k,Z.e,g.K,a._Y,a.JL,a.sg,ot.c,a.JJ,a.u,h.a,a.Fj,a.EJ,a.YN,a.Kr,f.c,b.O],styles:[""]}),t})(),wt=(()=>{class t{constructor(t){this._httpClient=t,this.url=d.A.CONTRACT_SCHEDULE_NOTIFCATIONS}sIndex(){return this._httpClient.get(this.url)}sStore(t,e=!1){let i=Object.assign(Object.assign({},t),{isMultiple:e});return this._httpClient.post(this.url,i)}sShow(t){return this._httpClient.get(this.url+"/"+t)}sUpdate(t,e){return this._httpClient.patch(this.url+"/"+t,e)}sDelete(t){return this._httpClient.delete(this.url+"/"+t)}sSendNotifications(t){return this._httpClient.get(this.url+"/"+t)}}return t.\u0275fac=function(e){return new(e||t)(s.LFG(l.eN))},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Lt(t,e){1&t&&s._UZ(0,"v-loader")}function Qt(t,e){if(1&t&&(s.TgZ(0,"th",15),s._uU(1),s.qZA()),2&t){const t=e.$implicit;s.xp6(1),s.Oqu(t)}}function Dt(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"tr"),s.TgZ(1,"th",15),s.TgZ(2,"input",16),s.NdJ("change",function(e){const i=s.CHM(t).index;return s.oxw().onChangeCheckbox(e,i)}),s.qZA(),s.qZA(),s.TgZ(3,"td"),s._uU(4),s.qZA(),s.TgZ(5,"td"),s._uU(6),s.qZA(),s.TgZ(7,"td"),s._uU(8),s.qZA(),s.TgZ(9,"td"),s._uU(10),s.qZA(),s.TgZ(11,"td"),s._uU(12),s.qZA(),s.TgZ(13,"td"),s.TgZ(14,"button",20),s.NdJ("click",function(){const e=s.CHM(t).$implicit,i=s.oxw(),o=s.MAs(28);return i.showPopUpToSelectAnnouncemnets(o,e._id)}),s._uU(15,"Send"),s.qZA(),s.qZA(),s.qZA()}if(2&t){const t=e.$implicit,i=e.index;s.xp6(2),s.Q6J("checked",t.isChecked),s.xp6(2),s.Oqu(i+1),s.xp6(2),s.Oqu(t.surname),s.xp6(2),s.Oqu(t.name),s.xp6(2),s.Oqu(t.phoneNumber),s.xp6(2),s.Oqu(t.city)}}function Mt(t,e){if(1&t&&(s.TgZ(0,"option",36),s._uU(1),s.qZA()),2&t){const t=e.$implicit;s.s9C("value",t._id),s.xp6(1),s.Oqu(t.name)}}function Yt(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"div",37),s.TgZ(1,"input",38),s.NdJ("change",function(){const e=s.CHM(t).index;return s.oxw(2).onChangeMessageMedia(e)}),s.qZA(),s.TgZ(2,"label",39),s._uU(3),s.qZA(),s.qZA()}if(2&t){const t=e.$implicit;s.xp6(1),s.s9C("value",t.label),s.s9C("id",t.id),s.xp6(1),s.s9C("for",t.id),s.xp6(1),s.Oqu(t.label)}}function Et(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"div",21),s.TgZ(1,"h4",22),s._uU(2,"Schedule Notification to Contacts"),s.qZA(),s.TgZ(3,"button",23),s.NdJ("click",function(){s.CHM(t);const e=s.oxw();return null==e.modalRef?null:e.modalRef.hide()}),s.TgZ(4,"span",24),s._uU(5,"\xd7"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(6,"div",25),s.TgZ(7,"form",26),s._UZ(8,"input",27),s.TgZ(9,"div",28),s.TgZ(10,"label",29),s._uU(11,"Select Announcement"),s.qZA(),s.TgZ(12,"select",30),s.TgZ(13,"option",31),s._uU(14,"-Select-"),s.qZA(),s.YNc(15,Mt,2,2,"option",32),s.qZA(),s.qZA(),s.TgZ(16,"div",28),s.TgZ(17,"label",29),s._uU(18,"Schedule Date"),s.qZA(),s._UZ(19,"input",33),s.qZA(),s.YNc(20,Yt,4,4,"div",34),s.TgZ(21,"div"),s.TgZ(22,"button",35),s.NdJ("click",function(){return s.CHM(t),s.oxw().sendScheduleNotification()}),s._uU(23,"Schedule"),s.qZA(),s.qZA(),s.qZA(),s.qZA()}if(2&t){const t=s.oxw();s.xp6(7),s.Q6J("formGroup",t.sendScheduleNotificationForm),s.xp6(8),s.Q6J("ngForOf",t.contractMsgFormatsList),s.xp6(5),s.Q6J("ngForOf",t.checkBoxesList),s.xp6(2),s.Q6J("disabled",!t.sendScheduleNotificationForm.valid)}}const Rt=function(t){return[t]};let Bt=(()=>{class t{constructor(t,e,i,o,n){this._contractContactService=t,this.modalService=e,this._contractMsgFomratService=i,this._contractScheduleNotificationService=o,this._formBuilder=n,this.isSubmitted=!1,this.title="Send Schedule Messages for contracts",this.breadCrumbLinkItems=E.J.breadCrumbLinkItems,this.thCols=["Id","Surname","Name","Phone Number","Email","Schedule Messages"],this.backLink="/contract-management/schedule-notifications/",this.list=[],this.dtOptions={},this.dtTrigger=new Y.xQ,this.sendScheduleNotificationForm=this._formBuilder.group({contractContactId:[""],contractMsgFormatId:["",a.kI.required],scheduleDate:[null,a.kI.required],sendNotificationVia:[null,a.kI.required]}),this.checkBoxesList=j.h.sendNotificationViaCheckboxesList,this.contractMsgFormatsList=[],this.isCheckedAll=!1}ngOnInit(){this.index(),this.dtOptions=D.Z.options}onChangeMessageMedia(t){console.log("i:",t),this.checkBoxesList[t].isChecked=!this.checkBoxesList[t].isChecked}get fCtrls(){return this.sendScheduleNotificationForm.controls}index(){this.isSubmitted=!0,this.list=[],this._contractContactService.sIndex().subscribe(t=>{t&&t.data&&t.data.length&&(this.list=t.data.map(t=>Object.assign(Object.assign({},t),{isChecked:!1})),this.dtTrigger.next()),this.isSubmitted=!1},()=>{console.log("Error !"),k.error("No data found","Error !"),this.isSubmitted=!1})}edit(){}delete(t){console.log("e:",t),this.isSubmitted=!0,this._contractContactService.sDelete(t).subscribe(t=>{console.log("res:",t),this.isSubmitted=!1,this.index(),M.Z.showSweetAlert("Deleted Successfully",!1)},t=>{console.log("err:",t),M.Z.showSweetAlert(t.error.message,!1),this.isSubmitted=!1})}openModal(t){this.modalRef=this.modalService.show(t)}showPopUpToSelectAnnouncemnets(t,e=null){if(e)this.selectedContactId=e,this.fCtrls.contractContactId.setValue(e),this.fCtrls.contractContactId.updateValueAndValidity();else if(0==this.list.filter(t=>1==t.isChecked).length)return k.error("Please select checkboxes","Error !"),!1;this.openModal(t),this.loadAnnouncements()}loadAnnouncements(){this.isSubmitted=!0,this.contractMsgFormatsList=[],this._contractMsgFomratService.sIndex().subscribe(t=>{t&&t.data&&t.data.length&&(this.contractMsgFormatsList=t.data),this.isSubmitted=!1},()=>{console.log("Error !"),k.error("No data found","Error !"),this.isSubmitted=!1})}sendScheduleNotification(t=!0){this.isSubmitted=!0,this.sendScheduleNotificationForm.controls.contractContactId.value?this.sendSingleNotification():this.sendMultipleNotifications()}sendSingleNotification(){console.log(this.checkBoxesList);let t=!1,e=!1,i=!1;this.checkBoxesList.map(o=>{o.isChecked&&("email"===o.id&&(t=!0),"sms"===o.id&&(e=!0),"whatsApp"===o.id&&(i=!0))});let o=Object.assign(Object.assign({},this.sendScheduleNotificationForm.value),{isSandEmail:t,isSandSMS:e,isSandWhatsapp:i});this._contractScheduleNotificationService.sStore(o).subscribe(t=>{console.log("res:",t),this.isSubmitted=!1,k.success("Notification sent successfully"),this.modalRef.hide()},t=>{console.log("err:",t),M.Z.showSweetAlert(t.error.message,!1),this.isSubmitted=!1})}sendMultipleNotifications(){console.log("sendMultipleNotifications");let t=this.list.filter(t=>1==t.isChecked);if(0==t.length)return k.error("Please select checkboxes","Error !"),!1;let e=Object.assign(Object.assign({},this.sendScheduleNotificationForm.value),{selectedContractContactIds:t.map(t=>t._id)});this._contractScheduleNotificationService.sStore(e,!0).subscribe(t=>{console.log("res:",t),this.isSubmitted=!1,k.success("Notification sent successfully"),this.modalRef.hide()},t=>{console.log("err:",t),M.Z.showSweetAlert(t.error.message,!1),this.isSubmitted=!1})}onChangeCheckbox(t,e){console.log("e:",t);let i=this.list[e];i.isChecked=!i.isChecked,i.isChecked||(this.isCheckedAll=!1)}onToggleAllCheckBoxes(t){this.isCheckedAll=!!t.target.checked,console.log("e:=ALL==",t),this.list.forEach(this.isCheckedAll?t=>{t.isChecked=!0}:t=>{t.isChecked=!1})}sendToAll(){}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(c),s.Y36(gt.tT),s.Y36(I),s.Y36(wt),s.Y36(a.qu))},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-send-contract-schedule-notifications"]],decls:29,vars:14,consts:[[4,"ngIf"],[1,"wrapper"],[1,"content-wrapper"],[3,"title","canshowBreadCrumb","breadCrumbLinkItems"],[1,"content"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"card-tools"],["type","button",1,"btn","btn-info","btn-sm","rounded-pill",3,"routerLink"],[1,"card-body"],[1,"table-responsive"],["type","button",1,"btn","btn-info","btn-sm","rounded-pill","mb-2",3,"click"],["datatable","",1,"table","table-striped","table-bordered","compact",3,"dtOptions","dtTrigger"],[1,"bg-info"],["scope","col"],["type","checkbox",3,"checked","change"],["scope","col",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],["template",""],["type","button",1,"btn","btn-info","btn-sm","rounded-pill",3,"click"],[1,"modal-header"],[1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"btn-close","close","pull-right",3,"click"],["aria-hidden","true",1,"visually-hidden"],[1,"modal-body"],[3,"formGroup"],["type","hidden","name","contractContactId","formControlName","contractContactId",1,"form-control"],[1,"form-group"],["for",""],["name","","id","","formControlName","contractMsgFormatId",1,"form-control"],["value",""],[3,"value",4,"ngFor","ngForOf"],["type","date","name","scheduleDate","formControlName","scheduleDate","min","2021-12-07",1,"form-control"],["class","form-check form-check-inline",4,"ngFor","ngForOf"],["type","button",1,"btn","btn-info","btn-sm","rounded-pill",3,"disabled","click"],[3,"value"],[1,"form-check","form-check-inline"],["formControlName","sendNotificationVia","type","checkbox",1,"form-check-input",3,"value","id","change"],[1,"form-check-label",3,"for"]],template:function(t,e){if(1&t){const t=s.EpF();s.YNc(0,Lt,1,0,"v-loader",0),s.TgZ(1,"div",1),s._UZ(2,"app-header"),s._UZ(3,"app-sidebar"),s.TgZ(4,"div",2),s._UZ(5,"app-content-header",3),s.TgZ(6,"section",4),s.TgZ(7,"div",5),s.TgZ(8,"div",6),s.TgZ(9,"h3",7),s._uU(10),s.qZA(),s.TgZ(11,"div",8),s.TgZ(12,"button",9),s._uU(13,"Back"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(14,"div",10),s.TgZ(15,"div",11),s.TgZ(16,"button",12),s.NdJ("click",function(){s.CHM(t);const i=s.MAs(28);return e.showPopUpToSelectAnnouncemnets(i)}),s._uU(17,"Send To All"),s.qZA(),s.TgZ(18,"table",13),s.TgZ(19,"thead",14),s.TgZ(20,"tr"),s.TgZ(21,"th",15),s.TgZ(22,"input",16),s.NdJ("change",function(t){return e.onToggleAllCheckBoxes(t)}),s.qZA(),s.qZA(),s.YNc(23,Qt,2,1,"th",17),s.qZA(),s.qZA(),s.TgZ(24,"tbody"),s.YNc(25,Dt,16,6,"tr",18),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s._UZ(26,"app-footer"),s.qZA(),s.YNc(27,Et,24,4,"ng-template",null,19,s.W1O)}2&t&&(s.Q6J("ngIf",e.isSubmitted),s.xp6(5),s.Q6J("title",e.title)("canshowBreadCrumb",!0)("breadCrumbLinkItems",e.breadCrumbLinkItems),s.xp6(1),s.Q6J("@slideFromRight",void 0),s.xp6(4),s.hij(" List ",e.title,""),s.xp6(2),s.Q6J("routerLink",s.VKq(12,Rt,e.backLink)),s.xp6(6),s.Q6J("dtOptions",e.dtOptions)("dtTrigger",e.dtTrigger),s.xp6(4),s.Q6J("checked",e.isCheckedAll),s.xp6(1),s.Q6J("ngForOf",e.thCols),s.xp6(2),s.Q6J("ngForOf",e.list))},directives:[o.O5,p.G,m.k,Z.e,u.rH,Zt.G,o.sg,f.c,b.O,a._Y,a.JL,a.sg,a.Fj,a.JJ,a.u,a.EJ,a.YN,a.Kr,a.Wl],styles:[""],data:{animation:[(0,Q.X$)("slideFromRight",[(0,Q.eR)("void=>*",[(0,Q.oB)({opacity:0,transform:"translateX(100%)"}),(0,Q.jt)(".8s",(0,Q.oB)({opacity:1,transform:"translateX(0)"}))])])]}}),t})();function Gt(t,e){1&t&&s._UZ(0,"v-loader")}function Pt(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"tr"),s.TgZ(1,"td"),s._uU(2),s.qZA(),s.TgZ(3,"td"),s._uU(4),s.qZA(),s.TgZ(5,"td"),s._uU(6),s.qZA(),s.TgZ(7,"td"),s._uU(8),s.qZA(),s.TgZ(9,"td"),s._uU(10,"-"),s.qZA(),s.TgZ(11,"td"),s.TgZ(12,"v-btn",16),s.NdJ("actionEvent",function(e){return s.CHM(t),s.oxw(2).delete(e)}),s.qZA(),s.qZA(),s.qZA()}if(2&t){const t=e.$implicit,i=e.index;s.xp6(2),s.Oqu(i+1),s.xp6(2),s.Oqu(t.scheduleDate),s.xp6(2),s.Oqu(t.contractMsgFormatId.name),s.xp6(2),s.Oqu(null==t.contact?null:t.contact.name),s.xp6(4),s.Q6J("actionValue",t._id)}}function Ht(t,e){if(1&t&&(s.TgZ(0,"tbody"),s.YNc(1,Pt,13,5,"tr",15),s.qZA()),2&t){const t=s.oxw();s.xp6(1),s.Q6J("ngForOf",t.list)}}const jt=function(t){return[t]},Vt=[{path:"msg-formats",component:H},{path:"msg-formats/create",component:O},{path:"msg-formats/:id/edit",component:L},{path:"contacts/bulk-import-contacts",component:N},{path:"contacts/create",component:pt},{path:"contacts/:id",component:U},{path:"contacts/:id/edit",component:Jt},{path:"schedule-notifications",component:(()=>{class t{constructor(t,e){this.modalService=t,this._contractScheduleNotificationService=e,this.isSubmitted=!1,this.title="Contract Schedule Messages",this.breadCrumbLinkItems=r.breadCrumbLinkItems,this.link="/contract-management/schedule-notifications/send",this.list=[],this.dtOptions={},this.dtTrigger=new Y.xQ}ngOnInit(){this.index(),this.dtOptions=D.Z.options}index(){this.isSubmitted=!0,this.list=[],this._contractScheduleNotificationService.sIndex().subscribe(t=>{t&&t.data&&t.data.length&&(this.list=t.data,this.dtTrigger.next()),this.isSubmitted=!1},t=>{console.log("Error !"),k.error("No data found","Error !"),this.isSubmitted=!1})}edit(){}delete(t){console.log("e:",t),this.isSubmitted=!0,this._contractScheduleNotificationService.sDelete(t).subscribe(t=>{console.log("res:",t),this.isSubmitted=!1,this.index(),M.Z.showSweetAlert("Deleted Successfully",!1)},t=>{console.log("err:",t),M.Z.showSweetAlert(t.error.message,!1),this.isSubmitted=!1})}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(gt.tT),s.Y36(wt))},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-list-contract-schedule-notifications"]],decls:33,vars:12,consts:[[4,"ngIf"],[1,"wrapper"],[1,"content-wrapper"],[3,"title","canshowBreadCrumb","breadCrumbLinkItems"],[1,"content"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"card-tools"],["type","button",1,"btn","btn-info","btn-sm","rounded-pill",3,"routerLink"],[1,"card-body"],[1,"table-responsive"],["datatable","",1,"table","table-striped","table-bordered","compact",3,"dtOptions","dtTrigger"],[1,"bg-info"],["scope","col"],[4,"ngFor","ngForOf"],["actionType","deleteclick",3,"actionValue","actionEvent"]],template:function(t,e){1&t&&(s.YNc(0,Gt,1,0,"v-loader",0),s.TgZ(1,"div",1),s._UZ(2,"app-header"),s._UZ(3,"app-sidebar"),s.TgZ(4,"div",2),s._UZ(5,"app-content-header",3),s.TgZ(6,"section",4),s.TgZ(7,"div",5),s.TgZ(8,"div",6),s.TgZ(9,"h3",7),s._uU(10),s.qZA(),s.TgZ(11,"div",8),s.TgZ(12,"button",9),s._uU(13,"Schedule New Messages"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(14,"div",10),s.TgZ(15,"div",11),s.TgZ(16,"table",12),s.TgZ(17,"thead",13),s.TgZ(18,"tr"),s.TgZ(19,"th",14),s._uU(20,"ID"),s.qZA(),s.TgZ(21,"th",14),s._uU(22,"Schedule Date"),s.qZA(),s.TgZ(23,"th",14),s._uU(24,"Schedule Message"),s.qZA(),s.TgZ(25,"th",14),s._uU(26,"To Contact"),s.qZA(),s.TgZ(27,"th",14),s._uU(28,"Sent Status"),s.qZA(),s.TgZ(29,"th",14),s._uU(30,"Actions"),s.qZA(),s.qZA(),s.qZA(),s.YNc(31,Ht,2,1,"tbody",0),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s._UZ(32,"app-footer"),s.qZA()),2&t&&(s.Q6J("ngIf",e.isSubmitted),s.xp6(5),s.Q6J("title",e.title)("canshowBreadCrumb",!0)("breadCrumbLinkItems",e.breadCrumbLinkItems),s.xp6(1),s.Q6J("@slideFromRight",void 0),s.xp6(4),s.hij(" List ",e.title,""),s.xp6(2),s.Q6J("routerLink",s.VKq(10,jt,e.link)),s.xp6(4),s.Q6J("dtOptions",e.dtOptions)("dtTrigger",e.dtTrigger),s.xp6(15),s.Q6J("ngIf",e.list&&e.list.length))},directives:[o.O5,p.G,m.k,Z.e,u.rH,Zt.G,f.c,b.O,o.sg,g.K],styles:[""],data:{animation:[(0,Q.X$)("slideFromRight",[(0,Q.eR)("void=>*",[(0,Q.oB)({opacity:0,transform:"translateX(100%)"}),(0,Q.jt)(".8s",(0,Q.oB)({opacity:1,transform:"translateX(0)"}))])])]}}),t})()},{path:"schedule-notifications/send",component:Bt},{path:"contacts",component:xt},{path:"",component:et,pathMatch:"full"}];let Xt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[u.Bz.forChild(Vt)],u.Bz]}),t})(),$t=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[o.ez,Xt,n.m,ot.I]]}),t})()}}]);