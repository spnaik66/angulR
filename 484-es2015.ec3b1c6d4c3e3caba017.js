(self.webpackChunkschool_ang_proj=self.webpackChunkschool_ang_proj||[]).push([[484],{58484:function(t,e,i){"use strict";i.r(e),i.d(e,{SettingModule:function(){return J}});var n=i(61116),r=i(70118),o=i(85907),s=i(90750),a=i(87368),d=i(77901),l=i(89264),c=i(11462),p=i(22041);function u(t,e){1&t&&a._UZ(0,"v-loader")}function g(t,e){if(1&t&&a._UZ(0,"img",19),2&t){const t=a.oxw();a.s9C("src",t.formData.appLogoUrl?t.formData.appLogoUrl:t.appLogo,a.LSH)}}let m=(()=>{class t{constructor(t,e){this._settingsService=t,this._router=e,this.isSubmitted=!1,this.appLogo=r.h.defaultAppLogoLocalPath,this.formData={_id:"",appName:"",footerText:"",appLogo:"",appLogoUrl:""},this.singleIndex()}ngOnInit(){}loadData(t){this.isSubmitted=!0,this._settingsService.sShow(t).subscribe(t=>{t&&t.data&&(this.formData=t.data),this.isSubmitted=!1},t=>{console.log("Error !"),this.isSubmitted=!1})}onUpdate(){console.log(this.formData);const t=new FormData;t.append("appName",this.formData.appName),t.append("footerText",this.formData.footerText),this.selectedFiles&&this.selectedFiles.length&&t.append("appLogo",this.selectedFiles[0]),this.isSubmitted=!0,this._settingsService.sUpdate(this.formData._id,t).subscribe(t=>{s.A.setSettings(t.data),this.isSubmitted=!1,o.success("Updated Successfully","Success !"),window.location.reload()},t=>{this.isSubmitted=!1})}singleIndex(){this.isSubmitted=!0,this._settingsService.sIndex().subscribe(t=>{t&&t.data&&(this.formData=t.data),this.isSubmitted=!1},t=>{console.log("Error !"),o.error("No data found","Error !"),this.isSubmitted=!1})}selectFiles(t,e){this.fileRef=e,this.selectedFiles=t.target.files,console.log("this.selectedFiles:",this.selectedFiles)}}return t.\u0275fac=function(e){return new(e||t)(a.Y36(d.g),a.Y36(l.F0))},t.\u0275cmp=a.Xpm({type:t,selectors:[["app-edit-full-settings"]],decls:31,vars:5,consts:[[4,"ngIf"],[1,"wrapper"],[1,"content-wrapper","ml-0"],[1,"content"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"card-body"],[1,"row"],[1,"col-md-6"],[1,"form-group"],["for","exampleInputEmail1"],["type","text","name","appName",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","footerText",1,"form-control",3,"ngModel","ngModelChange"],["type","file","accept","image/png, image/gif, image/jpeg, image/jpg",1,"form-control","file-input",3,"change"],["file",""],["alt","","class","rounded-circle i-50 mt-2",3,"src",4,"ngIf"],[1,"card-footer","text-right"],["type","button",1,"btn","btn-primary",3,"click"],["alt","",1,"rounded-circle","i-50","mt-2",3,"src"]],template:function(t,e){if(1&t){const t=a.EpF();a.YNc(0,u,1,0,"v-loader",0),a.TgZ(1,"div",1),a.TgZ(2,"div",2),a.TgZ(3,"section",3),a.TgZ(4,"div",4),a.TgZ(5,"div",5),a.TgZ(6,"h3",6),a._uU(7),a.qZA(),a.qZA(),a.TgZ(8,"div",7),a.TgZ(9,"form"),a.TgZ(10,"div",8),a.TgZ(11,"div",9),a.TgZ(12,"div",10),a.TgZ(13,"label",11),a._uU(14,"AppName"),a.qZA(),a.TgZ(15,"input",12),a.NdJ("ngModelChange",function(t){return e.formData.appName=t}),a.qZA(),a.qZA(),a.qZA(),a.TgZ(16,"div",9),a.TgZ(17,"div",10),a.TgZ(18,"label",11),a._uU(19,"Footer Text"),a.qZA(),a.TgZ(20,"input",13),a.NdJ("ngModelChange",function(t){return e.formData.footerText=t}),a.qZA(),a.qZA(),a.qZA(),a.TgZ(21,"div",9),a.TgZ(22,"div",10),a.TgZ(23,"label",11),a._uU(24,"App Logo"),a.qZA(),a.TgZ(25,"input",14,15),a.NdJ("change",function(i){a.CHM(t);const n=a.MAs(26);return e.selectFiles(i,n)}),a.qZA(),a.YNc(27,g,1,1,"img",16),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(28,"div",17),a.TgZ(29,"button",18),a.NdJ("click",function(){return e.onUpdate()}),a._uU(30," Update "),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA()}2&t&&(a.Q6J("ngIf",e.isSubmitted),a.xp6(7),a.hij("Update ","Settings",""),a.xp6(8),a.Q6J("ngModel",e.formData.appName),a.xp6(5),a.Q6J("ngModel",e.formData.footerText),a.xp6(7),a.Q6J("ngIf",e.formData))},directives:[n.O5,c._Y,c.JL,c.F,c.Fj,c.JJ,c.On,p.O],styles:[""]}),t})();var h=i(53647),Z=i(80570),f=i(23458),b=i(12937),v=i(98911),A=i(15842),T=i(32370);function q(t,e){1&t&&a._UZ(0,"v-loader")}let k=(()=>{class t{constructor(t,e,i,n){this._settingsService=t,this._router=e,this._formBuilder=i,this._activatedRoute=n,this.isSubmitted=!1,this.title="Edit Setting",this.backLink="/settings",this.breadCrumbLinkItems=h.J.breadCrumbLinkItems,this.addForm=this._formBuilder.group({optionKey:[null,c.kI.required],optionValue:[null,c.kI.required]}),this.selectedId=this._activatedRoute.snapshot.params.id,this.loadData(this.selectedId)}ngOnInit(){}get fCtrls(){return this.addForm.controls}loadData(t){this.isSubmitted=!0,this._settingsService.sShow(t).subscribe(t=>{t&&t.data&&(console.log("res.data:=update==",t.data),this.addForm.patchValue(Object.assign({},t.data))),this.isSubmitted=!1},t=>{console.log("Error !"),this.isSubmitted=!1})}onUpdate(){console.log(this.addForm.value),this.isSubmitted=!0,this._settingsService.sUpdate(this.selectedId,this.addForm.value).subscribe(t=>{this.isSubmitted=!1,this._router.navigateByUrl(this.backLink)},t=>{this.isSubmitted=!1})}}return t.\u0275fac=function(e){return new(e||t)(a.Y36(d.g),a.Y36(l.F0),a.Y36(c.qu),a.Y36(l.gz))},t.\u0275cmp=a.Xpm({type:t,selectors:[["app-edit-settings"]],decls:24,vars:11,consts:[[4,"ngIf"],[1,"wrapper"],[1,"content-wrapper"],[3,"title","canshowBreadCrumb","breadCrumbLinkItems"],[1,"content"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"card-tools"],["actionType","back",3,"link"],[1,"card-body"],[3,"formGroup"],[1,"row"],[1,"col-md-6"],["fCtrlName","optionKey","label","Setting Name",3,"fGroup","isReadonly"],["fCtrlName","optionValue","label","Setting Value",3,"fGroup"],[1,"card-footer","text-right"],["type","button",1,"btn","btn-primary",3,"disabled","click"]],template:function(t,e){1&t&&(a.YNc(0,q,1,0,"v-loader",0),a.TgZ(1,"div",1),a._UZ(2,"app-header"),a._UZ(3,"app-sidebar"),a.TgZ(4,"div",2),a._UZ(5,"app-content-header",3),a.TgZ(6,"section",4),a.TgZ(7,"div",5),a.TgZ(8,"div",6),a.TgZ(9,"h3",7),a._uU(10),a.qZA(),a.TgZ(11,"div",8),a._UZ(12,"v-btn",9),a.qZA(),a.qZA(),a.TgZ(13,"div",10),a.TgZ(14,"form",11),a.TgZ(15,"div",12),a.TgZ(16,"div",13),a._UZ(17,"app-v-input-full",14),a.qZA(),a.TgZ(18,"div",13),a._UZ(19,"app-v-input-full",15),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(20,"div",16),a.TgZ(21,"button",17),a.NdJ("click",function(){return e.onUpdate()}),a._uU(22,"Update"),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a._UZ(23,"app-footer"),a.qZA()),2&t&&(a.Q6J("ngIf",e.isSubmitted),a.xp6(5),a.Q6J("title",e.title)("canshowBreadCrumb",!0)("breadCrumbLinkItems",e.breadCrumbLinkItems),a.xp6(5),a.hij("Edit ",e.title,""),a.xp6(2),a.Q6J("link",e.backLink),a.xp6(2),a.Q6J("formGroup",e.addForm),a.xp6(3),a.Q6J("fGroup",e.addForm)("isReadonly","true"),a.xp6(2),a.Q6J("fGroup",e.addForm),a.xp6(2),a.Q6J("disabled",!e.addForm.valid))},directives:[n.O5,Z.G,f.k,b.e,v.K,c._Y,c.JL,c.sg,A.a,T.c,p.O],styles:[""]}),t})(),_=(()=>{class t{}return t.breadCrumbLinkItems=[],t.listRoute="/settings",t})();function S(t,e){1&t&&a._UZ(0,"v-loader")}let U=(()=>{class t{constructor(t,e,i){this._settingsService=t,this._router=e,this._formBuilder=i,this.isSubmitted=!1,this.title="Settings",this.backLink=_.listRoute,this.addForm=this._formBuilder.group({optionKey:[null,c.kI.required],optionValue:[null,c.kI.required]}),this.parentsList=[],this.isAddingDownline=!1}ngOnInit(){}get fCtrls(){return this.addForm.controls}onSubmit(){console.log(this.addForm.value),this.isSubmitted=!0,this._settingsService.sStore(this.addForm.value).subscribe(t=>{this.isSubmitted=!1,this._router.navigateByUrl(this.backLink)},t=>{this.isSubmitted=!1})}onChangeAddingType(t){this.isAddingDownline="downline"==t,this.isAddingDownline=!1,"downline"==t?(this.fCtrls.parentCandidateId.setValidators([c.kI.required]),this.fCtrls.parentCandidateId.updateValueAndValidity(),this.isAddingDownline=!0):"upline"==t&&(this.isAddingDownline=!1)}}return t.\u0275fac=function(e){return new(e||t)(a.Y36(d.g),a.Y36(l.F0),a.Y36(c.qu))},t.\u0275cmp=a.Xpm({type:t,selectors:[["app-add-settings"]],decls:26,vars:9,consts:[[4,"ngIf"],[1,"wrapper"],[1,"content-wrapper"],[3,"title","canshowBreadCrumb"],[1,"content"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"card-tools"],["actionType","back",3,"link"],[1,"card-body"],[3,"formGroup"],[1,"row"],[1,"col-md-6"],["fCtrlName","optionKey","label","Option Key",3,"fGroup"],["fCtrlName","optionValue","label","Option Key",3,"fGroup"],[1,"card-footer","text-right"],["type","button",1,"btn","btn-primary",3,"disabled","click"]],template:function(t,e){1&t&&(a.YNc(0,S,1,0,"v-loader",0),a.TgZ(1,"div",1),a._UZ(2,"app-header"),a._UZ(3,"app-sidebar"),a.TgZ(4,"div",2),a._UZ(5,"app-content-header",3),a.TgZ(6,"section",4),a.TgZ(7,"div",5),a.TgZ(8,"div",6),a.TgZ(9,"h3",7),a._uU(10),a.qZA(),a.TgZ(11,"div",8),a._UZ(12,"v-btn",9),a.qZA(),a.qZA(),a.TgZ(13,"div",10),a.TgZ(14,"form",11),a.TgZ(15,"div",12),a.TgZ(16,"p"),a._uU(17,"footerText || sideMenuTitle"),a.qZA(),a.TgZ(18,"div",13),a._UZ(19,"app-v-input-full",14),a.qZA(),a.TgZ(20,"div",13),a._UZ(21,"app-v-input-full",15),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(22,"div",16),a.TgZ(23,"button",17),a.NdJ("click",function(){return e.onSubmit()}),a._uU(24,"Submit"),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a._UZ(25,"app-footer"),a.qZA()),2&t&&(a.Q6J("ngIf",e.isSubmitted),a.xp6(5),a.Q6J("title",e.title)("canshowBreadCrumb",!0),a.xp6(5),a.hij("Add ",e.title,""),a.xp6(2),a.Q6J("link",e.backLink),a.xp6(2),a.Q6J("formGroup",e.addForm),a.xp6(5),a.Q6J("fGroup",e.addForm),a.xp6(2),a.Q6J("fGroup",e.addForm),a.xp6(2),a.Q6J("disabled",!e.addForm.valid))},directives:[n.O5,Z.G,f.k,b.e,v.K,c._Y,c.JL,c.sg,A.a,T.c,p.O],styles:[""]}),t})();function y(t,e){1&t&&a._UZ(0,"v-loader")}const x=function(){return{exact:!0}},C=function(t){return[t]};function F(t,e){if(1&t){const t=a.EpF();a.TgZ(0,"a",10),a.NdJ("click",function(){const e=a.CHM(t).$implicit;return a.oxw().OpenSetting(e)}),a.TgZ(1,"small"),a._uU(2),a.qZA(),a.qZA()}if(2&t){const t=e.$implicit;a.Q6J("routerLinkActiveOptions",a.DdM(3,x))("routerLink",a.VKq(4,C,t.link)),a.xp6(2),a.Oqu(t.name)}}const L=[{path:"",component:(()=>{class t{constructor(){this.isSubmitted=!1,this.title="Settings",this.backLink="/settings",this.menus=[{name:"Footer-Settings",link:"/settings"},{name:"Group Settings",link:"/settings/group"},{name:"Family Settings",link:"/settings/family"}],this.selectedMenu={name:"Footer-Settings",link:""},this.breadCrumbLinkItems=h.J.breadCrumbLinkItems}ngOnInit(){}OpenSetting(t){this.selectedMenu=t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a.Xpm({type:t,selectors:[["app-setting-base"]],decls:14,vars:5,consts:[[4,"ngIf"],[1,"wrapper"],[1,"content-wrapper"],[3,"title","canshowBreadCrumb","breadCrumbLinkItems"],[1,"content"],[1,"row"],[1,"col-2"],[1,"list-group","col-sm-12","mr-0"],["class","list-group-item list-group-item-action","routerLinkActive","active","style","cursor: pointer",3,"routerLinkActiveOptions","routerLink","click",4,"ngFor","ngForOf"],[1,"col-10"],["routerLinkActive","active",1,"list-group-item","list-group-item-action",2,"cursor","pointer",3,"routerLinkActiveOptions","routerLink","click"]],template:function(t,e){1&t&&(a.YNc(0,y,1,0,"v-loader",0),a.TgZ(1,"div",1),a._UZ(2,"app-header"),a._UZ(3,"app-sidebar"),a.TgZ(4,"div",2),a._UZ(5,"app-content-header",3),a.TgZ(6,"section",4),a.TgZ(7,"div",5),a.TgZ(8,"div",6),a.TgZ(9,"ul",7),a.YNc(10,F,3,6,"a",8),a.qZA(),a.qZA(),a.TgZ(11,"div",9),a._UZ(12,"router-outlet"),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a._UZ(13,"app-footer"),a.qZA()),2&t&&(a.Q6J("ngIf",e.isSubmitted),a.xp6(5),a.Q6J("title",e.title)("canshowBreadCrumb",!0)("breadCrumbLinkItems",e.breadCrumbLinkItems),a.xp6(5),a.Q6J("ngForOf",e.menus))},directives:[n.O5,Z.G,f.k,b.e,n.sg,l.lC,T.c,p.O,l.yS,l.Od],styles:[""]}),t})(),children:[{path:"",component:m},{path:"group",loadChildren:()=>Promise.all([i.e(592),i.e(929)]).then(i.bind(i,38929)).then(t=>t.GroupMasterModule)},{path:"family",loadChildren:()=>Promise.all([i.e(592),i.e(739)]).then(i.bind(i,87739)).then(t=>t.FamilyMasterModule)}]},{path:"create",component:U},{path:":id/edit",component:k}];let w=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({imports:[[l.Bz.forChild(L)],l.Bz]}),t})();var I=i(47635);let J=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({imports:[[n.ez,w,I.m]]}),t})()}}]);