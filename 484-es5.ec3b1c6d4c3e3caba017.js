!function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function i(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}(self.webpackChunkschool_ang_proj=self.webpackChunkschool_ang_proj||[]).push([[484],{58484:function(e,n,r){"use strict";r.r(n),r.d(n,{SettingModule:function(){return Q}});var o=r(61116),a=r(70118),s=r(85907),d=r(90750),u=r(87368),c=r(77901),l=r(89264),p=r(11462),g=r(22041);function f(t,e){1&t&&u._UZ(0,"v-loader")}function m(t,e){if(1&t&&u._UZ(0,"img",19),2&t){var i=u.oxw();u.s9C("src",i.formData.appLogoUrl?i.formData.appLogoUrl:i.appLogo,u.LSH)}}var Z=function(){var e=function(){function e(i,n){t(this,e),this._settingsService=i,this._router=n,this.isSubmitted=!1,this.appLogo=a.h.defaultAppLogoLocalPath,this.formData={_id:"",appName:"",footerText:"",appLogo:"",appLogoUrl:""},this.singleIndex()}return i(e,[{key:"ngOnInit",value:function(){}},{key:"loadData",value:function(t){var e=this;this.isSubmitted=!0,this._settingsService.sShow(t).subscribe(function(t){t&&t.data&&(e.formData=t.data),e.isSubmitted=!1},function(t){console.log("Error !"),e.isSubmitted=!1})}},{key:"onUpdate",value:function(){var t=this;console.log(this.formData);var e=new FormData;e.append("appName",this.formData.appName),e.append("footerText",this.formData.footerText),this.selectedFiles&&this.selectedFiles.length&&e.append("appLogo",this.selectedFiles[0]),this.isSubmitted=!0,this._settingsService.sUpdate(this.formData._id,e).subscribe(function(e){d.A.setSettings(e.data),t.isSubmitted=!1,s.success("Updated Successfully","Success !"),window.location.reload()},function(e){t.isSubmitted=!1})}},{key:"singleIndex",value:function(){var t=this;this.isSubmitted=!0,this._settingsService.sIndex().subscribe(function(e){e&&e.data&&(t.formData=e.data),t.isSubmitted=!1},function(e){console.log("Error !"),s.error("No data found","Error !"),t.isSubmitted=!1})}},{key:"selectFiles",value:function(t,e){this.fileRef=e,this.selectedFiles=t.target.files,console.log("this.selectedFiles:",this.selectedFiles)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(u.Y36(c.g),u.Y36(l.F0))},e.\u0275cmp=u.Xpm({type:e,selectors:[["app-edit-full-settings"]],decls:31,vars:5,consts:[[4,"ngIf"],[1,"wrapper"],[1,"content-wrapper","ml-0"],[1,"content"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"card-body"],[1,"row"],[1,"col-md-6"],[1,"form-group"],["for","exampleInputEmail1"],["type","text","name","appName",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","footerText",1,"form-control",3,"ngModel","ngModelChange"],["type","file","accept","image/png, image/gif, image/jpeg, image/jpg",1,"form-control","file-input",3,"change"],["file",""],["alt","","class","rounded-circle i-50 mt-2",3,"src",4,"ngIf"],[1,"card-footer","text-right"],["type","button",1,"btn","btn-primary",3,"click"],["alt","",1,"rounded-circle","i-50","mt-2",3,"src"]],template:function(t,e){if(1&t){var i=u.EpF();u.YNc(0,f,1,0,"v-loader",0),u.TgZ(1,"div",1),u.TgZ(2,"div",2),u.TgZ(3,"section",3),u.TgZ(4,"div",4),u.TgZ(5,"div",5),u.TgZ(6,"h3",6),u._uU(7),u.qZA(),u.qZA(),u.TgZ(8,"div",7),u.TgZ(9,"form"),u.TgZ(10,"div",8),u.TgZ(11,"div",9),u.TgZ(12,"div",10),u.TgZ(13,"label",11),u._uU(14,"AppName"),u.qZA(),u.TgZ(15,"input",12),u.NdJ("ngModelChange",function(t){return e.formData.appName=t}),u.qZA(),u.qZA(),u.qZA(),u.TgZ(16,"div",9),u.TgZ(17,"div",10),u.TgZ(18,"label",11),u._uU(19,"Footer Text"),u.qZA(),u.TgZ(20,"input",13),u.NdJ("ngModelChange",function(t){return e.formData.footerText=t}),u.qZA(),u.qZA(),u.qZA(),u.TgZ(21,"div",9),u.TgZ(22,"div",10),u.TgZ(23,"label",11),u._uU(24,"App Logo"),u.qZA(),u.TgZ(25,"input",14,15),u.NdJ("change",function(t){u.CHM(i);var n=u.MAs(26);return e.selectFiles(t,n)}),u.qZA(),u.YNc(27,m,1,1,"img",16),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(28,"div",17),u.TgZ(29,"button",18),u.NdJ("click",function(){return e.onUpdate()}),u._uU(30," Update "),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA()}2&t&&(u.Q6J("ngIf",e.isSubmitted),u.xp6(7),u.hij("Update ","Settings",""),u.xp6(8),u.Q6J("ngModel",e.formData.appName),u.xp6(5),u.Q6J("ngModel",e.formData.footerText),u.xp6(7),u.Q6J("ngIf",e.formData))},directives:[o.O5,p._Y,p.JL,p.F,p.Fj,p.JJ,p.On,g.O],styles:[""]}),e}(),h=r(53647),v=r(80570),b=r(23458),k=r(12937),A=r(98911),T=r(15842),q=r(32370);function _(t,e){1&t&&u._UZ(0,"v-loader")}var y=function(){var e=function(){function e(i,n,r,o){t(this,e),this._settingsService=i,this._router=n,this._formBuilder=r,this._activatedRoute=o,this.isSubmitted=!1,this.title="Edit Setting",this.backLink="/settings",this.breadCrumbLinkItems=h.J.breadCrumbLinkItems,this.addForm=this._formBuilder.group({optionKey:[null,p.kI.required],optionValue:[null,p.kI.required]}),this.selectedId=this._activatedRoute.snapshot.params.id,this.loadData(this.selectedId)}return i(e,[{key:"ngOnInit",value:function(){}},{key:"fCtrls",get:function(){return this.addForm.controls}},{key:"loadData",value:function(t){var e=this;this.isSubmitted=!0,this._settingsService.sShow(t).subscribe(function(t){t&&t.data&&(console.log("res.data:=update==",t.data),e.addForm.patchValue(Object.assign({},t.data))),e.isSubmitted=!1},function(t){console.log("Error !"),e.isSubmitted=!1})}},{key:"onUpdate",value:function(){var t=this;console.log(this.addForm.value),this.isSubmitted=!0,this._settingsService.sUpdate(this.selectedId,this.addForm.value).subscribe(function(e){t.isSubmitted=!1,t._router.navigateByUrl(t.backLink)},function(e){t.isSubmitted=!1})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(u.Y36(c.g),u.Y36(l.F0),u.Y36(p.qu),u.Y36(l.gz))},e.\u0275cmp=u.Xpm({type:e,selectors:[["app-edit-settings"]],decls:24,vars:11,consts:[[4,"ngIf"],[1,"wrapper"],[1,"content-wrapper"],[3,"title","canshowBreadCrumb","breadCrumbLinkItems"],[1,"content"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"card-tools"],["actionType","back",3,"link"],[1,"card-body"],[3,"formGroup"],[1,"row"],[1,"col-md-6"],["fCtrlName","optionKey","label","Setting Name",3,"fGroup","isReadonly"],["fCtrlName","optionValue","label","Setting Value",3,"fGroup"],[1,"card-footer","text-right"],["type","button",1,"btn","btn-primary",3,"disabled","click"]],template:function(t,e){1&t&&(u.YNc(0,_,1,0,"v-loader",0),u.TgZ(1,"div",1),u._UZ(2,"app-header"),u._UZ(3,"app-sidebar"),u.TgZ(4,"div",2),u._UZ(5,"app-content-header",3),u.TgZ(6,"section",4),u.TgZ(7,"div",5),u.TgZ(8,"div",6),u.TgZ(9,"h3",7),u._uU(10),u.qZA(),u.TgZ(11,"div",8),u._UZ(12,"v-btn",9),u.qZA(),u.qZA(),u.TgZ(13,"div",10),u.TgZ(14,"form",11),u.TgZ(15,"div",12),u.TgZ(16,"div",13),u._UZ(17,"app-v-input-full",14),u.qZA(),u.TgZ(18,"div",13),u._UZ(19,"app-v-input-full",15),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(20,"div",16),u.TgZ(21,"button",17),u.NdJ("click",function(){return e.onUpdate()}),u._uU(22,"Update"),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u._UZ(23,"app-footer"),u.qZA()),2&t&&(u.Q6J("ngIf",e.isSubmitted),u.xp6(5),u.Q6J("title",e.title)("canshowBreadCrumb",!0)("breadCrumbLinkItems",e.breadCrumbLinkItems),u.xp6(5),u.hij("Edit ",e.title,""),u.xp6(2),u.Q6J("link",e.backLink),u.xp6(2),u.Q6J("formGroup",e.addForm),u.xp6(3),u.Q6J("fGroup",e.addForm)("isReadonly","true"),u.xp6(2),u.Q6J("fGroup",e.addForm),u.xp6(2),u.Q6J("disabled",!e.addForm.valid))},directives:[o.O5,v.G,b.k,k.e,A.K,p._Y,p.JL,p.sg,T.a,q.c,g.O],styles:[""]}),e}(),S=function(){var e=function e(){t(this,e)};return e.breadCrumbLinkItems=[],e.listRoute="/settings",e}();function U(t,e){1&t&&u._UZ(0,"v-loader")}var w=function(){var e=function(){function e(i,n,r){t(this,e),this._settingsService=i,this._router=n,this._formBuilder=r,this.isSubmitted=!1,this.title="Settings",this.backLink=S.listRoute,this.addForm=this._formBuilder.group({optionKey:[null,p.kI.required],optionValue:[null,p.kI.required]}),this.parentsList=[],this.isAddingDownline=!1}return i(e,[{key:"ngOnInit",value:function(){}},{key:"fCtrls",get:function(){return this.addForm.controls}},{key:"onSubmit",value:function(){var t=this;console.log(this.addForm.value),this.isSubmitted=!0,this._settingsService.sStore(this.addForm.value).subscribe(function(e){t.isSubmitted=!1,t._router.navigateByUrl(t.backLink)},function(e){t.isSubmitted=!1})}},{key:"onChangeAddingType",value:function(t){this.isAddingDownline="downline"==t,this.isAddingDownline=!1,"downline"==t?(this.fCtrls.parentCandidateId.setValidators([p.kI.required]),this.fCtrls.parentCandidateId.updateValueAndValidity(),this.isAddingDownline=!0):"upline"==t&&(this.isAddingDownline=!1)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(u.Y36(c.g),u.Y36(l.F0),u.Y36(p.qu))},e.\u0275cmp=u.Xpm({type:e,selectors:[["app-add-settings"]],decls:26,vars:9,consts:[[4,"ngIf"],[1,"wrapper"],[1,"content-wrapper"],[3,"title","canshowBreadCrumb"],[1,"content"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"card-tools"],["actionType","back",3,"link"],[1,"card-body"],[3,"formGroup"],[1,"row"],[1,"col-md-6"],["fCtrlName","optionKey","label","Option Key",3,"fGroup"],["fCtrlName","optionValue","label","Option Key",3,"fGroup"],[1,"card-footer","text-right"],["type","button",1,"btn","btn-primary",3,"disabled","click"]],template:function(t,e){1&t&&(u.YNc(0,U,1,0,"v-loader",0),u.TgZ(1,"div",1),u._UZ(2,"app-header"),u._UZ(3,"app-sidebar"),u.TgZ(4,"div",2),u._UZ(5,"app-content-header",3),u.TgZ(6,"section",4),u.TgZ(7,"div",5),u.TgZ(8,"div",6),u.TgZ(9,"h3",7),u._uU(10),u.qZA(),u.TgZ(11,"div",8),u._UZ(12,"v-btn",9),u.qZA(),u.qZA(),u.TgZ(13,"div",10),u.TgZ(14,"form",11),u.TgZ(15,"div",12),u.TgZ(16,"p"),u._uU(17,"footerText || sideMenuTitle"),u.qZA(),u.TgZ(18,"div",13),u._UZ(19,"app-v-input-full",14),u.qZA(),u.TgZ(20,"div",13),u._UZ(21,"app-v-input-full",15),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(22,"div",16),u.TgZ(23,"button",17),u.NdJ("click",function(){return e.onSubmit()}),u._uU(24,"Submit"),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u._UZ(25,"app-footer"),u.qZA()),2&t&&(u.Q6J("ngIf",e.isSubmitted),u.xp6(5),u.Q6J("title",e.title)("canshowBreadCrumb",!0),u.xp6(5),u.hij("Add ",e.title,""),u.xp6(2),u.Q6J("link",e.backLink),u.xp6(2),u.Q6J("formGroup",e.addForm),u.xp6(5),u.Q6J("fGroup",e.addForm),u.xp6(2),u.Q6J("fGroup",e.addForm),u.xp6(2),u.Q6J("disabled",!e.addForm.valid))},directives:[o.O5,v.G,b.k,k.e,A.K,p._Y,p.JL,p.sg,T.a,q.c,g.O],styles:[""]}),e}();function C(t,e){1&t&&u._UZ(0,"v-loader")}var x=function(){return{exact:!0}},F=function(t){return[t]};function L(t,e){if(1&t){var i=u.EpF();u.TgZ(0,"a",10),u.NdJ("click",function(){var t=u.CHM(i).$implicit;return u.oxw().OpenSetting(t)}),u.TgZ(1,"small"),u._uU(2),u.qZA(),u.qZA()}if(2&t){var n=e.$implicit;u.Q6J("routerLinkActiveOptions",u.DdM(3,x))("routerLink",u.VKq(4,F,n.link)),u.xp6(2),u.Oqu(n.name)}}var I,J,N=[{path:"",component:(I=function(){function e(){t(this,e),this.isSubmitted=!1,this.title="Settings",this.backLink="/settings",this.menus=[{name:"Footer-Settings",link:"/settings"},{name:"Group Settings",link:"/settings/group"},{name:"Family Settings",link:"/settings/family"}],this.selectedMenu={name:"Footer-Settings",link:""},this.breadCrumbLinkItems=h.J.breadCrumbLinkItems}return i(e,[{key:"ngOnInit",value:function(){}},{key:"OpenSetting",value:function(t){this.selectedMenu=t}}]),e}(),I.\u0275fac=function(t){return new(t||I)},I.\u0275cmp=u.Xpm({type:I,selectors:[["app-setting-base"]],decls:14,vars:5,consts:[[4,"ngIf"],[1,"wrapper"],[1,"content-wrapper"],[3,"title","canshowBreadCrumb","breadCrumbLinkItems"],[1,"content"],[1,"row"],[1,"col-2"],[1,"list-group","col-sm-12","mr-0"],["class","list-group-item list-group-item-action","routerLinkActive","active","style","cursor: pointer",3,"routerLinkActiveOptions","routerLink","click",4,"ngFor","ngForOf"],[1,"col-10"],["routerLinkActive","active",1,"list-group-item","list-group-item-action",2,"cursor","pointer",3,"routerLinkActiveOptions","routerLink","click"]],template:function(t,e){1&t&&(u.YNc(0,C,1,0,"v-loader",0),u.TgZ(1,"div",1),u._UZ(2,"app-header"),u._UZ(3,"app-sidebar"),u.TgZ(4,"div",2),u._UZ(5,"app-content-header",3),u.TgZ(6,"section",4),u.TgZ(7,"div",5),u.TgZ(8,"div",6),u.TgZ(9,"ul",7),u.YNc(10,L,3,6,"a",8),u.qZA(),u.qZA(),u.TgZ(11,"div",9),u._UZ(12,"router-outlet"),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u._UZ(13,"app-footer"),u.qZA()),2&t&&(u.Q6J("ngIf",e.isSubmitted),u.xp6(5),u.Q6J("title",e.title)("canshowBreadCrumb",!0)("breadCrumbLinkItems",e.breadCrumbLinkItems),u.xp6(5),u.Q6J("ngForOf",e.menus))},directives:[o.O5,v.G,b.k,k.e,o.sg,l.lC,q.c,g.O,l.yS,l.Od],styles:[""]}),I),children:[{path:"",component:Z},{path:"group",loadChildren:function(){return Promise.all([r.e(592),r.e(929)]).then(r.bind(r,38929)).then(function(t){return t.GroupMasterModule})}},{path:"family",loadChildren:function(){return Promise.all([r.e(592),r.e(739)]).then(r.bind(r,87739)).then(function(t){return t.FamilyMasterModule})}}]},{path:"create",component:w},{path:":id/edit",component:y}],O=function(){var e=function e(){t(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({imports:[[l.Bz.forChild(N)],l.Bz]}),e}(),D=r(47635),Q=((J=function e(){t(this,e)}).\u0275fac=function(t){return new(t||J)},J.\u0275mod=u.oAB({type:J}),J.\u0275inj=u.cJS({imports:[[o.ez,O,D.m]]}),J)}}])}();