!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}(self.webpackChunkschool_ang_proj=self.webpackChunkschool_ang_proj||[]).push([[739],{87739:function(t,n,o){"use strict";o.r(n),o.d(n,{FamilyMasterModule:function(){return q}});var r=o(61116),s=o(64762),a=o(54733),l=o(83559),c=o(86659),u=o(22501),d=o.n(u),f=o(71397),m=o(85907),g=o(87368),p=o(35703),h=o(37205),b=o(11462),Z=o(22041),v=["myModal"];function y(e,t){1&e&&g._UZ(0,"v-loader")}function T(e,t){if(1&e&&(g.TgZ(0,"th",22),g._uU(1),g.qZA()),2&e){var i=t.$implicit;g.xp6(1),g.Oqu(i)}}function x(e,t){if(1&e){var i=g.EpF();g.TgZ(0,"tr"),g.TgZ(1,"td"),g._uU(2),g.qZA(),g.TgZ(3,"td"),g._uU(4),g.qZA(),g.TgZ(5,"td"),g.TgZ(6,"button",23),g.NdJ("click",function(){var e=g.CHM(i),t=e.$implicit,n=e.index;return g.oxw().onClickEdit(t,n)}),g._uU(7,"Edit"),g.qZA(),g.TgZ(8,"button",24),g.NdJ("click",function(){var e=g.CHM(i),t=e.$implicit,n=e.index;return g.oxw().onClicdelete(t,n)}),g._uU(9,"Delete"),g.qZA(),g.qZA(),g.qZA()}if(2&e){var n=t.$implicit,o=t.index;g.xp6(2),g.Oqu(o+1),g.xp6(2),g.Oqu(n.familyName)}}var A,S=function(){var t=function(){function t(i,n,o){e(this,t),this.modalService=i,this.loaction=n,this.familyMasterServiceService=o,this.isSubmitted=!1,this.list=[],this.groupName="",this.deleteIndex=null,this.dtOptions={},this.dtTrigger=new l.xQ,this.thCols=["Id","Family Type","Actions"]}return i(t,[{key:"ngOnInit",value:function(){this.index(),this.dtOptions=f.Z.optionsWithoutDownload}},{key:"index",value:function(){var e=this;this.isSubmitted=!0,this.list=[],this.familyMasterServiceService.sIndex().subscribe(function(t){t&&t.data&&t.data.length&&(e.isSubmitted=!1,e.list=t.data,e.dtTrigger.next(),e.rerender()),e.isSubmitted=!1},function(t){console.log(t),m.error("No data found","Error !"),e.isSubmitted=!1})}},{key:"rerender",value:function(){var e=this;try{this.dtElement.dtInstance.then(function(t){t.destroy(),e.dtTrigger.next()})}catch(t){console.log(t)}}},{key:"delete",value:function(e){var t=this;console.log("e:",e),this.isSubmitted=!0,this.familyMasterServiceService.sDelete(e).subscribe(function(e){console.log("res:",e),t.isSubmitted=!1,t.index(),c.Z.showSweetAlert("Deleted Successfully",!1),setTimeout(function(){location.reload()},300)},function(e){console.log("err:",e),c.Z.showSweetAlert(e.error.message,!1),t.isSubmitted=!1})}},{key:"onClickHandlier",value:function(){this.modalService.open(this.myModal,{size:"md"})}},{key:"Add",value:function(){var e=this,t={familyName:this.groupName};this.isSubmitted=!0,this.familyMasterServiceService.sStore(t).subscribe(function(t){e.isSubmitted=!1,e.modalService.close(e.myModal),e.index(),setTimeout(function(){location.reload()},300)},function(t){e.isSubmitted=!1})}},{key:"closeModal",value:function(){this.modalService.close(this.myModal)}},{key:"onClickEdit",value:function(e,t){this.groupName=e.familyName,this.modalService.open(this.myModal,{size:"md"})}},{key:"onClicdelete",value:function(e,t){return(0,s.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var i=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.isSubmitted=!1,d().fire({title:"Are you sure you want to remove?",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"Cancel"}).then(function(t){i.familyMasterServiceService.sDelete(e._id).subscribe(function(t){i.deleteIndex=e._id,i.isSubmitted=!1,i.index(),c.Z.showSweetAlert("Deleted Successfully",!1),setTimeout(function(){location.reload()},300)},function(e){c.Z.showSweetAlert(e.error.message,!1),i.isSubmitted=!1})});case 1:case"end":return t.stop()}},t,this)}))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(g.Y36(p.gk),g.Y36(r.Ye),g.Y36(h.f))},t.\u0275cmp=g.Xpm({type:t,selectors:[["app-family-master"]],viewQuery:function(e,t){var i;(1&e&&(g.Gf(v,5),g.Gf(a.G,5)),2&e)&&(g.iGM(i=g.CRH())&&(t.myModal=i.first),g.iGM(i=g.CRH())&&(t.dtElement=i.first))},decls:35,vars:8,consts:[[4,"ngIf"],[1,"wrapper"],[1,"content-wrapper","ml-0"],[1,"content"],[1,"card"],[1,"card-header"],[1,"row"],[1,"col-6"],[1,"card-title"],[1,"col-6","text-right"],["type","button",1,"btn","btn-sm","shadow","px-3","mx-1","rounded-pill","bg-primary",3,"click"],[1,"card-body"],[1,"table-responsive"],["datatable","",1,"table","table-striped","table-bordered","compact",3,"dtOptions","dtTrigger"],[1,"bg-info"],["scope","col",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],["myModal",""],["for",""],["type","text",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn","btn-primary","mr-1",3,"click"],[1,"btn","btn-danger",3,"click"],["scope","col"],["type","button",1,"btn","btn-primary","btn-sm","rounded-pill",3,"click"],["type","button",1,"btn","btn-danger","btn-sm","rounded-pill",3,"click"]],template:function(e,t){1&e&&(g.YNc(0,y,1,0,"v-loader",0),g.TgZ(1,"div",1),g.TgZ(2,"div",2),g.TgZ(3,"section",3),g.TgZ(4,"div",4),g.TgZ(5,"div",5),g.TgZ(6,"div",6),g.TgZ(7,"div",7),g.TgZ(8,"h3",8),g._uU(9),g.qZA(),g.qZA(),g.TgZ(10,"div",9),g.TgZ(11,"button",10),g.NdJ("click",function(){return t.onClickHandlier()}),g._uU(12),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(13,"div",11),g.TgZ(14,"div",12),g.TgZ(15,"table",13),g.TgZ(16,"thead",14),g.TgZ(17,"tr"),g.YNc(18,T,2,1,"th",15),g.qZA(),g.qZA(),g.TgZ(19,"tbody"),g.YNc(20,x,10,2,"tr",16),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(21,"modal",null,17),g.TgZ(23,"modal-header"),g.TgZ(24,"h1"),g._uU(25,"Add Family"),g.qZA(),g.qZA(),g.TgZ(26,"modal-content"),g.TgZ(27,"label",18),g._uU(28,"Family Type"),g.qZA(),g.TgZ(29,"input",19),g.NdJ("ngModelChange",function(e){return t.groupName=e}),g.qZA(),g.qZA(),g.TgZ(30,"modal-footer"),g.TgZ(31,"button",20),g.NdJ("click",function(){return t.Add()}),g._uU(32,"Add"),g.qZA(),g.TgZ(33,"button",21),g.NdJ("click",function(){return t.closeModal()}),g._uU(34,"close"),g.qZA(),g.qZA(),g.qZA()),2&e&&(g.Q6J("ngIf",t.isSubmitted),g.xp6(9),g.Oqu("Group List"),g.xp6(3),g.hij(" ","Add Group"," "),g.xp6(3),g.Q6J("dtOptions",t.dtOptions)("dtTrigger",t.dtTrigger),g.xp6(3),g.Q6J("ngForOf",t.thCols),g.xp6(2),g.Q6J("ngForOf",t.list),g.xp6(9),g.Q6J("ngModel",t.groupName))},directives:[r.O5,a.G,r.sg,p.zS,p.Rb,p.Ef,b.Fj,b.JJ,b.On,p.YI,Z.O],styles:[""]}),t}(),w=o(89264),k=o(47635),q=((A=function t(){e(this,t)}).\u0275fac=function(e){return new(e||A)},A.\u0275mod=g.oAB({type:A}),A.\u0275inj=g.cJS({imports:[[r.ez,w.Bz.forChild([{path:"",component:S}]),k.m,p.zk]]}),A)},86659:function(t,n,o){"use strict";o.d(n,{Z:function(){return a}});var r=o(22501),s=o.n(r),a=function(){function t(){e(this,t)}return i(t,null,[{key:"showSweetAlert",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];s().fire({position:"top-end",icon:t?"success":"error",title:e,showConfirmButton:!1,timer:3e3})}}]),t}()},71397:function(t,i){"use strict";var n;i.Z=((n=function t(){e(this,t)}).options={bDestroy:!0,multiple:!0,pagingType:"full_numbers",pageLength:5,lengthMenu:[5,10,25],processing:!0,language:{search:"Quick Search:"},fnDrawCallback:function(){$("input[type='search']").attr("id","searchBox"),$("#dialPlanListTable").css("cssText","margin-top: 0px !important;"),$("select[name='dialPlanListTable_length'], #searchBox").removeClass("input-sm"),$("#searchBox").css("width","330px").focus(),$("#dialPlanListTable_filter").removeClass("dataTables_filter")},dom:"Bfrtip",buttons:[{extend:"excel",className:"btn-success1",text:"Download Excel"}]},n.optionsWithoutDownload={bDestroy:!0,multiple:!0,pagingType:"full_numbers",pageLength:5,lengthMenu:[5,10,25],processing:!0,language:{search:"Quick Search:"},fnDrawCallback:function(){$("input[type='search']").attr("id","searchBox"),$("#dialPlanListTable").css("cssText","margin-top: 0px !important;"),$("select[name='dialPlanListTable_length'], #searchBox").removeClass("input-sm"),$("#searchBox").css("width","330px").focus(),$("#dialPlanListTable_filter").removeClass("dataTables_filter")}},n)}}])}();