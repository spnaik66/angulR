(self.webpackChunkschool_ang_proj=self.webpackChunkschool_ang_proj||[]).push([[739],{87739:function(t,e,i){"use strict";i.r(e),i.d(e,{FamilyMasterModule:function(){return v}});var s=i(61116),n=i(64762),o=i(54733),r=i(83559),l=i(86659),a=i(22501),c=i.n(a),d=i(71397),u=i(85907),m=i(87368),h=i(35703),g=i(37205),p=i(11462),b=i(22041);const f=["myModal"];function Z(t,e){1&t&&m._UZ(0,"v-loader")}function T(t,e){if(1&t&&(m.TgZ(0,"th",22),m._uU(1),m.qZA()),2&t){const t=e.$implicit;m.xp6(1),m.Oqu(t)}}function x(t,e){if(1&t){const t=m.EpF();m.TgZ(0,"tr"),m.TgZ(1,"td"),m._uU(2),m.qZA(),m.TgZ(3,"td"),m._uU(4),m.qZA(),m.TgZ(5,"td"),m.TgZ(6,"button",23),m.NdJ("click",function(){const e=m.CHM(t),i=e.$implicit,s=e.index;return m.oxw().onClickEdit(i,s)}),m._uU(7,"Edit"),m.qZA(),m.TgZ(8,"button",24),m.NdJ("click",function(){const e=m.CHM(t),i=e.$implicit,s=e.index;return m.oxw().onClicdelete(i,s)}),m._uU(9,"Delete"),m.qZA(),m.qZA(),m.qZA()}if(2&t){const t=e.$implicit,i=e.index;m.xp6(2),m.Oqu(i+1),m.xp6(2),m.Oqu(t.familyName)}}let y=(()=>{class t{constructor(t,e,i){this.modalService=t,this.loaction=e,this.familyMasterServiceService=i,this.isSubmitted=!1,this.list=[],this.groupName="",this.deleteIndex=null,this.dtOptions={},this.dtTrigger=new r.xQ,this.thCols=["Id","Family Type","Actions"]}ngOnInit(){this.index(),this.dtOptions=d.Z.optionsWithoutDownload}index(){this.isSubmitted=!0,this.list=[],this.familyMasterServiceService.sIndex().subscribe(t=>{t&&t.data&&t.data.length&&(this.isSubmitted=!1,this.list=t.data,this.dtTrigger.next(),this.rerender()),this.isSubmitted=!1},t=>{console.log(t),u.error("No data found","Error !"),this.isSubmitted=!1})}rerender(){try{this.dtElement.dtInstance.then(t=>{t.destroy(),this.dtTrigger.next()})}catch(t){console.log(t)}}delete(t){console.log("e:",t),this.isSubmitted=!0,this.familyMasterServiceService.sDelete(t).subscribe(t=>{console.log("res:",t),this.isSubmitted=!1,this.index(),l.Z.showSweetAlert("Deleted Successfully",!1),setTimeout(()=>{location.reload()},300)},t=>{console.log("err:",t),l.Z.showSweetAlert(t.error.message,!1),this.isSubmitted=!1})}onClickHandlier(){this.modalService.open(this.myModal,{size:"md"})}Add(){const t={familyName:this.groupName};this.isSubmitted=!0,this.familyMasterServiceService.sStore(t).subscribe(t=>{this.isSubmitted=!1,this.modalService.close(this.myModal),this.index(),setTimeout(()=>{location.reload()},300)},t=>{this.isSubmitted=!1})}closeModal(){this.modalService.close(this.myModal)}onClickEdit(t,e){this.groupName=t.familyName,this.modalService.open(this.myModal,{size:"md"})}onClicdelete(t,e){return(0,n.mG)(this,void 0,void 0,function*(){this.isSubmitted=!1,c().fire({title:"Are you sure you want to remove?",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"Cancel"}).then(e=>{this.familyMasterServiceService.sDelete(t._id).subscribe(e=>{this.deleteIndex=t._id,this.isSubmitted=!1,this.index(),l.Z.showSweetAlert("Deleted Successfully",!1),setTimeout(()=>{location.reload()},300)},t=>{l.Z.showSweetAlert(t.error.message,!1),this.isSubmitted=!1})})})}}return t.\u0275fac=function(e){return new(e||t)(m.Y36(h.gk),m.Y36(s.Ye),m.Y36(g.f))},t.\u0275cmp=m.Xpm({type:t,selectors:[["app-family-master"]],viewQuery:function(t,e){if(1&t&&(m.Gf(f,5),m.Gf(o.G,5)),2&t){let t;m.iGM(t=m.CRH())&&(e.myModal=t.first),m.iGM(t=m.CRH())&&(e.dtElement=t.first)}},decls:35,vars:8,consts:[[4,"ngIf"],[1,"wrapper"],[1,"content-wrapper","ml-0"],[1,"content"],[1,"card"],[1,"card-header"],[1,"row"],[1,"col-6"],[1,"card-title"],[1,"col-6","text-right"],["type","button",1,"btn","btn-sm","shadow","px-3","mx-1","rounded-pill","bg-primary",3,"click"],[1,"card-body"],[1,"table-responsive"],["datatable","",1,"table","table-striped","table-bordered","compact",3,"dtOptions","dtTrigger"],[1,"bg-info"],["scope","col",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],["myModal",""],["for",""],["type","text",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn","btn-primary","mr-1",3,"click"],[1,"btn","btn-danger",3,"click"],["scope","col"],["type","button",1,"btn","btn-primary","btn-sm","rounded-pill",3,"click"],["type","button",1,"btn","btn-danger","btn-sm","rounded-pill",3,"click"]],template:function(t,e){1&t&&(m.YNc(0,Z,1,0,"v-loader",0),m.TgZ(1,"div",1),m.TgZ(2,"div",2),m.TgZ(3,"section",3),m.TgZ(4,"div",4),m.TgZ(5,"div",5),m.TgZ(6,"div",6),m.TgZ(7,"div",7),m.TgZ(8,"h3",8),m._uU(9),m.qZA(),m.qZA(),m.TgZ(10,"div",9),m.TgZ(11,"button",10),m.NdJ("click",function(){return e.onClickHandlier()}),m._uU(12),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.TgZ(13,"div",11),m.TgZ(14,"div",12),m.TgZ(15,"table",13),m.TgZ(16,"thead",14),m.TgZ(17,"tr"),m.YNc(18,T,2,1,"th",15),m.qZA(),m.qZA(),m.TgZ(19,"tbody"),m.YNc(20,x,10,2,"tr",16),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.TgZ(21,"modal",null,17),m.TgZ(23,"modal-header"),m.TgZ(24,"h1"),m._uU(25,"Add Family"),m.qZA(),m.qZA(),m.TgZ(26,"modal-content"),m.TgZ(27,"label",18),m._uU(28,"Family Type"),m.qZA(),m.TgZ(29,"input",19),m.NdJ("ngModelChange",function(t){return e.groupName=t}),m.qZA(),m.qZA(),m.TgZ(30,"modal-footer"),m.TgZ(31,"button",20),m.NdJ("click",function(){return e.Add()}),m._uU(32,"Add"),m.qZA(),m.TgZ(33,"button",21),m.NdJ("click",function(){return e.closeModal()}),m._uU(34,"close"),m.qZA(),m.qZA(),m.qZA()),2&t&&(m.Q6J("ngIf",e.isSubmitted),m.xp6(9),m.Oqu("Group List"),m.xp6(3),m.hij(" ","Add Group"," "),m.xp6(3),m.Q6J("dtOptions",e.dtOptions)("dtTrigger",e.dtTrigger),m.xp6(3),m.Q6J("ngForOf",e.thCols),m.xp6(2),m.Q6J("ngForOf",e.list),m.xp6(9),m.Q6J("ngModel",e.groupName))},directives:[s.O5,o.G,s.sg,h.zS,h.Rb,h.Ef,p.Fj,p.JJ,p.On,h.YI,b.O],styles:[""]}),t})();var A=i(89264),S=i(47635);let v=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=m.oAB({type:t}),t.\u0275inj=m.cJS({imports:[[s.ez,A.Bz.forChild([{path:"",component:y}]),S.m,h.zk]]}),t})()},86659:function(t,e,i){"use strict";i.d(e,{Z:function(){return o}});var s=i(22501),n=i.n(s);class o{static showSweetAlert(t,e=!0){n().fire({position:"top-end",icon:e?"success":"error",title:t,showConfirmButton:!1,timer:3e3})}}},71397:function(t,e){"use strict";e.Z=(()=>{class t{}return t.options={bDestroy:!0,multiple:!0,pagingType:"full_numbers",pageLength:5,lengthMenu:[5,10,25],processing:!0,language:{search:"Quick Search:"},fnDrawCallback:function(){$("input[type='search']").attr("id","searchBox"),$("#dialPlanListTable").css("cssText","margin-top: 0px !important;"),$("select[name='dialPlanListTable_length'], #searchBox").removeClass("input-sm"),$("#searchBox").css("width","330px").focus(),$("#dialPlanListTable_filter").removeClass("dataTables_filter")},dom:"Bfrtip",buttons:[{extend:"excel",className:"btn-success1",text:"Download Excel"}]},t.optionsWithoutDownload={bDestroy:!0,multiple:!0,pagingType:"full_numbers",pageLength:5,lengthMenu:[5,10,25],processing:!0,language:{search:"Quick Search:"},fnDrawCallback:function(){$("input[type='search']").attr("id","searchBox"),$("#dialPlanListTable").css("cssText","margin-top: 0px !important;"),$("select[name='dialPlanListTable_length'], #searchBox").removeClass("input-sm"),$("#searchBox").css("width","330px").focus(),$("#dialPlanListTable_filter").removeClass("dataTables_filter")}},t})()}}]);