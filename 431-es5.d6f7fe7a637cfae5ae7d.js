!function(){function t(t){return function(t){if(Array.isArray(t))return e(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,i){if(!t)return;if("string"==typeof t)return e(t,i);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return e(t,i)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function i(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function n(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(self.webpackChunkschool_ang_proj=self.webpackChunkschool_ang_proj||[]).push([[431],{15431:function(e,i,r){"use strict";r.r(i),r.d(i,{ContractManagementModule:function(){return ee}});var a=r(61116),s=r(47635),c=function(){var t=function t(){o(this,t)};return t.breadCrumbLinkItems=[{label:"Panel",link:"/contract-management"}],t.ContactsListRoute="/contract-management/contacts",t.listMessageFormatsRoute="/contract-management/msg-formats",t}(),l=r(11462),d=r(87368),u=r(42693),p=r(17145),m=function(){var t=function(){function t(e){o(this,t),this._httpClient=e,this.url=p.A.CONTRACT_CONTACTS}return n(t,[{key:"sIndex",value:function(){return this._httpClient.get(this.url)}},{key:"sStore",value:function(t){var e=Object.assign({},t);return this._httpClient.post(this.url,e)}},{key:"sShow",value:function(t){return this._httpClient.get(this.url+"/"+t)}},{key:"sUpdate",value:function(t,e){return this._httpClient.patch(this.url+"/"+t,e)}},{key:"sDelete",value:function(t){return this._httpClient.delete(this.url+"/"+t)}},{key:"sSendNotifications",value:function(t){return this._httpClient.get(this.url+"/"+t)}},{key:"upload",value:function(t){var e=new FormData;e.append("file",t);var i=new u.aW("POST","".concat(this.url,"/bulk-import"),e,{reportProgress:!0,responseType:"json"});return this._httpClient.request(i)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(d.LFG(u.eN))},t.\u0275prov=d.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),Z=r(89264),f=r(80570),g=r(23458),h=r(12937),b=r(98911),v=r(15842),q=r(32370),A=r(22041);function T(t,e){1&t&&d._UZ(0,"v-loader")}function C(t,e){1&t&&(d.TgZ(0,"p"),d._uU(1," phoneNumber is Required "),d.qZA())}function _(t,e){1&t&&(d.TgZ(0,"p"),d._uU(1," email is Required "),d.qZA())}function k(t,e){1&t&&(d.TgZ(0,"p"),d._uU(1," purposeOfContract is Required "),d.qZA())}function x(t,e){1&t&&(d.TgZ(0,"p"),d._uU(1," startDate is Required "),d.qZA())}function y(t,e){1&t&&(d.TgZ(0,"p"),d._uU(1," endDate is Required "),d.qZA())}function U(t,e){1&t&&(d.TgZ(0,"p"),d._uU(1," Note is Required "),d.qZA())}var S=function(){var t=function(){function t(e,i,n,r){o(this,t),this._contractContactService=e,this._router=i,this._formBuilder=n,this._activatedRoute=r,this.isSubmitted=!1,this.title=" Contracts",this.backLink="/contract-management/contacts",this.breadCrumbLinkItems=c.breadCrumbLinkItems,this.addForm=this._formBuilder.group({name:["contract1",l.kI.required],middleName:[null,l.kI.required],surname:[null,l.kI.required],email:[null,l.kI.required],phoneNumber:[null,l.kI.required],facebook:[null,l.kI.required],linkdin:[null,l.kI.required],purposeOfContract:[null,l.kI.required],startDate:[null,l.kI.required],endDate:[null,l.kI.required],note:[null,l.kI.required]}),this.selectedId=this._activatedRoute.snapshot.params.id,this.loadData(this.selectedId)}return n(t,[{key:"ngOnInit",value:function(){}},{key:"fCtrls",get:function(){return this.addForm.controls}},{key:"loadData",value:function(t){var e=this;this.isSubmitted=!0,this._contractContactService.sShow(t).subscribe(function(t){t&&t.data&&(console.log("res.data:===",t.data),e.addForm.patchValue(Object.assign({},t.data))),e.isSubmitted=!1},function(t){console.log("Error !"),e.isSubmitted=!1})}},{key:"onUpdate",value:function(){var t=this;console.log(this.addForm.value),this.isSubmitted=!0,this._contractContactService.sUpdate(this.selectedId,this.addForm.value).subscribe(function(e){t.isSubmitted=!1,t._router.navigateByUrl("/contacts")},function(e){t.isSubmitted=!1})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(d.Y36(m),d.Y36(Z.F0),d.Y36(l.qu),d.Y36(Z.gz))},t.\u0275cmp=d.Xpm({type:t,selectors:[["app-view-contract-contacts"]],decls:60,vars:16,consts:[[4,"ngIf"],[1,"wrapper"],[1,"content-wrapper"],[3,"title","canshowBreadCrumb","breadCrumbLinkItems"],[1,"content"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"card-tools"],["actionType","back",3,"link"],[1,"card-body"],[3,"formGroup"],[1,"row"],[1,"col-md-6"],["fCtrlName","name","label","First Name","isReadonly","true'",3,"fGroup"],["fCtrlName","middleName","label","Middle Name","isReadonly","true'",3,"fGroup"],["fCtrlName","surname","label","Last Name","isReadonly","true'",3,"fGroup"],[1,"form-group"],["for","exampleInputEmail1"],["type","text","id","exampleInputEmail1","aria-describedby","emailHelp","formControlName","phoneNumber","readonly","",1,"form-control"],["type","text","id","exampleInputEmail1","aria-describedby","emailHelp","formControlName","email","readonly","",1,"form-control"],["type","text","id","exampleInputEmail1","aria-describedby","emailHelp","formControlName","purposeOfContract","readonly","",1,"form-control"],["type","date","id","exampleInputEmail1","aria-describedby","emailHelp","formControlName","startDate","readonly","",1,"form-control"],["type","date","id","exampleInputEmail1","aria-describedby","emailHelp","formControlName","endDate","readonly","",1,"form-control"],[1,"col-md-12"],["id","exampleInputEmail1","aria-describedby","emailHelp","formControlName","note","rows","3","readonly","",1,"form-control"],[1,"card-footer","text-right"]],template:function(t,e){1&t&&(d.YNc(0,T,1,0,"v-loader",0),d.TgZ(1,"div",1),d._UZ(2,"app-header"),d._UZ(3,"app-sidebar"),d.TgZ(4,"div",2),d._UZ(5,"app-content-header",3),d.TgZ(6,"section",4),d.TgZ(7,"div",5),d.TgZ(8,"div",6),d.TgZ(9,"h3",7),d._uU(10),d.qZA(),d.TgZ(11,"div",8),d._UZ(12,"v-btn",9),d.qZA(),d.qZA(),d.TgZ(13,"div",10),d.TgZ(14,"form",11),d.TgZ(15,"div",12),d.TgZ(16,"div",13),d._UZ(17,"app-v-input-full",14),d.qZA(),d.TgZ(18,"div",13),d._UZ(19,"app-v-input-full",15),d.qZA(),d.TgZ(20,"div",13),d._UZ(21,"app-v-input-full",16),d.qZA(),d.TgZ(22,"div",13),d.TgZ(23,"div",17),d.TgZ(24,"label",18),d._uU(25,"PhoneNumber"),d.qZA(),d._UZ(26,"input",19),d.YNc(27,C,2,0,"p",0),d.qZA(),d.qZA(),d.TgZ(28,"div",13),d.TgZ(29,"div",17),d.TgZ(30,"label",18),d._uU(31,"Email"),d.qZA(),d._UZ(32,"input",20),d.YNc(33,_,2,0,"p",0),d.qZA(),d.qZA(),d.TgZ(34,"div",13),d.TgZ(35,"div",17),d.TgZ(36,"label",18),d._uU(37,"Purpose Of Contract"),d.qZA(),d._UZ(38,"input",21),d.YNc(39,k,2,0,"p",0),d.qZA(),d.qZA(),d.TgZ(40,"div",13),d.TgZ(41,"div",17),d.TgZ(42,"label",18),d._uU(43,"Start Date"),d.qZA(),d._UZ(44,"input",22),d.YNc(45,x,2,0,"p",0),d.qZA(),d.qZA(),d.TgZ(46,"div",13),d.TgZ(47,"div",17),d.TgZ(48,"label",18),d._uU(49,"End Date"),d.qZA(),d._UZ(50,"input",23),d.YNc(51,y,2,0,"p",0),d.qZA(),d.qZA(),d.TgZ(52,"div",24),d.TgZ(53,"div",17),d.TgZ(54,"label",18),d._uU(55,"Note"),d.qZA(),d._UZ(56,"textarea",25),d.YNc(57,U,2,0,"p",0),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d._UZ(58,"div",26),d.qZA(),d.qZA(),d.qZA(),d._UZ(59,"app-footer"),d.qZA()),2&t&&(d.Q6J("ngIf",e.isSubmitted),d.xp6(5),d.Q6J("title",e.title)("canshowBreadCrumb",!0)("breadCrumbLinkItems",e.breadCrumbLinkItems),d.xp6(5),d.hij("View ",e.title,""),d.xp6(2),d.Q6J("link",e.backLink),d.xp6(2),d.Q6J("formGroup",e.addForm),d.xp6(3),d.Q6J("fGroup",e.addForm),d.xp6(2),d.Q6J("fGroup",e.addForm),d.xp6(2),d.Q6J("fGroup",e.addForm),d.xp6(6),d.Q6J("ngIf",e.fCtrls.phoneNumber.dirty&&e.fCtrls.phoneNumber.invalid),d.xp6(6),d.Q6J("ngIf",e.fCtrls.email.dirty&&e.fCtrls.email.invalid),d.xp6(6),d.Q6J("ngIf",e.fCtrls.purposeOfContract.dirty&&e.fCtrls.purposeOfContract.invalid),d.xp6(6),d.Q6J("ngIf",e.fCtrls.startDate.dirty&&e.fCtrls.startDate.invalid),d.xp6(6),d.Q6J("ngIf",e.fCtrls.endDate.dirty&&e.fCtrls.endDate.invalid),d.xp6(6),d.Q6J("ngIf",e.fCtrls.note.dirty&&e.fCtrls.note.invalid))},directives:[a.O5,f.G,g.k,h.e,b.K,l._Y,l.JL,l.sg,v.a,l.Fj,l.JJ,l.u,q.c,A.O],styles:[""]}),t}(),N=r(85907);function I(t,e){1&t&&d._UZ(0,"v-loader")}var F=function(){var t=function(){function t(e,i){o(this,t),this._contractContactService=e,this._router=i,this.isSubmitted=!1,this.title=" Bulk Import Contacts",this.backLink="/contract-management/contacts"}return n(t,[{key:"ngOnInit",value:function(){}},{key:"selectFiles",value:function(t,e){this.fileRef=e,this.selectedFiles=t.target.files}},{key:"upload",value:function(t,e){var i=this;console.log("file:",e),this.fileUploadService$=this._contractContactService.upload(e),this.fileUploadService$.subscribe(function(t){t.type===u.dt.UploadProgress?console.log("Uploading:"):t.type===u.dt.Response&&(console.log("succ:"),i.fileRef.value="",N.success("Data imported successfuly","Success !"),i.isSubmitted=!1)},function(t){console.log("err:",t),N.error("Data imported failed","Error !"),i.isSubmitted=!1})}},{key:"uploadFiles",value:function(){for(var t=0;t<this.selectedFiles.length;t++)this.upload(t,this.selectedFiles[t])}}]),t}();return t.\u0275fac=function(e){return new(e||t)(d.Y36(m),d.Y36(Z.F0))},t.\u0275cmp=d.Xpm({type:t,selectors:[["app-bulk-import-contract-contacts"]],decls:40,vars:5,consts:[[4,"ngIf"],[1,"wrapper"],[1,"content-wrapper"],[1,"content-header"],[1,"container-fluid"],[1,"row","mb-2"],[1,"col-sm-6"],[1,"breadcrumb","float-sm-right"],[1,"breadcrumb-item"],["href","#"],[1,"breadcrumb-item","active"],[1,"content"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"card-tools"],["actionType","back",3,"link"],[1,"card-body"],["href","assets/sample-bulk-import-contacts.xlsx","download",""],[1,"row"],[1,"col-md-6"],[1,"form-group"],["for","exampleInputEmail1"],["type","file",1,"form-control",3,"change"],["file",""],[1,"card-footer","text-right"],["type","button",1,"btn","btn-primary",3,"disabled","click"]],template:function(t,e){if(1&t){var i=d.EpF();d.YNc(0,I,1,0,"v-loader",0),d.TgZ(1,"div",1),d._UZ(2,"app-header"),d._UZ(3,"app-sidebar"),d.TgZ(4,"div",2),d.TgZ(5,"section",3),d.TgZ(6,"div",4),d.TgZ(7,"div",5),d.TgZ(8,"div",6),d.TgZ(9,"h1"),d._uU(10),d.qZA(),d.qZA(),d.TgZ(11,"div",6),d.TgZ(12,"ol",7),d.TgZ(13,"li",8),d.TgZ(14,"a",9),d._uU(15,"Home"),d.qZA(),d.qZA(),d.TgZ(16,"li",10),d._uU(17,"Blank Page"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(18,"section",11),d.TgZ(19,"div",12),d.TgZ(20,"div",13),d.TgZ(21,"h3",14),d._uU(22),d.qZA(),d.TgZ(23,"div",15),d._UZ(24,"v-btn",16),d.qZA(),d.qZA(),d.TgZ(25,"div",17),d.TgZ(26,"a",18),d._uU(27,"Download Sample File Here"),d.qZA(),d._UZ(28,"br"),d.TgZ(29,"div",19),d.TgZ(30,"div",20),d.TgZ(31,"div",21),d.TgZ(32,"label",22),d._uU(33,"Select Excel file"),d.qZA(),d.TgZ(34,"input",23,24),d.NdJ("change",function(t){d.CHM(i);var n=d.MAs(35);return e.selectFiles(t,n)}),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(36,"div",25),d.TgZ(37,"button",26),d.NdJ("click",function(){return e.uploadFiles()}),d._uU(38,"Submit"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d._UZ(39,"app-footer"),d.qZA()}2&t&&(d.Q6J("ngIf",e.isSubmitted),d.xp6(10),d.Oqu(e.title),d.xp6(12),d.hij("Add ",e.title,""),d.xp6(2),d.Q6J("link",e.backLink),d.xp6(13),d.Q6J("disabled",!e.selectedFiles))},directives:[a.O5,f.G,g.k,b.K,q.c,A.O],styles:[""]}),t}(),O=function(){var t=function(){function t(e){o(this,t),this._httpClient=e,this.url=p.A.CONTRACT_MSG_FORMATS}return n(t,[{key:"sIndex",value:function(){return this._httpClient.get(this.url)}},{key:"sStore",value:function(t){var e=Object.assign({},t);return this._httpClient.post(this.url,e)}},{key:"sShow",value:function(t){return this._httpClient.get(this.url+"/"+t)}},{key:"sUpdate",value:function(t,e){return this._httpClient.patch(this.url+"/"+t,e)}},{key:"sDelete",value:function(t){return this._httpClient.delete(this.url+"/"+t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(d.LFG(u.eN))},t.\u0275prov=d.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t}();function J(t,e){1&t&&d._UZ(0,"v-loader")}function w(t,e){1&t&&(d.TgZ(0,"p"),d._uU(1," Message is Required "),d.qZA())}var L=function(){var t=function(){function t(e,i,n){o(this,t),this._contractMsgFomratService=e,this._router=i,this._formBuilder=n,this.isSubmitted=!1,this.title=" Format Messages",this.indexRedirect="/contract-management/msg-formats",this.addForm=this._formBuilder.group({name:[null,l.kI.required],message:[null,l.kI.required]})}return n(t,[{key:"ngOnInit",value:function(){}},{key:"fCtrls",get:function(){return this.addForm.controls}},{key:"onSubmit",value:function(){var t=this;console.log(this.addForm.value),this.isSubmitted=!0,this._contractMsgFomratService.sStore(this.addForm.value).subscribe(function(e){t.isSubmitted=!1,t._router.navigateByUrl(t.indexRedirect)},function(e){t.isSubmitted=!1})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(d.Y36(O),d.Y36(Z.F0),d.Y36(l.qu))},t.\u0275cmp=d.Xpm({type:t,selectors:[["app-add-contract-msg-formats"]],decls:40,vars:9,consts:[[4,"ngIf"],[1,"wrapper"],[1,"content-wrapper"],[1,"content-header"],[1,"container-fluid"],[1,"row","mb-2"],[1,"col-sm-6"],[1,"breadcrumb","float-sm-right"],[1,"breadcrumb-item"],["href","#"],[1,"breadcrumb-item","active"],[1,"content"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"card-tools"],["actionType","back",3,"link"],[1,"card-body"],[3,"formGroup"],[1,"row"],[1,"col-md-12"],["fCtrlName","name",3,"label","fGroup"],[1,"form-group"],["for","exampleInputEmail1"],["type","text","id","exampleInputEmail1","aria-describedby","emailHelp","formControlName","message",1,"form-control"],[1,"card-footer","text-right"],["type","button",1,"btn","btn-primary",3,"disabled","click"]],template:function(t,e){1&t&&(d.YNc(0,J,1,0,"v-loader",0),d.TgZ(1,"div",1),d._UZ(2,"app-header"),d._UZ(3,"app-sidebar"),d.TgZ(4,"div",2),d.TgZ(5,"section",3),d.TgZ(6,"div",4),d.TgZ(7,"div",5),d.TgZ(8,"div",6),d.TgZ(9,"h1"),d._uU(10),d.qZA(),d.qZA(),d.TgZ(11,"div",6),d.TgZ(12,"ol",7),d.TgZ(13,"li",8),d.TgZ(14,"a",9),d._uU(15,"Home"),d.qZA(),d.qZA(),d.TgZ(16,"li",10),d._uU(17,"Blank Page"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(18,"section",11),d.TgZ(19,"div",12),d.TgZ(20,"div",13),d.TgZ(21,"h3",14),d._uU(22),d.qZA(),d.TgZ(23,"div",15),d._UZ(24,"v-btn",16),d.qZA(),d.qZA(),d.TgZ(25,"div",17),d.TgZ(26,"form",18),d.TgZ(27,"div",19),d.TgZ(28,"div",20),d._UZ(29,"app-v-input-full",21),d.qZA(),d.TgZ(30,"div",20),d.TgZ(31,"div",22),d.TgZ(32,"label",23),d._uU(33,"Message"),d.qZA(),d._UZ(34,"input",24),d.YNc(35,w,2,0,"p",0),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(36,"div",25),d.TgZ(37,"button",26),d.NdJ("click",function(){return e.onSubmit()}),d._uU(38,"Submit"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d._UZ(39,"app-footer"),d.qZA()),2&t&&(d.Q6J("ngIf",e.isSubmitted),d.xp6(10),d.Oqu(e.title),d.xp6(12),d.hij("Add ",e.title,""),d.xp6(2),d.Q6J("link",e.indexRedirect),d.xp6(2),d.Q6J("formGroup",e.addForm),d.xp6(3),d.Q6J("label","Name")("fGroup",e.addForm),d.xp6(6),d.Q6J("ngIf",e.fCtrls.message.dirty&&e.fCtrls.message.invalid),d.xp6(2),d.Q6J("disabled",!e.addForm.valid))},directives:[a.O5,f.G,g.k,b.K,l._Y,l.JL,l.sg,v.a,l.Fj,l.JJ,l.u,q.c,A.O],styles:[""]}),t}();function Q(t,e){1&t&&d._UZ(0,"v-loader")}function M(t,e){1&t&&(d.TgZ(0,"p"),d._uU(1," Message is Required "),d.qZA())}var D=function(){var t=function(){function t(e,i,n,r){o(this,t),this._contractMsgFomratService=e,this._router=i,this._formBuilder=n,this._activatedRoute=r,this.isSubmitted=!1,this.title=" Announcements",this.breadCrumbLinkItems=c.breadCrumbLinkItems,this.listMessageFormatsRoute=c.listMessageFormatsRoute,this.addForm=this._formBuilder.group({name:[null,l.kI.required],message:[null,l.kI.required]}),this.selectedId=this._activatedRoute.snapshot.params.id,this.loadData(this.selectedId)}return n(t,[{key:"ngOnInit",value:function(){}},{key:"fCtrls",get:function(){return this.addForm.controls}},{key:"loadData",value:function(t){var e=this;this.isSubmitted=!0,this._contractMsgFomratService.sShow(t).subscribe(function(t){t&&t.data&&(console.log("res.data:===",t.data),e.addForm.patchValue(Object.assign({},t.data))),e.isSubmitted=!1},function(t){console.log("Error !"),e.isSubmitted=!1})}},{key:"onUpdate",value:function(){var t=this;console.log(this.addForm.value),this.isSubmitted=!0,this._contractMsgFomratService.sUpdate(this.selectedId,this.addForm.value).subscribe(function(e){t.isSubmitted=!1,t._router.navigateByUrl(t.listMessageFormatsRoute)},function(e){t.isSubmitted=!1})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(d.Y36(O),d.Y36(Z.F0),d.Y36(l.qu),d.Y36(Z.gz))},t.\u0275cmp=d.Xpm({type:t,selectors:[["app-edit-contract-msg-formats"]],decls:28,vars:11,consts:[[4,"ngIf"],[1,"wrapper"],[1,"content-wrapper"],[3,"title","canshowBreadCrumb","breadCrumbLinkItems"],[1,"content"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"card-tools"],["actionType","back",3,"link"],[1,"card-body"],[3,"formGroup"],[1,"row"],[1,"col-md-12"],["fCtrlName","name",3,"label","fGroup"],[1,"form-group"],["for","exampleInputEmail1"],["type","text","id","exampleInputEmail1","aria-describedby","emailHelp","formControlName","message",1,"form-control"],[1,"card-footer","text-right"],["type","button",1,"btn","btn-primary",3,"disabled","click"]],template:function(t,e){1&t&&(d.YNc(0,Q,1,0,"v-loader",0),d.TgZ(1,"div",1),d._UZ(2,"app-header"),d._UZ(3,"app-sidebar"),d.TgZ(4,"div",2),d._UZ(5,"app-content-header",3),d.TgZ(6,"section",4),d.TgZ(7,"div",5),d.TgZ(8,"div",6),d.TgZ(9,"h3",7),d._uU(10),d.qZA(),d.TgZ(11,"div",8),d._UZ(12,"v-btn",9),d.qZA(),d.qZA(),d.TgZ(13,"div",10),d.TgZ(14,"form",11),d.TgZ(15,"div",12),d.TgZ(16,"div",13),d._UZ(17,"app-v-input-full",14),d.qZA(),d.TgZ(18,"div",13),d.TgZ(19,"div",15),d.TgZ(20,"label",16),d._uU(21,"Message"),d.qZA(),d._UZ(22,"input",17),d.YNc(23,M,2,0,"p",0),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(24,"div",18),d.TgZ(25,"button",19),d.NdJ("click",function(){return e.onUpdate()}),d._uU(26,"Update"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d._UZ(27,"app-footer"),d.qZA()),2&t&&(d.Q6J("ngIf",e.isSubmitted),d.xp6(5),d.Q6J("title",e.title)("canshowBreadCrumb",!0)("breadCrumbLinkItems",e.breadCrumbLinkItems),d.xp6(5),d.hij("Edit ",e.title,""),d.xp6(2),d.Q6J("link","/contact-management/announcements"),d.xp6(2),d.Q6J("formGroup",e.addForm),d.xp6(3),d.Q6J("label","Name")("fGroup",e.addForm),d.xp6(6),d.Q6J("ngIf",e.fCtrls.message.dirty&&e.fCtrls.message.invalid),d.xp6(2),d.Q6J("disabled",!e.addForm.valid))},directives:[a.O5,f.G,g.k,h.e,b.K,l._Y,l.JL,l.sg,v.a,l.Fj,l.JJ,l.u,q.c,A.O],styles:[""]}),t}(),Y=r(99713),E=r(71397),R=r(86659),B=r(83559),G=r(53647);function P(t,e){1&t&&d._UZ(0,"v-loader")}function H(t,e){if(1&t&&(d.TgZ(0,"th",16),d._uU(1),d.qZA()),2&t){var i=e.$implicit;d.xp6(1),d.Oqu(i)}}var j=function(t,e){return[t,e,"edit"]};function V(t,e){if(1&t){var i=d.EpF();d.TgZ(0,"tr"),d.TgZ(1,"td"),d._uU(2),d.qZA(),d.TgZ(3,"td"),d._uU(4),d.qZA(),d.TgZ(5,"td"),d._uU(6),d.qZA(),d.TgZ(7,"td"),d._UZ(8,"v-btn",17),d.TgZ(9,"v-btn",18),d.NdJ("actionEvent",function(t){return d.CHM(i),d.oxw().delete(t)}),d.qZA(),d.qZA(),d.qZA()}if(2&t){var n=e.$implicit,o=e.index,r=d.oxw();d.xp6(2),d.Oqu(o+1),d.xp6(2),d.Oqu(n.name),d.xp6(2),d.Oqu(n.message),d.xp6(2),d.Q6J("link",d.WLB(5,j,r.editLink,n._id)),d.xp6(1),d.Q6J("actionValue",n._id)}}var X=function(){var t=function(){function t(e){o(this,t),this._contractMsgFomratService=e,this.isSubmitted=!1,this.title="MessageFormats",this.thCols=["Id","Name",null,"Actions"],this.breadCrumbLinkItems=G.J.breadCrumbLinkItems,this.addLink="/contract-management/msg-formats/create",this.editLink="/contract-management/msg-formats",this.list=[],this.dtOptions={},this.dtTrigger=new B.xQ,this.showAddForm=!1}return n(t,[{key:"ngOnInit",value:function(){this.index(),this.dtOptions=E.Z.options}},{key:"index",value:function(){var t=this;this.isSubmitted=!0,this.list=[],this._contractMsgFomratService.sIndex().subscribe(function(e){e&&e.data&&e.data.length&&(t.list=e.data),t.isSubmitted=!1},function(e){console.log("Error !"),N.error("No data found","Error !"),t.isSubmitted=!1})}},{key:"edit",value:function(){}},{key:"delete",value:function(t){var e=this;console.log("e:",t),this.isSubmitted=!0,this._contractMsgFomratService.sDelete(t).subscribe(function(t){console.log("res:",t),e.isSubmitted=!1,e.index(),R.Z.showSweetAlert("Deleted Successfully",!1)},function(t){console.log("err:",t),R.Z.showSweetAlert(t.error.message,!1),e.isSubmitted=!1})}},{key:"onShowAddForm",value:function(){this.showAddForm=!this.showAddForm}}]),t}();return t.\u0275fac=function(e){return new(e||t)(d.Y36(O))},t.\u0275cmp=d.Xpm({type:t,selectors:[["app-list-contract-msg-formats"]],decls:22,vars:9,consts:[[4,"ngIf"],[1,"wrapper"],[1,"content-wrapper"],[3,"title","canshowBreadCrumb","breadCrumbLinkItems"],[1,"content"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"card-tools"],["actionType","add",3,"link"],[1,"card-body"],[1,"table-responsive"],[1,"table","table-striped","table-bordered","compact","table-sm"],[1,"bg-info"],["scope","col",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],["scope","col"],["actionType","edit",3,"link"],["actionType","deleteclick",3,"actionValue","actionEvent"]],template:function(t,e){1&t&&(d.YNc(0,P,1,0,"v-loader",0),d.TgZ(1,"div",1),d._UZ(2,"app-header"),d._UZ(3,"app-sidebar"),d.TgZ(4,"div",2),d._UZ(5,"app-content-header",3),d.TgZ(6,"section",4),d.TgZ(7,"div",5),d.TgZ(8,"div",6),d.TgZ(9,"h3",7),d._uU(10),d.qZA(),d.TgZ(11,"div",8),d._UZ(12,"v-btn",9),d.qZA(),d.qZA(),d.TgZ(13,"div",10),d.TgZ(14,"div",11),d.TgZ(15,"table",12),d.TgZ(16,"thead",13),d.TgZ(17,"tr"),d.YNc(18,H,2,1,"th",14),d.qZA(),d.qZA(),d.TgZ(19,"tbody"),d.YNc(20,V,10,8,"tr",15),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d._UZ(21,"app-footer"),d.qZA()),2&t&&(d.Q6J("ngIf",e.isSubmitted),d.xp6(5),d.Q6J("title",e.title)("canshowBreadCrumb",!0)("breadCrumbLinkItems",e.breadCrumbLinkItems),d.xp6(1),d.Q6J("@slideFromRight",void 0),d.xp6(4),d.hij(" List ",e.title,""),d.xp6(2),d.Q6J("link",e.addLink),d.xp6(6),d.Q6J("ngForOf",e.thCols),d.xp6(2),d.Q6J("ngForOf",e.list))},directives:[a.O5,f.G,g.k,h.e,b.K,a.sg,q.c,A.O],styles:[""],data:{animation:[(0,Y.X$)("slideFromRight",[(0,Y.eR)("void=>*",[(0,Y.oB)({opacity:0,transform:"translateX(100%)"}),(0,Y.jt)(".8s",(0,Y.oB)({opacity:1,transform:"translateX(0)"}))])])]}}),t}(),$=r(70118);function K(t,e){1&t&&d._UZ(0,"v-loader")}var z=function(t){return[t]};function W(t,e){if(1&t&&(d.TgZ(0,"div",13),d.TgZ(1,"div",14),d.TgZ(2,"div",15),d.TgZ(3,"h3"),d._uU(4),d.qZA(),d.TgZ(5,"p"),d._uU(6),d.qZA(),d.qZA(),d.TgZ(7,"div",16),d._UZ(8,"i"),d.qZA(),d.TgZ(9,"a",17),d._uU(10,"More info "),d._UZ(11,"i",18),d.qZA(),d.qZA(),d.qZA()),2&t){var i=e.$implicit;d.xp6(1),d.Udp("background-color",i.bgColorClass),d.xp6(3),d.Oqu(i.count),d.xp6(2),d.Oqu(i.title),d.xp6(2),d.Tol(i.iconName),d.xp6(1),d.Q6J("routerLink",d.VKq(8,z,i.routeLink))}}function tt(t,e){if(1&t&&(d.TgZ(0,"div",13),d.TgZ(1,"div",20),d.TgZ(2,"div",15),d.TgZ(3,"p"),d._uU(4),d.qZA(),d.qZA(),d.TgZ(5,"div",16),d._UZ(6,"i"),d.qZA(),d.TgZ(7,"a",17),d._uU(8,"More info "),d._UZ(9,"i",18),d.qZA(),d.qZA(),d.qZA()),2&t){var i=e.$implicit;d.xp6(1),d.Q6J("ngClass",i.bgColorClass),d.xp6(3),d.Oqu(i.title),d.xp6(2),d.Gre("ion ",i.iconName,""),d.xp6(1),d.Q6J("routerLink",d.VKq(6,z,i.routeLink))}}function et(t,e){if(1&t&&(d.TgZ(0,"div",19),d.TgZ(1,"h5",7),d._uU(2,"Reports"),d.qZA(),d.TgZ(3,"div",8),d.TgZ(4,"div",9),d.YNc(5,tt,10,8,"div",10),d.qZA(),d.qZA(),d.qZA()),2&t){var i=d.oxw();d.xp6(5),d.Q6J("ngForOf",i.reportsPanelBoxes)}}function it(t,e){if(1&t&&(d.TgZ(0,"div",13),d.TgZ(1,"div",20),d.TgZ(2,"div",15),d.TgZ(3,"p"),d._uU(4),d.qZA(),d.qZA(),d.TgZ(5,"div",16),d._UZ(6,"i"),d.qZA(),d.TgZ(7,"a",17),d._uU(8,"More info "),d._UZ(9,"i",18),d.qZA(),d.qZA(),d.qZA()),2&t){var i=e.$implicit;d.xp6(1),d.Q6J("ngClass",i.bgColorClass),d.xp6(3),d.Oqu(i.title),d.xp6(2),d.Gre("ion ",i.iconName,""),d.xp6(1),d.Q6J("routerLink",d.VKq(6,z,i.routeLink))}}function nt(t,e){if(1&t&&(d.TgZ(0,"div",21),d.TgZ(1,"h5",7),d._uU(2,"User Help"),d.qZA(),d.TgZ(3,"div",8),d.TgZ(4,"div",9),d.YNc(5,it,10,8,"div",10),d.qZA(),d.qZA(),d.qZA()),2&t){var i=d.oxw();d.xp6(5),d.Q6J("ngForOf",i.helpPanelBoxes)}}var ot=function(){var t=function(){function t(){o(this,t),this.isSubmitted=!1,this.title=" Contract Management Panel",this.mainPanelCountBoxes=[{title:"Contract",routeLink:"contacts",bgColorClass:$.h.COLORS.one,iconName:" fas fa-address-book",count:""},{title:"Message Formats",routeLink:"msg-formats",bgColorClass:$.h.COLORS.two,iconName:"fas fa-comment-alt",count:""},{title:"Schedule",routeLink:"schedule-notifications",bgColorClass:$.h.COLORS.three,iconName:"fas fa-calendar-alt",count:""}],this.mainPanelBoxes=[{title:"Classes",routeLink:"/classes",bgColorClass:$.h.COLORS.one,iconName:"ion-easel",count:""},{title:"Sections",routeLink:"/sections",bgColorClass:$.h.COLORS.two,iconName:"ion-easel",count:""},{title:"Admissions",routeLink:"/admissions",bgColorClass:$.h.COLORS.three,iconName:"ion-easel",count:""},{title:"Attendance",routeLink:"/attendance",bgColorClass:$.h.COLORS.four,iconName:"ion-easel",count:""}],this.reportsPanelBoxes=[],this.helpPanelBoxes=[]}return n(t,[{key:"ngOnInit",value:function(){}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=d.Xpm({type:t,selectors:[["app-contract-management-dashboard"]],decls:17,vars:5,consts:[[4,"ngIf"],[1,"wrapper"],[1,"content-wrapper"],[3,"title"],[1,"content"],[1,"container-fluid"],[1,"card","mainPanel"],[1,"card-header"],[1,"card-body"],[1,"row"],["class","col-lg-3 col-6",4,"ngFor","ngForOf"],["class","card reportsPanel",4,"ngIf"],["class","card userHelpPanel",4,"ngIf"],[1,"col-lg-3","col-6"],[1,"small-box"],[1,"inner"],[1,"icon"],[1,"small-box-footer",3,"routerLink"],[1,"fas","fa-arrow-circle-right"],[1,"card","reportsPanel"],[1,"small-box",3,"ngClass"],[1,"card","userHelpPanel"]],template:function(t,e){1&t&&(d.YNc(0,K,1,0,"v-loader",0),d.TgZ(1,"div",1),d._UZ(2,"app-header"),d._UZ(3,"app-sidebar"),d.TgZ(4,"div",2),d._UZ(5,"app-content-header",3),d.TgZ(6,"section",4),d.TgZ(7,"div",5),d.TgZ(8,"div",6),d.TgZ(9,"h5",7),d._uU(10,"Main "),d.qZA(),d.TgZ(11,"div",8),d.TgZ(12,"div",9),d.YNc(13,W,12,10,"div",10),d.qZA(),d.qZA(),d.qZA(),d.YNc(14,et,6,1,"div",11),d.YNc(15,nt,6,1,"div",12),d.qZA(),d.qZA(),d.qZA(),d._UZ(16,"app-footer"),d.qZA()),2&t&&(d.Q6J("ngIf",e.isSubmitted),d.xp6(5),d.Q6J("title",e.title),d.xp6(8),d.Q6J("ngForOf",e.mainPanelCountBoxes),d.xp6(1),d.Q6J("ngIf",e.reportsPanelBoxes.length),d.xp6(1),d.Q6J("ngIf",e.helpPanelBoxes.length))},directives:[a.O5,f.G,g.k,h.e,a.sg,q.c,A.O,Z.yS,a.mk],styles:[""]}),t}(),rt=r(905),at=r(68281);function st(t,e){1&t&&d._UZ(0,"v-loader")}function ct(t,e){1&t&&(d.TgZ(0,"p"),d._uU(1," Phone Number is Required "),d.qZA())}function lt(t,e){1&t&&(d.TgZ(0,"p"),d._uU(1," Email is Required "),d.qZA())}function dt(t,e){1&t&&(d.TgZ(0,"p"),d._uU(1," Purpose Of Contract is Required "),d.qZA())}function ut(t,e){1&t&&(d.TgZ(0,"p"),d._uU(1," Start Date is Required "),d.qZA())}function pt(t,e){1&t&&(d.TgZ(0,"p"),d._uU(1," End Date is Required "),d.qZA())}function mt(t,e){1&t&&(d.TgZ(0,"p"),d._uU(1," Due Date is Required "),d.qZA())}function Zt(t,e){1&t&&(d.TgZ(0,"p"),d._uU(1," Note is Required "),d.qZA())}var ft=function(){var t=function(){function t(e,i,n,r){o(this,t),this._contractContactService=e,this._contactsService=i,this._router=n,this._formBuilder=r,this.isSubmitted=!1,this.title="Contracts",this.backLink="/contract-management/contacts",this.breadCrumbLinkItems=c.breadCrumbLinkItems,this.contactList=[],this.addForm=this._formBuilder.group({contactId:[null,l.kI.required],name:[null],middleName:[null],surname:[null],email:[null],phoneNumber:[null],purposeOfContract:[null,l.kI.required],startDate:[null,l.kI.required],endDate:[null,l.kI.required],dueDate:[null,l.kI.required],note:[null,l.kI.required]})}return n(t,[{key:"ngOnInit",value:function(){this.getContactList()}},{key:"getContactList",value:function(){var t=this;this._contactsService.sIndex().subscribe(function(e){t.contactList=e.data.map(function(t){return{id:t._id,text:t.name+" - "+t.phoneNumber+" - "+t.city}})})}},{key:"onTagChanged",value:function(t){console.log(this.contact),this.updateContactId(t),this.getSelectedContactData(t)}},{key:"updateContactId",value:function(t){this.fCtrls.contactId.setValue(t)}},{key:"fCtrls",get:function(){return this.addForm.controls}},{key:"onSubmit",value:function(){var t=this;console.log(this.addForm.value);var e=this.finalizedFromFieldValues(this.addForm.value);this.isSubmitted=!0,this._contractContactService.sStore(e).subscribe(function(e){t.isSubmitted=!1,t._router.navigateByUrl(t.backLink)},function(e){t.isSubmitted=!1})}},{key:"finalizedFromFieldValues",value:function(t){return console.log("formValues:==1",t),delete t.name,delete t.surname,delete t.email,delete t.phoneNumber,console.log("formValues:==2",t),t}},{key:"getSelectedContactData",value:function(t){var e=this;console.log("id:",t),this.isSubmitted=!0,this._contactsService.sShow(t).subscribe(function(t){t&&t.data&&(console.log("res.data:===",t.data),e.addForm.patchValue(Object.assign({},t.data)),e.selectedContactData=t.data),e.isSubmitted=!1},function(t){console.log("Error !"),e.isSubmitted=!1})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(d.Y36(m),d.Y36(rt.P),d.Y36(Z.F0),d.Y36(l.qu))},t.\u0275cmp=d.Xpm({type:t,selectors:[["app-add-contract-contacts"]],decls:85,vars:22,consts:[[4,"ngIf"],[1,"wrapper"],[1,"content-wrapper"],[3,"title","canshowBreadCrumb","breadCrumbLinkItems"],[1,"content"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"card-tools"],["actionType","back",3,"link"],[1,"card-body"],[3,"formGroup"],[1,"row"],[1,"col-md-6"],[1,"form-group"],["for","exampleInputPassword1"],[1,"col-md-12","pr-0","pl-0"],["width","100%","formControlName","contactId",3,"ngModel","data","placeholder","ngModelChange","valueChanged"],["fCtrlName","name","label","First Name","isReadonly","true",3,"fGroup"],["fCtrlName","middleName","label","Middle Name","isReadonly","true",3,"fGroup"],["fCtrlName","surname","label","Last Name","isReadonly","true",3,"fGroup"],["for","exampleInputEmail1"],["type","text","id","exampleInputEmail1","aria-describedby","emailHelp","formControlName","phoneNumber","readonly","",1,"form-control"],["type","text","id","exampleInputEmail1","aria-describedby","emailHelp","formControlName","email","readonly","",1,"form-control"],["formControlName","purposeOfContract",1,"form-control",3,"ngModel"],["value","null"],["value","Domain"],["value","Hosting"],["value","MOU"],["value","PA"],[1,"col-md-3"],["type","date","id","exampleInputEmail1","aria-describedby","emailHelp","formControlName","startDate",1,"form-control"],["type","date","id","exampleInputEmail1","aria-describedby","emailHelp","formControlName","endDate",1,"form-control"],["type","date","id","exampleInputEmail1","aria-describedby","emailHelp","formControlName","dueDate",1,"form-control"],[1,"col-md-12"],["name","","id","","rows","3","formControlName","note",1,"form-control"],[1,"card-footer","text-right"],["type","button",1,"btn","btn-primary",3,"disabled","click"]],template:function(t,e){1&t&&(d.YNc(0,st,1,0,"v-loader",0),d.TgZ(1,"div",1),d._UZ(2,"app-header"),d._UZ(3,"app-sidebar"),d.TgZ(4,"div",2),d._UZ(5,"app-content-header",3),d.TgZ(6,"section",4),d.TgZ(7,"div",5),d.TgZ(8,"div",6),d.TgZ(9,"h3",7),d._uU(10),d.qZA(),d.TgZ(11,"div",8),d._UZ(12,"v-btn",9),d.qZA(),d.qZA(),d.TgZ(13,"div",10),d.TgZ(14,"form",11),d.TgZ(15,"div",12),d.TgZ(16,"div",13),d.TgZ(17,"div",14),d.TgZ(18,"label",15),d._uU(19,"Concerned Contact"),d.qZA(),d.TgZ(20,"div",16),d.TgZ(21,"ng-select2",17),d.NdJ("ngModelChange",function(t){return e.contact=t})("valueChanged",function(t){return e.onTagChanged(t)}),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(22,"div",12),d.TgZ(23,"div",13),d._UZ(24,"app-v-input-full",18),d.qZA(),d.TgZ(25,"div",13),d._UZ(26,"app-v-input-full",19),d.qZA(),d.TgZ(27,"div",13),d._UZ(28,"app-v-input-full",20),d.qZA(),d.TgZ(29,"div",13),d.TgZ(30,"div",14),d.TgZ(31,"label",21),d._uU(32,"Phone Number"),d.qZA(),d._UZ(33,"input",22),d.YNc(34,ct,2,0,"p",0),d.qZA(),d.qZA(),d.TgZ(35,"div",13),d.TgZ(36,"div",14),d.TgZ(37,"label",21),d._uU(38,"Email"),d.qZA(),d._UZ(39,"input",23),d.YNc(40,lt,2,0,"p",0),d.qZA(),d.qZA(),d.TgZ(41,"div",13),d.TgZ(42,"div",14),d.TgZ(43,"label",21),d._uU(44,"Purpose Of Contract"),d.qZA(),d.TgZ(45,"select",24),d.TgZ(46,"option",25),d._uU(47,"Select Group"),d.qZA(),d.TgZ(48,"option",26),d._uU(49,"Domain"),d.qZA(),d.TgZ(50,"option",27),d._uU(51,"Hosting"),d.qZA(),d.TgZ(52,"option",28),d._uU(53,"MOU"),d.qZA(),d.TgZ(54,"option",29),d._uU(55,"PA"),d.qZA(),d.qZA(),d.YNc(56,dt,2,0,"p",0),d.qZA(),d.qZA(),d.TgZ(57,"div",30),d.TgZ(58,"div",14),d.TgZ(59,"label",21),d._uU(60,"Start Date"),d.qZA(),d._UZ(61,"input",31),d.YNc(62,ut,2,0,"p",0),d.qZA(),d.qZA(),d.TgZ(63,"div",30),d.TgZ(64,"div",14),d.TgZ(65,"label",21),d._uU(66,"End Date"),d.qZA(),d._UZ(67,"input",32),d.YNc(68,pt,2,0,"p",0),d.qZA(),d.qZA(),d.TgZ(69,"div",30),d.TgZ(70,"div",14),d.TgZ(71,"label",21),d._uU(72,"Due Date"),d.qZA(),d._UZ(73,"input",33),d.YNc(74,mt,2,0,"p",0),d.qZA(),d.qZA(),d.TgZ(75,"div",34),d.TgZ(76,"div",14),d.TgZ(77,"label",21),d._uU(78,"Note"),d.qZA(),d._UZ(79,"textarea",35),d.YNc(80,Zt,2,0,"p",0),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(81,"div",36),d.TgZ(82,"button",37),d.NdJ("click",function(){return e.onSubmit()}),d._uU(83," Submit "),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d._UZ(84,"app-footer"),d.qZA()),2&t&&(d.Q6J("ngIf",e.isSubmitted),d.xp6(5),d.Q6J("title",e.title)("canshowBreadCrumb",!0)("breadCrumbLinkItems",e.breadCrumbLinkItems),d.xp6(5),d.hij("Add ",e.title,""),d.xp6(2),d.Q6J("link",e.backLink),d.xp6(2),d.Q6J("formGroup",e.addForm),d.xp6(7),d.Q6J("ngModel",e.contact)("data",e.contactList)("placeholder","Concerned Contact"),d.xp6(3),d.Q6J("fGroup",e.addForm),d.xp6(2),d.Q6J("fGroup",e.addForm),d.xp6(2),d.Q6J("fGroup",e.addForm),d.xp6(6),d.Q6J("ngIf",e.fCtrls.phoneNumber.dirty&&e.fCtrls.phoneNumber.invalid),d.xp6(6),d.Q6J("ngIf",e.fCtrls.email.dirty&&e.fCtrls.email.invalid),d.xp6(5),d.Q6J("ngModel",null),d.xp6(11),d.Q6J("ngIf",e.fCtrls.purposeOfContract.dirty&&e.fCtrls.purposeOfContract.invalid),d.xp6(6),d.Q6J("ngIf",e.fCtrls.startDate.dirty&&e.fCtrls.startDate.invalid),d.xp6(6),d.Q6J("ngIf",e.fCtrls.endDate.dirty&&e.fCtrls.endDate.invalid),d.xp6(6),d.Q6J("ngIf",e.fCtrls.dueDate.dirty&&e.fCtrls.dueDate.invalid),d.xp6(6),d.Q6J("ngIf",e.fCtrls.note.dirty&&e.fCtrls.note.invalid),d.xp6(2),d.Q6J("disabled",!e.addForm.valid))},directives:[a.O5,f.G,g.k,h.e,b.K,l._Y,l.JL,l.sg,at.c,l.JJ,l.u,v.a,l.Fj,l.EJ,l.YN,l.Kr,q.c,A.O],styles:[""]}),t}(),gt=r(72644),ht=r(54733),bt=r(75470);function vt(t,e){1&t&&d._UZ(0,"v-loader")}function qt(t,e){if(1&t){var i=d.EpF();d.TgZ(0,"button",19),d.NdJ("click",function(){return d.CHM(i),d.oxw().exportToExcel()}),d._uU(1),d.qZA()}if(2&t){var n=d.oxw();d.xp6(1),d.hij(" ",n.exportBtnLabel," ")}}function At(t,e){if(1&t&&(d.TgZ(0,"th",20),d._uU(1),d.qZA()),2&t){var i=e.$implicit;d.xp6(1),d.Oqu(i)}}var Tt=function(t,e){return[t,e]},Ct=function(t,e){return[t,e,"edit"]};function _t(t,e){if(1&t){var i=d.EpF();d.TgZ(0,"tr"),d.TgZ(1,"td"),d._uU(2),d.qZA(),d.TgZ(3,"td"),d._uU(4),d.qZA(),d.TgZ(5,"td"),d._uU(6),d.qZA(),d.TgZ(7,"td"),d._uU(8),d.qZA(),d.TgZ(9,"td"),d._uU(10),d.qZA(),d.TgZ(11,"td"),d._UZ(12,"v-btn",21),d._UZ(13,"v-btn",22),d.TgZ(14,"v-btn",23),d.NdJ("actionEvent",function(t){return d.CHM(i),d.oxw().delete(t)}),d.qZA(),d.qZA(),d.qZA()}if(2&t){var n=e.$implicit,o=e.index,r=d.oxw();d.xp6(2),d.Oqu(o+1),d.xp6(2),d.Oqu(n.name),d.xp6(2),d.Oqu(n.middleName),d.xp6(2),d.Oqu(n.surname),d.xp6(2),d.Oqu(n.phoneNumber),d.xp6(2),d.Q6J("link",d.WLB(8,Tt,r.editLink,n._id)),d.xp6(1),d.Q6J("link",d.WLB(11,Ct,r.editLink,n._id)),d.xp6(1),d.Q6J("actionValue",n._id)}}function kt(t,e){if(1&t){var i=d.EpF();d.TgZ(0,"tr"),d.TgZ(1,"td"),d._uU(2),d.qZA(),d.TgZ(3,"td"),d._uU(4),d.qZA(),d.TgZ(5,"td"),d._uU(6),d.qZA(),d.TgZ(7,"td"),d.TgZ(8,"button",30),d.NdJ("click",function(){var t=d.CHM(i).$implicit;return d.oxw(2).sendNotification(t._id)}),d._uU(9," Send "),d.qZA(),d.qZA(),d.qZA()}if(2&t){var n=e.$implicit,o=e.index;d.xp6(2),d.Oqu(o+1),d.xp6(2),d.Oqu(n.name),d.xp6(2),d.Oqu(n.message)}}function xt(t,e){if(1&t){var i=d.EpF();d.TgZ(0,"div",24),d.TgZ(1,"h4",25),d._uU(2,"Select Annoucements"),d.qZA(),d.TgZ(3,"button",26),d.NdJ("click",function(){d.CHM(i);var t=d.oxw();return null==t.modalRef?null:t.modalRef.hide()}),d.TgZ(4,"span",27),d._uU(5,"\xd7"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(6,"div",28),d.TgZ(7,"table",29),d.TgZ(8,"thead",15),d.TgZ(9,"tr"),d.TgZ(10,"th",20),d._uU(11,"ID"),d.qZA(),d.TgZ(12,"th",20),d._uU(13,"NAME"),d.qZA(),d.TgZ(14,"th",20),d._uU(15,"MESSAGE"),d.qZA(),d.TgZ(16,"th",20),d._uU(17,"Actions"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(18,"tbody"),d.YNc(19,kt,10,3,"tr",17),d.qZA(),d.qZA(),d.qZA()}if(2&t){var n=d.oxw();d.xp6(19),d.Q6J("ngForOf",n.anouncementsList)}}var yt=function(t){return[t]},Ut=function(){var e=function(){function e(t,i,n){o(this,e),this._contractContactService=t,this.modalService=i,this._contractMsgFomratService=n,this.isSubmitted=!1,this.title="Contracts",this.isFilter=!1,this.thCols=["Id","First Name","Middle Name","Last Name","Phone Number","Actions"],this.breadCrumbLinkItems=G.J.breadCrumbLinkItems,this.contactList=[],this.listBackup=[],this.addLink="/contract-management/contacts/create",this.editLink="/contract-management/contacts",this.bulkImportsLink="/contract-management/contacts/bulk-import-contacts",this.list=[],this.dtOptions={},this.dtTrigger=new B.xQ,this.exportBtnLabel=$.h.exportBtnLabel,this.anouncementsList=[],this.options={width:"300",multiple:!0,tags:!0}}return n(e,[{key:"ngOnInit",value:function(){this.index(),this.dtOptions=E.Z.optionsWithoutDownload}},{key:"onClickFilter",value:function(){this.isFilter=!this.isFilter}},{key:"onFiletreSearch",value:function(){var t=this;if(console.log(this.contact),this.contact.length>0){var e=this.listBackup.filter(function(e){return!!t.contact.find(function(t){return t==e._id})}).map(function(t){return t.city});this.list=this.listBackup.filter(function(t){return!!e.find(function(e){return e==t.city})}),this.dtElement.dtInstance.then(function(e){e.destroy(),t.dtTrigger.next()})}else this.list=this.listBackup,this.dtElement.dtInstance.then(function(e){e.destroy(),t.dtTrigger.next()});console.log(this.list)}},{key:"index",value:function(){var t=this;this.isSubmitted=!0,this.list=[],this._contractContactService.sIndex().subscribe(function(e){console.log(e),e&&e.data&&e.data.length&&(t.isSubmitted=!1,t.list=e.data,t.listBackup=e.data,t.dtTrigger.next()),t.isSubmitted=!1},function(e){console.log("Error !"),N.error("No data found","Error !"),t.isSubmitted=!1})}},{key:"edit",value:function(){}},{key:"delete",value:function(t){var e=this;console.log("e:",t),this.isSubmitted=!0,this._contractContactService.sDelete(t).subscribe(function(t){e.isSubmitted=!1,e.index(),R.Z.showSweetAlert("Deleted Successfully",!1),setTimeout(function(){location.reload()},300)},function(t){console.log("err:",t),R.Z.showSweetAlert(t.error.message,!1),e.isSubmitted=!1})}},{key:"openModal",value:function(t){this.modalRef=this.modalService.show(t)}},{key:"showPopUpToSelectAnnouncemnets",value:function(t,e){this.selectedContactId=e,this.openModal(t),this.loadAnnouncements()}},{key:"loadAnnouncements",value:function(){var t=this;this.isSubmitted=!0,this.anouncementsList=[],this._contractMsgFomratService.sIndex().subscribe(function(e){e&&e.data&&e.data.length&&(t.anouncementsList=e.data),t.isSubmitted=!1},function(e){console.log("Error !"),N.error("No data found","Error !"),t.isSubmitted=!1})}},{key:"sendNotification",value:function(t){return N.success("Notification sent successfully"),this.modalRef.hide(),!1}},{key:"exportToExcel",value:function(){var e=[["Name","Surname","Email","Phone Number","Purpose Of Contract","Start Date","End Date","Note"]].concat(t(this.list.map(function(t){return[t.name,t.surname,t.email,t.phoneNumber,t.purposeOfContract,t.startDate,t.endDate,t.note]})));(0,gt.C)(e,"Contract Contacts list")}}]),e}();return e.\u0275fac=function(t){return new(t||e)(d.Y36(m),d.Y36(bt.tT),d.Y36(O))},e.\u0275cmp=d.Xpm({type:e,selectors:[["app-list-contract-contacts"]],viewQuery:function(t,e){var i;(1&t&&d.Gf(ht.G,5),2&t)&&(d.iGM(i=d.CRH())&&(e.dtElement=i.first))},decls:28,vars:15,consts:[[4,"ngIf"],[1,"wrapper"],[1,"content-wrapper"],[3,"title","canshowBreadCrumb","breadCrumbLinkItems"],[1,"content"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"card-tools"],["actionType","add",3,"link"],["type","button",1,"btn","btn-info","btn-sm","rounded-pill",3,"routerLink"],["type","button","class","btn btn-success1 btn-xs rounded-pill px-3 py-1 fs-5 fw-bold ml-1",3,"click",4,"ngIf"],[1,"card-body","pb-1"],[1,"table-responsive"],["datatable","",1,"table","table-striped","table-bordered","compact",3,"dtOptions","dtTrigger"],[1,"bg-info"],["scope","col",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],["template",""],["type","button",1,"btn","btn-success1","btn-xs","rounded-pill","px-3","py-1","fs-5","fw-bold","ml-1",3,"click"],["scope","col"],["actionType","view",3,"link"],["actionType","edit",3,"link"],["actionType","deleteclick",3,"actionValue","actionEvent"],[1,"modal-header"],[1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"btn-close","close","pull-right",3,"click"],["aria-hidden","true",1,"visually-hidden"],[1,"modal-body"],[1,"table","table-striped","table-bordered","compact","table-sm"],["type","button",1,"btn","btn-info","btn-sm","rounded-pill",3,"click"]],template:function(t,e){1&t&&(d.YNc(0,vt,1,0,"v-loader",0),d.TgZ(1,"div",1),d._UZ(2,"app-header"),d._UZ(3,"app-sidebar"),d.TgZ(4,"div",2),d._UZ(5,"app-content-header",3),d.TgZ(6,"section",4),d.TgZ(7,"div",5),d.TgZ(8,"div",6),d.TgZ(9,"h3",7),d._uU(10),d.qZA(),d.TgZ(11,"div",8),d._UZ(12,"v-btn",9),d.TgZ(13,"button",10),d._uU(14," Import "),d.qZA(),d.YNc(15,qt,2,1,"button",11),d.qZA(),d.qZA(),d.TgZ(16,"div",12),d.TgZ(17,"div",13),d.TgZ(18,"table",14),d.TgZ(19,"thead",15),d.TgZ(20,"tr"),d.YNc(21,At,2,1,"th",16),d._uU(22," --\x3e "),d.qZA(),d.qZA(),d.TgZ(23,"tbody"),d.YNc(24,_t,15,14,"tr",17),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d._UZ(25,"app-footer"),d.qZA(),d.YNc(26,xt,20,1,"ng-template",null,18,d.W1O)),2&t&&(d.Q6J("ngIf",e.isSubmitted),d.xp6(5),d.Q6J("title",e.title)("canshowBreadCrumb",!0)("breadCrumbLinkItems",e.breadCrumbLinkItems),d.xp6(1),d.Q6J("@slideFromRight",void 0),d.xp6(4),d.hij("List ",e.title,""),d.xp6(2),d.Q6J("link",e.addLink),d.xp6(1),d.Q6J("routerLink",d.VKq(13,yt,e.bulkImportsLink)),d.xp6(2),d.Q6J("ngIf",e.list&&e.list.length),d.xp6(3),d.Q6J("dtOptions",e.dtOptions)("dtTrigger",e.dtTrigger),d.xp6(3),d.Q6J("ngForOf",e.thCols),d.xp6(3),d.Q6J("ngForOf",e.list))},directives:[a.O5,f.G,g.k,h.e,b.K,Z.rH,ht.G,a.sg,q.c,A.O],styles:[""],data:{animation:[(0,Y.X$)("slideFromRight",[(0,Y.eR)("void=>*",[(0,Y.oB)({opacity:0,transform:"translateX(100%)"}),(0,Y.jt)(".8s",(0,Y.oB)({opacity:1,transform:"translateX(0)"}))])])]}}),e}();function St(t,e){1&t&&d._UZ(0,"v-loader")}function Nt(t,e){1&t&&(d.TgZ(0,"p"),d._uU(1," Phone Number is Required "),d.qZA())}function It(t,e){1&t&&(d.TgZ(0,"p"),d._uU(1," Email is Required "),d.qZA())}function Ft(t,e){1&t&&(d.TgZ(0,"p"),d._uU(1," Purpose Of Contract is Required "),d.qZA())}function Ot(t,e){1&t&&(d.TgZ(0,"p"),d._uU(1," Start Date is Required "),d.qZA())}function Jt(t,e){1&t&&(d.TgZ(0,"p"),d._uU(1," End Date is Required "),d.qZA())}function wt(t,e){1&t&&(d.TgZ(0,"p"),d._uU(1," Due Date is Required "),d.qZA())}function Lt(t,e){1&t&&(d.TgZ(0,"p"),d._uU(1," Note is Required "),d.qZA())}var Qt=function(){var t=function(){function t(e,i,n,r,a){o(this,t),this._contractContactService=e,this._router=i,this._formBuilder=n,this._activatedRoute=r,this._contactsService=a,this.isSubmitted=!1,this.title=" Contracts",this.backLink="/contract-management/contacts",this.breadCrumbLinkItems=c.breadCrumbLinkItems,this.addForm=this._formBuilder.group({contactId:[null,l.kI.required],name:[null],middleName:[null],surname:[null],email:[null],phoneNumber:[null],purposeOfContract:[null,l.kI.required],startDate:[null,l.kI.required],endDate:[null,l.kI.required],dueDate:[null,l.kI.required],note:[null,l.kI.required]}),this.contactList=[],this.selectedId=this._activatedRoute.snapshot.params.id,this.loadData(this.selectedId)}return n(t,[{key:"ngOnInit",value:function(){this.getContactList()}},{key:"getContactList",value:function(){var t=this;this._contactsService.sIndex().subscribe(function(e){t.contactList=e.data.map(function(t){return{id:t._id,text:t.name+" - "+t.phoneNumber+" - "+t.city}})})}},{key:"onTagChanged",value:function(t){console.log(this.contact),this.updateContactId(t),this.getSelectedContactData(t)}},{key:"fCtrls",get:function(){return this.addForm.controls}},{key:"loadData",value:function(t){var e=this;this.isSubmitted=!0,this._contractContactService.sShow(t).subscribe(function(t){t&&t.data&&(console.log("res.data:===",t.data),e.addForm.patchValue(Object.assign({},t.data))),e.isSubmitted=!1},function(t){console.log("Error !"),e.isSubmitted=!1})}},{key:"onUpdate",value:function(){var t=this;this.isSubmitted=!0,this._contractContactService.sUpdate(this.selectedId,this.addForm.value).subscribe(function(e){t.isSubmitted=!1,t._router.navigateByUrl(c.ContactsListRoute)},function(e){t.isSubmitted=!1})}},{key:"updateContactId",value:function(t){this.fCtrls.contactId.setValue(t)}},{key:"getSelectedContactData",value:function(t){var e=this;console.log("id:",t),this.isSubmitted=!0,this._contactsService.sShow(t).subscribe(function(t){t&&t.data&&(console.log("res.data:===",t.data),e.addForm.patchValue(Object.assign({},t.data)),e.selectedContactData=t.data),e.isSubmitted=!1},function(t){console.log("Error !"),e.isSubmitted=!1})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(d.Y36(m),d.Y36(Z.F0),d.Y36(l.qu),d.Y36(Z.gz),d.Y36(rt.P))},t.\u0275cmp=d.Xpm({type:t,selectors:[["app-edit-contract-contacts"]],decls:85,vars:23,consts:[[4,"ngIf"],[1,"wrapper"],[1,"content-wrapper"],[3,"title","canshowBreadCrumb","breadCrumbLinkItems"],[1,"content"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"card-tools"],["actionType","back",3,"link"],[1,"card-body"],[3,"formGroup"],[1,"row"],[1,"col-md-6"],[1,"form-group"],["for","exampleInputPassword1"],[1,"col-md-12","pr-0","pl-0"],["width","100%","formControlName","contactId",3,"ngModel","data","value","placeholder","ngModelChange","valueChanged"],["fCtrlName","name","label","First Name","isReadonly","true",3,"fGroup"],["fCtrlName","middleName","label","Middle Name","isReadonly","true",3,"fGroup"],["fCtrlName","surname","label","Last Name","isReadonly","true",3,"fGroup"],["for","exampleInputEmail1"],["type","text","id","exampleInputEmail1","aria-describedby","emailHelp","formControlName","phoneNumber","readonly","",1,"form-control"],["type","text","id","exampleInputEmail1","aria-describedby","emailHelp","formControlName","email","readonly","",1,"form-control"],["formControlName","purposeOfContract",1,"form-control",3,"ngModel"],["value","null"],["value","Domain"],["value","Hosting"],["value","MOU"],["value","PA"],[1,"col-md-3"],["type","date","id","exampleInputEmail1","aria-describedby","emailHelp","formControlName","startDate",1,"form-control"],["type","date","id","exampleInputEmail1","aria-describedby","emailHelp","formControlName","endDate",1,"form-control"],["type","date","id","exampleInputEmail1","aria-describedby","emailHelp","formControlName","dueDate",1,"form-control"],[1,"col-md-12"],["name","","id","","rows","3","formControlName","note",1,"form-control"],[1,"card-footer","text-right"],["type","button",1,"btn","btn-primary",3,"disabled","click"]],template:function(t,e){1&t&&(d.YNc(0,St,1,0,"v-loader",0),d.TgZ(1,"div",1),d._UZ(2,"app-header"),d._UZ(3,"app-sidebar"),d.TgZ(4,"div",2),d._UZ(5,"app-content-header",3),d.TgZ(6,"section",4),d.TgZ(7,"div",5),d.TgZ(8,"div",6),d.TgZ(9,"h3",7),d._uU(10),d.qZA(),d.TgZ(11,"div",8),d._UZ(12,"v-btn",9),d.qZA(),d.qZA(),d.TgZ(13,"div",10),d.TgZ(14,"form",11),d.TgZ(15,"div",12),d.TgZ(16,"div",13),d.TgZ(17,"div",14),d.TgZ(18,"label",15),d._uU(19,"Select Contact"),d.qZA(),d.TgZ(20,"div",16),d.TgZ(21,"ng-select2",17),d.NdJ("ngModelChange",function(t){return e.contact=t})("valueChanged",function(t){return e.onTagChanged(t)}),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(22,"div",12),d.TgZ(23,"div",13),d._UZ(24,"app-v-input-full",18),d.qZA(),d.TgZ(25,"div",13),d._UZ(26,"app-v-input-full",19),d.qZA(),d.TgZ(27,"div",13),d._UZ(28,"app-v-input-full",20),d.qZA(),d.TgZ(29,"div",13),d.TgZ(30,"div",14),d.TgZ(31,"label",21),d._uU(32,"Phone Number"),d.qZA(),d._UZ(33,"input",22),d.YNc(34,Nt,2,0,"p",0),d.qZA(),d.qZA(),d.TgZ(35,"div",13),d.TgZ(36,"div",14),d.TgZ(37,"label",21),d._uU(38,"Email"),d.qZA(),d._UZ(39,"input",23),d.YNc(40,It,2,0,"p",0),d.qZA(),d.qZA(),d.TgZ(41,"div",13),d.TgZ(42,"div",14),d.TgZ(43,"label",21),d._uU(44,"Purpose Of Contract"),d.qZA(),d.TgZ(45,"select",24),d.TgZ(46,"option",25),d._uU(47,"Select Group"),d.qZA(),d.TgZ(48,"option",26),d._uU(49,"Domain"),d.qZA(),d.TgZ(50,"option",27),d._uU(51,"Hosting"),d.qZA(),d.TgZ(52,"option",28),d._uU(53,"MOU"),d.qZA(),d.TgZ(54,"option",29),d._uU(55,"PA"),d.qZA(),d.qZA(),d.YNc(56,Ft,2,0,"p",0),d.qZA(),d.qZA(),d.TgZ(57,"div",30),d.TgZ(58,"div",14),d.TgZ(59,"label",21),d._uU(60,"Start Date"),d.qZA(),d._UZ(61,"input",31),d.YNc(62,Ot,2,0,"p",0),d.qZA(),d.qZA(),d.TgZ(63,"div",30),d.TgZ(64,"div",14),d.TgZ(65,"label",21),d._uU(66,"End Date"),d.qZA(),d._UZ(67,"input",32),d.YNc(68,Jt,2,0,"p",0),d.qZA(),d.qZA(),d.TgZ(69,"div",30),d.TgZ(70,"div",14),d.TgZ(71,"label",21),d._uU(72,"Due Date"),d.qZA(),d._UZ(73,"input",33),d.YNc(74,wt,2,0,"p",0),d.qZA(),d.qZA(),d.TgZ(75,"div",34),d.TgZ(76,"div",14),d.TgZ(77,"label",21),d._uU(78,"Note"),d.qZA(),d._UZ(79,"textarea",35),d.YNc(80,Lt,2,0,"p",0),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(81,"div",36),d.TgZ(82,"button",37),d.NdJ("click",function(){return e.onUpdate()}),d._uU(83,"Submit"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d._UZ(84,"app-footer"),d.qZA()),2&t&&(d.Q6J("ngIf",e.isSubmitted),d.xp6(5),d.Q6J("title",e.title)("canshowBreadCrumb",!0)("breadCrumbLinkItems",e.breadCrumbLinkItems),d.xp6(5),d.hij("Edit ",e.title,""),d.xp6(2),d.Q6J("link",e.backLink),d.xp6(2),d.Q6J("formGroup",e.addForm),d.xp6(7),d.Q6J("ngModel",e.contact)("data",e.contactList)("value",e.selectedId)("placeholder","Select Contact"),d.xp6(3),d.Q6J("fGroup",e.addForm),d.xp6(2),d.Q6J("fGroup",e.addForm),d.xp6(2),d.Q6J("fGroup",e.addForm),d.xp6(6),d.Q6J("ngIf",e.fCtrls.phoneNumber.dirty&&e.fCtrls.phoneNumber.invalid),d.xp6(6),d.Q6J("ngIf",e.fCtrls.email.dirty&&e.fCtrls.email.invalid),d.xp6(5),d.Q6J("ngModel",null),d.xp6(11),d.Q6J("ngIf",e.fCtrls.purposeOfContract.dirty&&e.fCtrls.purposeOfContract.invalid),d.xp6(6),d.Q6J("ngIf",e.fCtrls.startDate.dirty&&e.fCtrls.startDate.invalid),d.xp6(6),d.Q6J("ngIf",e.fCtrls.endDate.dirty&&e.fCtrls.endDate.invalid),d.xp6(6),d.Q6J("ngIf",e.fCtrls.dueDate.dirty&&e.fCtrls.dueDate.invalid),d.xp6(6),d.Q6J("ngIf",e.fCtrls.note.dirty&&e.fCtrls.note.invalid),d.xp6(2),d.Q6J("disabled",!e.addForm.valid))},directives:[a.O5,f.G,g.k,h.e,b.K,l._Y,l.JL,l.sg,at.c,l.JJ,l.u,v.a,l.Fj,l.EJ,l.YN,l.Kr,q.c,A.O],styles:[""]}),t}(),Mt=function(){var t=function(){function t(e){o(this,t),this._httpClient=e,this.url=p.A.CONTRACT_SCHEDULE_NOTIFCATIONS}return n(t,[{key:"sIndex",value:function(){return this._httpClient.get(this.url)}},{key:"sStore",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=Object.assign(Object.assign({},t),{isMultiple:e});return this._httpClient.post(this.url,i)}},{key:"sShow",value:function(t){return this._httpClient.get(this.url+"/"+t)}},{key:"sUpdate",value:function(t,e){return this._httpClient.patch(this.url+"/"+t,e)}},{key:"sDelete",value:function(t){return this._httpClient.delete(this.url+"/"+t)}},{key:"sSendNotifications",value:function(t){return this._httpClient.get(this.url+"/"+t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(d.LFG(u.eN))},t.\u0275prov=d.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t}();function Dt(t,e){1&t&&d._UZ(0,"v-loader")}function Yt(t,e){if(1&t&&(d.TgZ(0,"th",15),d._uU(1),d.qZA()),2&t){var i=e.$implicit;d.xp6(1),d.Oqu(i)}}function Et(t,e){if(1&t){var i=d.EpF();d.TgZ(0,"tr"),d.TgZ(1,"th",15),d.TgZ(2,"input",16),d.NdJ("change",function(t){var e=d.CHM(i).index;return d.oxw().onChangeCheckbox(t,e)}),d.qZA(),d.qZA(),d.TgZ(3,"td"),d._uU(4),d.qZA(),d.TgZ(5,"td"),d._uU(6),d.qZA(),d.TgZ(7,"td"),d._uU(8),d.qZA(),d.TgZ(9,"td"),d._uU(10),d.qZA(),d.TgZ(11,"td"),d._uU(12),d.qZA(),d.TgZ(13,"td"),d.TgZ(14,"button",20),d.NdJ("click",function(){var t=d.CHM(i).$implicit,e=d.oxw(),n=d.MAs(28);return e.showPopUpToSelectAnnouncemnets(n,t._id)}),d._uU(15,"Send"),d.qZA(),d.qZA(),d.qZA()}if(2&t){var n=e.$implicit,o=e.index;d.xp6(2),d.Q6J("checked",n.isChecked),d.xp6(2),d.Oqu(o+1),d.xp6(2),d.Oqu(n.surname),d.xp6(2),d.Oqu(n.name),d.xp6(2),d.Oqu(n.phoneNumber),d.xp6(2),d.Oqu(n.city)}}function Rt(t,e){if(1&t&&(d.TgZ(0,"option",36),d._uU(1),d.qZA()),2&t){var i=e.$implicit;d.s9C("value",i._id),d.xp6(1),d.Oqu(i.name)}}function Bt(t,e){if(1&t){var i=d.EpF();d.TgZ(0,"div",37),d.TgZ(1,"input",38),d.NdJ("change",function(){var t=d.CHM(i).index;return d.oxw(2).onChangeMessageMedia(t)}),d.qZA(),d.TgZ(2,"label",39),d._uU(3),d.qZA(),d.qZA()}if(2&t){var n=e.$implicit;d.xp6(1),d.s9C("value",n.label),d.s9C("id",n.id),d.xp6(1),d.s9C("for",n.id),d.xp6(1),d.Oqu(n.label)}}function Gt(t,e){if(1&t){var i=d.EpF();d.TgZ(0,"div",21),d.TgZ(1,"h4",22),d._uU(2,"Schedule Notification to Contacts"),d.qZA(),d.TgZ(3,"button",23),d.NdJ("click",function(){d.CHM(i);var t=d.oxw();return null==t.modalRef?null:t.modalRef.hide()}),d.TgZ(4,"span",24),d._uU(5,"\xd7"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(6,"div",25),d.TgZ(7,"form",26),d._UZ(8,"input",27),d.TgZ(9,"div",28),d.TgZ(10,"label",29),d._uU(11,"Select Announcement"),d.qZA(),d.TgZ(12,"select",30),d.TgZ(13,"option",31),d._uU(14,"-Select-"),d.qZA(),d.YNc(15,Rt,2,2,"option",32),d.qZA(),d.qZA(),d.TgZ(16,"div",28),d.TgZ(17,"label",29),d._uU(18,"Schedule Date"),d.qZA(),d._UZ(19,"input",33),d.qZA(),d.YNc(20,Bt,4,4,"div",34),d.TgZ(21,"div"),d.TgZ(22,"button",35),d.NdJ("click",function(){return d.CHM(i),d.oxw().sendScheduleNotification()}),d._uU(23,"Schedule"),d.qZA(),d.qZA(),d.qZA(),d.qZA()}if(2&t){var n=d.oxw();d.xp6(7),d.Q6J("formGroup",n.sendScheduleNotificationForm),d.xp6(8),d.Q6J("ngForOf",n.contractMsgFormatsList),d.xp6(5),d.Q6J("ngForOf",n.checkBoxesList),d.xp6(2),d.Q6J("disabled",!n.sendScheduleNotificationForm.valid)}}var Pt=function(t){return[t]},Ht=function(){var t=function(){function t(e,i,n,r,a){o(this,t),this._contractContactService=e,this.modalService=i,this._contractMsgFomratService=n,this._contractScheduleNotificationService=r,this._formBuilder=a,this.isSubmitted=!1,this.title="Send Schedule Messages for contracts",this.breadCrumbLinkItems=G.J.breadCrumbLinkItems,this.thCols=["Id","Surname","Name","Phone Number","Email","Schedule Messages"],this.backLink="/contract-management/schedule-notifications/",this.list=[],this.dtOptions={},this.dtTrigger=new B.xQ,this.sendScheduleNotificationForm=this._formBuilder.group({contractContactId:[""],contractMsgFormatId:["",l.kI.required],scheduleDate:[null,l.kI.required],sendNotificationVia:[null,l.kI.required]}),this.checkBoxesList=$.h.sendNotificationViaCheckboxesList,this.contractMsgFormatsList=[],this.isCheckedAll=!1}return n(t,[{key:"ngOnInit",value:function(){this.index(),this.dtOptions=E.Z.options}},{key:"onChangeMessageMedia",value:function(t){console.log("i:",t),this.checkBoxesList[t].isChecked=!this.checkBoxesList[t].isChecked}},{key:"fCtrls",get:function(){return this.sendScheduleNotificationForm.controls}},{key:"index",value:function(){var t=this;this.isSubmitted=!0,this.list=[],this._contractContactService.sIndex().subscribe(function(e){e&&e.data&&e.data.length&&(t.list=e.data.map(function(t){return Object.assign(Object.assign({},t),{isChecked:!1})}),t.dtTrigger.next()),t.isSubmitted=!1},function(){console.log("Error !"),N.error("No data found","Error !"),t.isSubmitted=!1})}},{key:"edit",value:function(){}},{key:"delete",value:function(t){var e=this;console.log("e:",t),this.isSubmitted=!0,this._contractContactService.sDelete(t).subscribe(function(t){console.log("res:",t),e.isSubmitted=!1,e.index(),R.Z.showSweetAlert("Deleted Successfully",!1)},function(t){console.log("err:",t),R.Z.showSweetAlert(t.error.message,!1),e.isSubmitted=!1})}},{key:"openModal",value:function(t){this.modalRef=this.modalService.show(t)}},{key:"showPopUpToSelectAnnouncemnets",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(e)this.selectedContactId=e,this.fCtrls.contractContactId.setValue(e),this.fCtrls.contractContactId.updateValueAndValidity();else if(0==this.list.filter(function(t){return 1==t.isChecked}).length)return N.error("Please select checkboxes","Error !"),!1;this.openModal(t),this.loadAnnouncements()}},{key:"loadAnnouncements",value:function(){var t=this;this.isSubmitted=!0,this.contractMsgFormatsList=[],this._contractMsgFomratService.sIndex().subscribe(function(e){e&&e.data&&e.data.length&&(t.contractMsgFormatsList=e.data),t.isSubmitted=!1},function(){console.log("Error !"),N.error("No data found","Error !"),t.isSubmitted=!1})}},{key:"sendScheduleNotification",value:function(){this.isSubmitted=!0,this.sendScheduleNotificationForm.controls.contractContactId.value?this.sendSingleNotification():this.sendMultipleNotifications()}},{key:"sendSingleNotification",value:function(){var t=this;console.log(this.checkBoxesList);var e=!1,i=!1,n=!1;this.checkBoxesList.map(function(t){t.isChecked&&("email"===t.id&&(e=!0),"sms"===t.id&&(i=!0),"whatsApp"===t.id&&(n=!0))});var o=Object.assign(Object.assign({},this.sendScheduleNotificationForm.value),{isSandEmail:e,isSandSMS:i,isSandWhatsapp:n});this._contractScheduleNotificationService.sStore(o).subscribe(function(e){console.log("res:",e),t.isSubmitted=!1,N.success("Notification sent successfully"),t.modalRef.hide()},function(e){console.log("err:",e),R.Z.showSweetAlert(e.error.message,!1),t.isSubmitted=!1})}},{key:"sendMultipleNotifications",value:function(){var t=this;console.log("sendMultipleNotifications");var e=this.list.filter(function(t){return 1==t.isChecked});if(0==e.length)return N.error("Please select checkboxes","Error !"),!1;var i=Object.assign(Object.assign({},this.sendScheduleNotificationForm.value),{selectedContractContactIds:e.map(function(t){return t._id})});this._contractScheduleNotificationService.sStore(i,!0).subscribe(function(e){console.log("res:",e),t.isSubmitted=!1,N.success("Notification sent successfully"),t.modalRef.hide()},function(e){console.log("err:",e),R.Z.showSweetAlert(e.error.message,!1),t.isSubmitted=!1})}},{key:"onChangeCheckbox",value:function(t,e){console.log("e:",t);var i=this.list[e];i.isChecked=!i.isChecked,i.isChecked||(this.isCheckedAll=!1)}},{key:"onToggleAllCheckBoxes",value:function(t){this.isCheckedAll=!!t.target.checked,console.log("e:=ALL==",t),this.list.forEach(this.isCheckedAll?function(t){t.isChecked=!0}:function(t){t.isChecked=!1})}},{key:"sendToAll",value:function(){}}]),t}();return t.\u0275fac=function(e){return new(e||t)(d.Y36(m),d.Y36(bt.tT),d.Y36(O),d.Y36(Mt),d.Y36(l.qu))},t.\u0275cmp=d.Xpm({type:t,selectors:[["app-send-contract-schedule-notifications"]],decls:29,vars:14,consts:[[4,"ngIf"],[1,"wrapper"],[1,"content-wrapper"],[3,"title","canshowBreadCrumb","breadCrumbLinkItems"],[1,"content"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"card-tools"],["type","button",1,"btn","btn-info","btn-sm","rounded-pill",3,"routerLink"],[1,"card-body"],[1,"table-responsive"],["type","button",1,"btn","btn-info","btn-sm","rounded-pill","mb-2",3,"click"],["datatable","",1,"table","table-striped","table-bordered","compact",3,"dtOptions","dtTrigger"],[1,"bg-info"],["scope","col"],["type","checkbox",3,"checked","change"],["scope","col",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],["template",""],["type","button",1,"btn","btn-info","btn-sm","rounded-pill",3,"click"],[1,"modal-header"],[1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"btn-close","close","pull-right",3,"click"],["aria-hidden","true",1,"visually-hidden"],[1,"modal-body"],[3,"formGroup"],["type","hidden","name","contractContactId","formControlName","contractContactId",1,"form-control"],[1,"form-group"],["for",""],["name","","id","","formControlName","contractMsgFormatId",1,"form-control"],["value",""],[3,"value",4,"ngFor","ngForOf"],["type","date","name","scheduleDate","formControlName","scheduleDate","min","2021-12-07",1,"form-control"],["class","form-check form-check-inline",4,"ngFor","ngForOf"],["type","button",1,"btn","btn-info","btn-sm","rounded-pill",3,"disabled","click"],[3,"value"],[1,"form-check","form-check-inline"],["formControlName","sendNotificationVia","type","checkbox",1,"form-check-input",3,"value","id","change"],[1,"form-check-label",3,"for"]],template:function(t,e){if(1&t){var i=d.EpF();d.YNc(0,Dt,1,0,"v-loader",0),d.TgZ(1,"div",1),d._UZ(2,"app-header"),d._UZ(3,"app-sidebar"),d.TgZ(4,"div",2),d._UZ(5,"app-content-header",3),d.TgZ(6,"section",4),d.TgZ(7,"div",5),d.TgZ(8,"div",6),d.TgZ(9,"h3",7),d._uU(10),d.qZA(),d.TgZ(11,"div",8),d.TgZ(12,"button",9),d._uU(13,"Back"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(14,"div",10),d.TgZ(15,"div",11),d.TgZ(16,"button",12),d.NdJ("click",function(){d.CHM(i);var t=d.MAs(28);return e.showPopUpToSelectAnnouncemnets(t)}),d._uU(17,"Send To All"),d.qZA(),d.TgZ(18,"table",13),d.TgZ(19,"thead",14),d.TgZ(20,"tr"),d.TgZ(21,"th",15),d.TgZ(22,"input",16),d.NdJ("change",function(t){return e.onToggleAllCheckBoxes(t)}),d.qZA(),d.qZA(),d.YNc(23,Yt,2,1,"th",17),d.qZA(),d.qZA(),d.TgZ(24,"tbody"),d.YNc(25,Et,16,6,"tr",18),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d._UZ(26,"app-footer"),d.qZA(),d.YNc(27,Gt,24,4,"ng-template",null,19,d.W1O)}2&t&&(d.Q6J("ngIf",e.isSubmitted),d.xp6(5),d.Q6J("title",e.title)("canshowBreadCrumb",!0)("breadCrumbLinkItems",e.breadCrumbLinkItems),d.xp6(1),d.Q6J("@slideFromRight",void 0),d.xp6(4),d.hij(" List ",e.title,""),d.xp6(2),d.Q6J("routerLink",d.VKq(12,Pt,e.backLink)),d.xp6(6),d.Q6J("dtOptions",e.dtOptions)("dtTrigger",e.dtTrigger),d.xp6(4),d.Q6J("checked",e.isCheckedAll),d.xp6(1),d.Q6J("ngForOf",e.thCols),d.xp6(2),d.Q6J("ngForOf",e.list))},directives:[a.O5,f.G,g.k,h.e,Z.rH,ht.G,a.sg,q.c,A.O,l._Y,l.JL,l.sg,l.Fj,l.JJ,l.u,l.EJ,l.YN,l.Kr,l.Wl],styles:[""],data:{animation:[(0,Y.X$)("slideFromRight",[(0,Y.eR)("void=>*",[(0,Y.oB)({opacity:0,transform:"translateX(100%)"}),(0,Y.jt)(".8s",(0,Y.oB)({opacity:1,transform:"translateX(0)"}))])])]}}),t}();function jt(t,e){1&t&&d._UZ(0,"v-loader")}function Vt(t,e){if(1&t){var i=d.EpF();d.TgZ(0,"tr"),d.TgZ(1,"td"),d._uU(2),d.qZA(),d.TgZ(3,"td"),d._uU(4),d.qZA(),d.TgZ(5,"td"),d._uU(6),d.qZA(),d.TgZ(7,"td"),d._uU(8),d.qZA(),d.TgZ(9,"td"),d._uU(10,"-"),d.qZA(),d.TgZ(11,"td"),d.TgZ(12,"v-btn",16),d.NdJ("actionEvent",function(t){return d.CHM(i),d.oxw(2).delete(t)}),d.qZA(),d.qZA(),d.qZA()}if(2&t){var n=e.$implicit,o=e.index;d.xp6(2),d.Oqu(o+1),d.xp6(2),d.Oqu(n.scheduleDate),d.xp6(2),d.Oqu(n.contractMsgFormatId.name),d.xp6(2),d.Oqu(null==n.contact?null:n.contact.name),d.xp6(4),d.Q6J("actionValue",n._id)}}function Xt(t,e){if(1&t&&(d.TgZ(0,"tbody"),d.YNc(1,Vt,13,5,"tr",15),d.qZA()),2&t){var i=d.oxw();d.xp6(1),d.Q6J("ngForOf",i.list)}}var $t,Kt,zt=function(t){return[t]},Wt=[{path:"msg-formats",component:X},{path:"msg-formats/create",component:L},{path:"msg-formats/:id/edit",component:D},{path:"contacts/bulk-import-contacts",component:F},{path:"contacts/create",component:ft},{path:"contacts/:id",component:S},{path:"contacts/:id/edit",component:Qt},{path:"schedule-notifications",component:($t=function(){function t(e,i){o(this,t),this.modalService=e,this._contractScheduleNotificationService=i,this.isSubmitted=!1,this.title="Contract Schedule Messages",this.breadCrumbLinkItems=c.breadCrumbLinkItems,this.link="/contract-management/schedule-notifications/send",this.list=[],this.dtOptions={},this.dtTrigger=new B.xQ}return n(t,[{key:"ngOnInit",value:function(){this.index(),this.dtOptions=E.Z.options}},{key:"index",value:function(){var t=this;this.isSubmitted=!0,this.list=[],this._contractScheduleNotificationService.sIndex().subscribe(function(e){e&&e.data&&e.data.length&&(t.list=e.data,t.dtTrigger.next()),t.isSubmitted=!1},function(e){console.log("Error !"),N.error("No data found","Error !"),t.isSubmitted=!1})}},{key:"edit",value:function(){}},{key:"delete",value:function(t){var e=this;console.log("e:",t),this.isSubmitted=!0,this._contractScheduleNotificationService.sDelete(t).subscribe(function(t){console.log("res:",t),e.isSubmitted=!1,e.index(),R.Z.showSweetAlert("Deleted Successfully",!1)},function(t){console.log("err:",t),R.Z.showSweetAlert(t.error.message,!1),e.isSubmitted=!1})}}]),t}(),$t.\u0275fac=function(t){return new(t||$t)(d.Y36(bt.tT),d.Y36(Mt))},$t.\u0275cmp=d.Xpm({type:$t,selectors:[["app-list-contract-schedule-notifications"]],decls:33,vars:12,consts:[[4,"ngIf"],[1,"wrapper"],[1,"content-wrapper"],[3,"title","canshowBreadCrumb","breadCrumbLinkItems"],[1,"content"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"card-tools"],["type","button",1,"btn","btn-info","btn-sm","rounded-pill",3,"routerLink"],[1,"card-body"],[1,"table-responsive"],["datatable","",1,"table","table-striped","table-bordered","compact",3,"dtOptions","dtTrigger"],[1,"bg-info"],["scope","col"],[4,"ngFor","ngForOf"],["actionType","deleteclick",3,"actionValue","actionEvent"]],template:function(t,e){1&t&&(d.YNc(0,jt,1,0,"v-loader",0),d.TgZ(1,"div",1),d._UZ(2,"app-header"),d._UZ(3,"app-sidebar"),d.TgZ(4,"div",2),d._UZ(5,"app-content-header",3),d.TgZ(6,"section",4),d.TgZ(7,"div",5),d.TgZ(8,"div",6),d.TgZ(9,"h3",7),d._uU(10),d.qZA(),d.TgZ(11,"div",8),d.TgZ(12,"button",9),d._uU(13,"Schedule New Messages"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(14,"div",10),d.TgZ(15,"div",11),d.TgZ(16,"table",12),d.TgZ(17,"thead",13),d.TgZ(18,"tr"),d.TgZ(19,"th",14),d._uU(20,"ID"),d.qZA(),d.TgZ(21,"th",14),d._uU(22,"Schedule Date"),d.qZA(),d.TgZ(23,"th",14),d._uU(24,"Schedule Message"),d.qZA(),d.TgZ(25,"th",14),d._uU(26,"To Contact"),d.qZA(),d.TgZ(27,"th",14),d._uU(28,"Sent Status"),d.qZA(),d.TgZ(29,"th",14),d._uU(30,"Actions"),d.qZA(),d.qZA(),d.qZA(),d.YNc(31,Xt,2,1,"tbody",0),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d._UZ(32,"app-footer"),d.qZA()),2&t&&(d.Q6J("ngIf",e.isSubmitted),d.xp6(5),d.Q6J("title",e.title)("canshowBreadCrumb",!0)("breadCrumbLinkItems",e.breadCrumbLinkItems),d.xp6(1),d.Q6J("@slideFromRight",void 0),d.xp6(4),d.hij(" List ",e.title,""),d.xp6(2),d.Q6J("routerLink",d.VKq(10,zt,e.link)),d.xp6(4),d.Q6J("dtOptions",e.dtOptions)("dtTrigger",e.dtTrigger),d.xp6(15),d.Q6J("ngIf",e.list&&e.list.length))},directives:[a.O5,f.G,g.k,h.e,Z.rH,ht.G,q.c,A.O,a.sg,b.K],styles:[""],data:{animation:[(0,Y.X$)("slideFromRight",[(0,Y.eR)("void=>*",[(0,Y.oB)({opacity:0,transform:"translateX(100%)"}),(0,Y.jt)(".8s",(0,Y.oB)({opacity:1,transform:"translateX(0)"}))])])]}}),$t)},{path:"schedule-notifications/send",component:Ht},{path:"contacts",component:Ut},{path:"",component:ot,pathMatch:"full"}],te=function(){var t=function t(){o(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=d.oAB({type:t}),t.\u0275inj=d.cJS({imports:[[Z.Bz.forChild(Wt)],Z.Bz]}),t}(),ee=((Kt=function t(){o(this,t)}).\u0275fac=function(t){return new(t||Kt)},Kt.\u0275mod=d.oAB({type:Kt}),Kt.\u0275inj=d.cJS({imports:[[a.ez,te,s.m,at.I]]}),Kt)}}])}();