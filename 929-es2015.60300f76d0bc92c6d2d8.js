(self.webpackChunkschool_ang_proj=self.webpackChunkschool_ang_proj||[]).push([[929],{38929:function(t,e,i){"use strict";i.r(e),i.d(e,{GroupMasterModule:function(){return v}});var o=i(61116),n=i(64762),s=i(71397),r=i(83559),l=i(85907),c=i(86659),a=i(54733),d=i(22501),u=i.n(d),g=i(87368),p=i(75201),h=i(35703),m=i(11462),b=i(22041);const Z=["myModal"];function f(t,e){1&t&&g._UZ(0,"v-loader")}function T(t,e){if(1&t&&(g.TgZ(0,"th",22),g._uU(1),g.qZA()),2&t){const t=e.$implicit;g.xp6(1),g.Oqu(t)}}function x(t,e){if(1&t){const t=g.EpF();g.TgZ(0,"tr"),g.TgZ(1,"td"),g._uU(2),g.qZA(),g.TgZ(3,"td"),g._uU(4),g.qZA(),g.TgZ(5,"td"),g.TgZ(6,"button",23),g.NdJ("click",function(){const e=g.CHM(t),i=e.$implicit,o=e.index;return g.oxw().onClickEdit(i,o)}),g._uU(7,"Edit"),g.qZA(),g.TgZ(8,"button",24),g.NdJ("click",function(){const e=g.CHM(t),i=e.$implicit,o=e.index;return g.oxw().onClicdelete(i,o)}),g._uU(9,"Delete"),g.qZA(),g.qZA(),g.qZA()}if(2&t){const t=e.$implicit,i=e.index;g.xp6(2),g.Oqu(i+1),g.xp6(2),g.Oqu(t.groupName)}}let A=(()=>{class t{constructor(t,e,i){this.groupSettingService=t,this.modalService=e,this.loaction=i,this.isSubmitted=!1,this.list=[],this.groupName="",this.deleteIndex=null,this.dtOptions={},this.dtTrigger=new r.xQ,this.thCols=["Id","Group Name","Actions"]}ngOnInit(){this.index(),this.dtOptions=s.Z.optionsWithoutDownload}index(){this.isSubmitted=!0,this.list=[],this.groupSettingService.sIndex().subscribe(t=>{t&&t.data&&t.data.length&&(this.isSubmitted=!1,this.list=t.data,this.dtTrigger.next(),this.rerender()),this.isSubmitted=!1},t=>{console.log(t),l.error("No data found","Error !"),this.isSubmitted=!1})}rerender(){try{this.dtElement.dtInstance.then(t=>{t.destroy(),this.dtTrigger.next()})}catch(t){console.log(t)}}delete(t){console.log("e:",t),this.isSubmitted=!0,this.groupSettingService.sDelete(t).subscribe(t=>{console.log("res:",t),this.isSubmitted=!1,this.index(),c.Z.showSweetAlert("Deleted Successfully",!1),setTimeout(()=>{location.reload()},300)},t=>{console.log("err:",t),c.Z.showSweetAlert(t.error.message,!1),this.isSubmitted=!1})}onClickHandlier(){this.modalService.open(this.myModal,{size:"md"})}Add(){const t={groupName:this.groupName};this.isSubmitted=!0,this.groupSettingService.sStore(t).subscribe(t=>{this.isSubmitted=!1,this.modalService.close(this.myModal),this.index(),setTimeout(()=>{location.reload()},300)},t=>{this.isSubmitted=!1})}closeModal(){this.modalService.close(this.myModal)}onClickEdit(t,e){this.groupName=t.groupName,this.modalService.open(this.myModal,{size:"md"})}onClicdelete(t,e){return(0,n.mG)(this,void 0,void 0,function*(){this.isSubmitted=!1,u().fire({title:"Are you sure you want to remove?",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"Cancel"}).then(e=>{this.groupSettingService.sDelete(t._id).subscribe(e=>{this.deleteIndex=t._id,this.isSubmitted=!1,this.index(),c.Z.showSweetAlert("Deleted Successfully",!1),setTimeout(()=>{location.reload()},300)},t=>{c.Z.showSweetAlert(t.error.message,!1),this.isSubmitted=!1})})})}}return t.\u0275fac=function(e){return new(e||t)(g.Y36(p.M),g.Y36(h.gk),g.Y36(o.Ye))},t.\u0275cmp=g.Xpm({type:t,selectors:[["app-group-master"]],viewQuery:function(t,e){if(1&t&&(g.Gf(Z,5),g.Gf(a.G,5)),2&t){let t;g.iGM(t=g.CRH())&&(e.myModal=t.first),g.iGM(t=g.CRH())&&(e.dtElement=t.first)}},decls:35,vars:8,consts:[[4,"ngIf"],[1,"wrapper"],[1,"content-wrapper","ml-0"],[1,"content"],[1,"card"],[1,"card-header"],[1,"row"],[1,"col-6"],[1,"card-title"],[1,"col-6","text-right"],["type","button",1,"btn","btn-sm","shadow","px-3","mx-1","rounded-pill","bg-primary",3,"click"],[1,"card-body"],[1,"table-responsive"],["datatable","",1,"table","table-striped","table-bordered","compact",3,"dtOptions","dtTrigger"],[1,"bg-info"],["scope","col",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],["myModal",""],["for",""],["type","text",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn","btn-primary","mr-1",3,"click"],[1,"btn","btn-danger",3,"click"],["scope","col"],["type","button",1,"btn","btn-primary","btn-sm","rounded-pill",3,"click"],["type","button",1,"btn","btn-danger","btn-sm","rounded-pill",3,"click"]],template:function(t,e){1&t&&(g.YNc(0,f,1,0,"v-loader",0),g.TgZ(1,"div",1),g.TgZ(2,"div",2),g.TgZ(3,"section",3),g.TgZ(4,"div",4),g.TgZ(5,"div",5),g.TgZ(6,"div",6),g.TgZ(7,"div",7),g.TgZ(8,"h3",8),g._uU(9),g.qZA(),g.qZA(),g.TgZ(10,"div",9),g.TgZ(11,"button",10),g.NdJ("click",function(){return e.onClickHandlier()}),g._uU(12),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(13,"div",11),g.TgZ(14,"div",12),g.TgZ(15,"table",13),g.TgZ(16,"thead",14),g.TgZ(17,"tr"),g.YNc(18,T,2,1,"th",15),g.qZA(),g.qZA(),g.TgZ(19,"tbody"),g.YNc(20,x,10,2,"tr",16),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(21,"modal",null,17),g.TgZ(23,"modal-header"),g.TgZ(24,"h1"),g._uU(25,"Add Group"),g.qZA(),g.qZA(),g.TgZ(26,"modal-content"),g.TgZ(27,"label",18),g._uU(28,"Group Name"),g.qZA(),g.TgZ(29,"input",19),g.NdJ("ngModelChange",function(t){return e.groupName=t}),g.qZA(),g.qZA(),g.TgZ(30,"modal-footer"),g.TgZ(31,"button",20),g.NdJ("click",function(){return e.Add()}),g._uU(32,"Add"),g.qZA(),g.TgZ(33,"button",21),g.NdJ("click",function(){return e.closeModal()}),g._uU(34,"close"),g.qZA(),g.qZA(),g.qZA()),2&t&&(g.Q6J("ngIf",e.isSubmitted),g.xp6(9),g.Oqu("Group List"),g.xp6(3),g.hij(" ","Add Group"," "),g.xp6(3),g.Q6J("dtOptions",e.dtOptions)("dtTrigger",e.dtTrigger),g.xp6(3),g.Q6J("ngForOf",e.thCols),g.xp6(2),g.Q6J("ngForOf",e.list),g.xp6(9),g.Q6J("ngModel",e.groupName))},directives:[o.O5,a.G,o.sg,h.zS,h.Rb,h.Ef,m.Fj,m.JJ,m.On,h.YI,b.O],styles:[""]}),t})();var S=i(89264),q=i(47635);let v=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=g.oAB({type:t}),t.\u0275inj=g.cJS({imports:[[o.ez,S.Bz.forChild([{path:"",component:A}]),q.m,h.zk]]}),t})()},86659:function(t,e,i){"use strict";i.d(e,{Z:function(){return s}});var o=i(22501),n=i.n(o);class s{static showSweetAlert(t,e=!0){n().fire({position:"top-end",icon:e?"success":"error",title:t,showConfirmButton:!1,timer:3e3})}}},71397:function(t,e){"use strict";e.Z=(()=>{class t{}return t.options={bDestroy:!0,multiple:!0,pagingType:"full_numbers",pageLength:5,lengthMenu:[5,10,25],processing:!0,language:{search:"Quick Search:"},fnDrawCallback:function(){$("input[type='search']").attr("id","searchBox"),$("#dialPlanListTable").css("cssText","margin-top: 0px !important;"),$("select[name='dialPlanListTable_length'], #searchBox").removeClass("input-sm"),$("#searchBox").css("width","330px").focus(),$("#dialPlanListTable_filter").removeClass("dataTables_filter")},dom:"Bfrtip",buttons:[{extend:"excel",className:"btn-success1",text:"Download Excel"}]},t.optionsWithoutDownload={bDestroy:!0,multiple:!0,pagingType:"full_numbers",pageLength:5,lengthMenu:[5,10,25],processing:!0,language:{search:"Quick Search:"},fnDrawCallback:function(){$("input[type='search']").attr("id","searchBox"),$("#dialPlanListTable").css("cssText","margin-top: 0px !important;"),$("select[name='dialPlanListTable_length'], #searchBox").removeClass("input-sm"),$("#searchBox").css("width","330px").focus(),$("#dialPlanListTable_filter").removeClass("dataTables_filter")}},t})()}}]);