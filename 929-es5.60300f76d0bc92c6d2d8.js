!function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function n(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}(self.webpackChunkschool_ang_proj=self.webpackChunkschool_ang_proj||[]).push([[929],{38929:function(e,i,o){"use strict";o.r(i),o.d(i,{GroupMasterModule:function(){return q}});var r=o(61116),s=o(64762),l=o(71397),a=o(83559),c=o(85907),u=o(86659),d=o(54733),g=o(22501),p=o.n(g),f=o(87368),m=o(75201),h=o(35703),b=o(11462),Z=o(22041),v=["myModal"];function T(t,e){1&t&&f._UZ(0,"v-loader")}function x(t,e){if(1&t&&(f.TgZ(0,"th",22),f._uU(1),f.qZA()),2&t){var n=e.$implicit;f.xp6(1),f.Oqu(n)}}function y(t,e){if(1&t){var n=f.EpF();f.TgZ(0,"tr"),f.TgZ(1,"td"),f._uU(2),f.qZA(),f.TgZ(3,"td"),f._uU(4),f.qZA(),f.TgZ(5,"td"),f.TgZ(6,"button",23),f.NdJ("click",function(){var t=f.CHM(n),e=t.$implicit,i=t.index;return f.oxw().onClickEdit(e,i)}),f._uU(7,"Edit"),f.qZA(),f.TgZ(8,"button",24),f.NdJ("click",function(){var t=f.CHM(n),e=t.$implicit,i=t.index;return f.oxw().onClicdelete(e,i)}),f._uU(9,"Delete"),f.qZA(),f.qZA(),f.qZA()}if(2&t){var i=e.$implicit,o=e.index;f.xp6(2),f.Oqu(o+1),f.xp6(2),f.Oqu(i.groupName)}}var A,S=function(){var e=function(){function e(n,i,o){t(this,e),this.groupSettingService=n,this.modalService=i,this.loaction=o,this.isSubmitted=!1,this.list=[],this.groupName="",this.deleteIndex=null,this.dtOptions={},this.dtTrigger=new a.xQ,this.thCols=["Id","Group Name","Actions"]}return n(e,[{key:"ngOnInit",value:function(){this.index(),this.dtOptions=l.Z.optionsWithoutDownload}},{key:"index",value:function(){var t=this;this.isSubmitted=!0,this.list=[],this.groupSettingService.sIndex().subscribe(function(e){e&&e.data&&e.data.length&&(t.isSubmitted=!1,t.list=e.data,t.dtTrigger.next(),t.rerender()),t.isSubmitted=!1},function(e){console.log(e),c.error("No data found","Error !"),t.isSubmitted=!1})}},{key:"rerender",value:function(){var t=this;try{this.dtElement.dtInstance.then(function(e){e.destroy(),t.dtTrigger.next()})}catch(e){console.log(e)}}},{key:"delete",value:function(t){var e=this;console.log("e:",t),this.isSubmitted=!0,this.groupSettingService.sDelete(t).subscribe(function(t){console.log("res:",t),e.isSubmitted=!1,e.index(),u.Z.showSweetAlert("Deleted Successfully",!1),setTimeout(function(){location.reload()},300)},function(t){console.log("err:",t),u.Z.showSweetAlert(t.error.message,!1),e.isSubmitted=!1})}},{key:"onClickHandlier",value:function(){this.modalService.open(this.myModal,{size:"md"})}},{key:"Add",value:function(){var t=this,e={groupName:this.groupName};this.isSubmitted=!0,this.groupSettingService.sStore(e).subscribe(function(e){t.isSubmitted=!1,t.modalService.close(t.myModal),t.index(),setTimeout(function(){location.reload()},300)},function(e){t.isSubmitted=!1})}},{key:"closeModal",value:function(){this.modalService.close(this.myModal)}},{key:"onClickEdit",value:function(t,e){this.groupName=t.groupName,this.modalService.open(this.myModal,{size:"md"})}},{key:"onClicdelete",value:function(t,e){return(0,s.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var n=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.isSubmitted=!1,p().fire({title:"Are you sure you want to remove?",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"Cancel"}).then(function(e){n.groupSettingService.sDelete(t._id).subscribe(function(e){n.deleteIndex=t._id,n.isSubmitted=!1,n.index(),u.Z.showSweetAlert("Deleted Successfully",!1),setTimeout(function(){location.reload()},300)},function(t){u.Z.showSweetAlert(t.error.message,!1),n.isSubmitted=!1})});case 1:case"end":return e.stop()}},e,this)}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(f.Y36(m.M),f.Y36(h.gk),f.Y36(r.Ye))},e.\u0275cmp=f.Xpm({type:e,selectors:[["app-group-master"]],viewQuery:function(t,e){var n;(1&t&&(f.Gf(v,5),f.Gf(d.G,5)),2&t)&&(f.iGM(n=f.CRH())&&(e.myModal=n.first),f.iGM(n=f.CRH())&&(e.dtElement=n.first))},decls:35,vars:8,consts:[[4,"ngIf"],[1,"wrapper"],[1,"content-wrapper","ml-0"],[1,"content"],[1,"card"],[1,"card-header"],[1,"row"],[1,"col-6"],[1,"card-title"],[1,"col-6","text-right"],["type","button",1,"btn","btn-sm","shadow","px-3","mx-1","rounded-pill","bg-primary",3,"click"],[1,"card-body"],[1,"table-responsive"],["datatable","",1,"table","table-striped","table-bordered","compact",3,"dtOptions","dtTrigger"],[1,"bg-info"],["scope","col",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],["myModal",""],["for",""],["type","text",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn","btn-primary","mr-1",3,"click"],[1,"btn","btn-danger",3,"click"],["scope","col"],["type","button",1,"btn","btn-primary","btn-sm","rounded-pill",3,"click"],["type","button",1,"btn","btn-danger","btn-sm","rounded-pill",3,"click"]],template:function(t,e){1&t&&(f.YNc(0,T,1,0,"v-loader",0),f.TgZ(1,"div",1),f.TgZ(2,"div",2),f.TgZ(3,"section",3),f.TgZ(4,"div",4),f.TgZ(5,"div",5),f.TgZ(6,"div",6),f.TgZ(7,"div",7),f.TgZ(8,"h3",8),f._uU(9),f.qZA(),f.qZA(),f.TgZ(10,"div",9),f.TgZ(11,"button",10),f.NdJ("click",function(){return e.onClickHandlier()}),f._uU(12),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.TgZ(13,"div",11),f.TgZ(14,"div",12),f.TgZ(15,"table",13),f.TgZ(16,"thead",14),f.TgZ(17,"tr"),f.YNc(18,x,2,1,"th",15),f.qZA(),f.qZA(),f.TgZ(19,"tbody"),f.YNc(20,y,10,2,"tr",16),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.TgZ(21,"modal",null,17),f.TgZ(23,"modal-header"),f.TgZ(24,"h1"),f._uU(25,"Add Group"),f.qZA(),f.qZA(),f.TgZ(26,"modal-content"),f.TgZ(27,"label",18),f._uU(28,"Group Name"),f.qZA(),f.TgZ(29,"input",19),f.NdJ("ngModelChange",function(t){return e.groupName=t}),f.qZA(),f.qZA(),f.TgZ(30,"modal-footer"),f.TgZ(31,"button",20),f.NdJ("click",function(){return e.Add()}),f._uU(32,"Add"),f.qZA(),f.TgZ(33,"button",21),f.NdJ("click",function(){return e.closeModal()}),f._uU(34,"close"),f.qZA(),f.qZA(),f.qZA()),2&t&&(f.Q6J("ngIf",e.isSubmitted),f.xp6(9),f.Oqu("Group List"),f.xp6(3),f.hij(" ","Add Group"," "),f.xp6(3),f.Q6J("dtOptions",e.dtOptions)("dtTrigger",e.dtTrigger),f.xp6(3),f.Q6J("ngForOf",e.thCols),f.xp6(2),f.Q6J("ngForOf",e.list),f.xp6(9),f.Q6J("ngModel",e.groupName))},directives:[r.O5,d.G,r.sg,h.zS,h.Rb,h.Ef,b.Fj,b.JJ,b.On,h.YI,Z.O],styles:[""]}),e}(),w=o(89264),k=o(47635),q=((A=function e(){t(this,e)}).\u0275fac=function(t){return new(t||A)},A.\u0275mod=f.oAB({type:A}),A.\u0275inj=f.cJS({imports:[[r.ez,w.Bz.forChild([{path:"",component:S}]),k.m,h.zk]]}),A)},86659:function(e,i,o){"use strict";o.d(i,{Z:function(){return l}});var r=o(22501),s=o.n(r),l=function(){function e(){t(this,e)}return n(e,null,[{key:"showSweetAlert",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];s().fire({position:"top-end",icon:e?"success":"error",title:t,showConfirmButton:!1,timer:3e3})}}]),e}()},71397:function(e,n){"use strict";var i;n.Z=((i=function e(){t(this,e)}).options={bDestroy:!0,multiple:!0,pagingType:"full_numbers",pageLength:5,lengthMenu:[5,10,25],processing:!0,language:{search:"Quick Search:"},fnDrawCallback:function(){$("input[type='search']").attr("id","searchBox"),$("#dialPlanListTable").css("cssText","margin-top: 0px !important;"),$("select[name='dialPlanListTable_length'], #searchBox").removeClass("input-sm"),$("#searchBox").css("width","330px").focus(),$("#dialPlanListTable_filter").removeClass("dataTables_filter")},dom:"Bfrtip",buttons:[{extend:"excel",className:"btn-success1",text:"Download Excel"}]},i.optionsWithoutDownload={bDestroy:!0,multiple:!0,pagingType:"full_numbers",pageLength:5,lengthMenu:[5,10,25],processing:!0,language:{search:"Quick Search:"},fnDrawCallback:function(){$("input[type='search']").attr("id","searchBox"),$("#dialPlanListTable").css("cssText","margin-top: 0px !important;"),$("select[name='dialPlanListTable_length'], #searchBox").removeClass("input-sm"),$("#searchBox").css("width","330px").focus(),$("#dialPlanListTable_filter").removeClass("dataTables_filter")}},i)}}])}();